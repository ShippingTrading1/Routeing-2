(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1907:function(e,t,a){"use strict";a.d(t,"a",(function(){return ge}));a(10),a(11);var r=a(0),o=a.n(r),n=a(97),l=a(61),i=a(73),s=a(76),c=a(65),u=a(6),d=a(47),p=a(236),m=a(1),y=a(33),f=a(32),O=a(94),T=a(7),E=a(112),b=a(95),C=a(41),P=a(3),g=a(15),_=a(80),R=a(27),S=a(4),I=a(14),N=a(2486),v=a(2088),h=a(2487),D=a(2362),L=a(2488),A=a(78);const F=I.a.get(P.a.IInternationalization),{common:j,dates:G}=F.lang(),k=e=>[{label:G.pastHour,filters:[x(e,S.c.GREATER_THAN_OR_EQUAL,A.a.getDateStringWithoutUTC(Object(N.a)(new Date,1)),G.pastHour)]},{label:G.past24Hours,filters:[x(e,S.c.GREATER_THAN_OR_EQUAL,A.a.getDateStringWithoutUTC(Object(v.a)(new Date,1)),G.past24Hours)]},{label:G.pastWeek,filters:[x(e,S.c.GREATER_THAN_OR_EQUAL,A.a.getDateStringWithoutUTC(Object(h.a)(new Date,1)),G.pastWeek)]},{label:G.pastMonth,filters:[x(e,S.c.GREATER_THAN_OR_EQUAL,A.a.getDateStringWithoutUTC(Object(D.a)(new Date,1)),G.pastMonth)]},{label:G.pastYear,filters:[x(e,S.c.GREATER_THAN_OR_EQUAL,A.a.getDateStringWithoutUTC(Object(L.a)(new Date,1)),G.pastYear)]}],U=e=>[{label:j.future,filters:[{field:"eventLogDate",filterGroupCode:e,queryParamName:"eventLogs.eventLogDate",optionCode:e+j.future,operator:S.c.GREATER_THAN_OR_EQUAL,type:S.d.DATE,value:A.a.getDateStringWithoutUTC(new Date),filterCode:e+"_EVENT_LOG_DATE"}]}];function x(e,t,a,r){return{field:"eventLogDate",filterGroupCode:e,queryParamName:"eventLogs.eventLogDate",optionCode:e+r,operator:t,type:S.d.DATE,value:a}}const H=e=>({options:k(e),default:U(e),all:[...U(e),...k(e)]});var M=a(24),q=a(23),w=a(43),K=a(66),B=a(96),z=a(423);const V=I.a.get(P.a.IInternationalization),{model:Y,common:X,portCall:Q}=V.lang(),W=(e,t)=>{const a={field:"userId",filterGroupCode:e,queryParamName:"voyage.voyageHeader.operator.key",operator:S.c.EQUALS,type:S.d.STRING,value:t};return[{label:Q.myPortCalls,filters:[a]}]},Z=e=>{const t={field:"voyage.vessel.key",filterGroupCode:e,operator:S.c.IN,type:S.d.STRING};return[{label:Y.vessel,filterObjectValuePath:"key",typeaheadProps:{type:m.a.vessel,objectPaths:["vesselName"],includeDisabledQuery:!0},filters:[t]}]},$=e=>[{label:Y.voyage,filterObjectValuePath:"referenceNo",typeaheadProps:{type:m.a.voyageheader,objectPaths:["referenceNo"],query:"filter=referenceNo(NOTNULL)"},filters:[z.f]}],J=e=>{const t={field:"port.key",filterGroupCode:e,operator:S.c.IN,type:S.d.STRING};return[{label:Y.port,filterObjectValuePath:"key",typeaheadProps:{type:m.a.port,objectPaths:["portName"],query:B.d},filters:[t]}]},ee=e=>{const t={field:"reasonForCall.key",filterGroupCode:e,operator:S.c.IN,type:S.d.STRING};return[{label:Y.reasonForCall,filterObjectValuePath:"key",typeaheadProps:{type:m.a.reasonforcall,objectPaths:["reasonForCallDesc"]},filters:[t]}]},te=e=>{const t={field:"voyage.voyageHeader.businessUnit.key",filterGroupCode:e,operator:S.c.IN,type:S.d.STRING};return[{label:Y.businessUnit,filterObjectValuePath:"key",typeaheadProps:{type:m.a.businessunit,objectPaths:["businessUnitName"],includeDisabledQuery:!0},filters:[t]}]},ae=e=>{const t={field:"voyage.voyageHeader.leg.key",filterGroupCode:e,operator:S.c.IN,type:S.d.STRING};return[{label:Y.trade,filterObjectValuePath:"key",typeaheadProps:{type:m.a.leg,objectPaths:["legDesc"]},filters:[t]}]},re=e=>{const t={field:"terminal.key",filterGroupCode:e,operator:S.c.IN,type:S.d.STRING,optionCode:"terminalFilter"},a={field:"master.key",filterGroupCode:e,operator:S.c.IN,type:S.d.STRING,optionCode:"masterFilter"},r={field:"voyage.voyageHeader.operator.key",filterGroupCode:e,operator:S.c.IN,type:S.d.STRING,optionCode:"operatorResponsibleFilter"},o={field:"voyage.voyageHeader.charteringResponsible.key",filterGroupCode:e,operator:S.c.IN,type:S.d.STRING,optionCode:"charteringResponsibleFilter"};return[{label:Y.terminal,filterObjectValuePath:"key",typeaheadProps:{label:Y.terminal,type:m.a.terminal,objectPaths:["terminalName"],fields:{terminalName:"*",port:"*"}},filters:[t]},{label:X.master,filterObjectValuePath:"key",typeaheadProps:{label:X.master,type:m.a.individual,objectPaths:["individualName"],includeDisabledQuery:!0},filters:[a]},{label:Y.responsibleOperator,filterObjectValuePath:"key",typeaheadProps:{label:Y.responsibleOperator,type:m.a.user,objectPaths:["userName"]},filters:[r]},{label:Y.responsibleCharterer,filterObjectValuePath:"key",typeaheadProps:{label:Y.responsibleCharterer,type:m.a.user,objectPaths:["userName"]},filters:[o]}]},oe=({reactKeyPrefix:e,groupCode:t})=>{var a;const[r]=Object(u.a)([P.a.IInternationalization]),{model:n,common:l,portCall:i}=r.getLanguageFile(),s=null!==(a=Object(q.a)(f.a))&&void 0!==a?a:new w.a({}),c=!Object(K.c)([b.a.VESSEL],s);return o.a.createElement(o.a.Fragment,null,c&&o.a.createElement(M.a,{reactKeyPrefix:e+"-my-port-calls",configs:W(t,s.key),type:S.b.BOOLEAN,label:i.myPortCalls,filterCode:t+i.myPortCalls,clearOnMount:!1}),o.a.createElement(M.a,{reactKeyPrefix:e+"-date",configs:H(t).all,type:S.b.RADIO,label:l.date,filterCode:t+"_EVENT_LOG_DATE",clearOnMount:!0}),o.a.createElement(M.a,{reactKeyPrefix:e+"-vessel",configs:Z(t),type:S.b.TYPEAHEAD,label:n.vessel,filterCode:t+"_VESSEL",clearOnMount:!1}),o.a.createElement(M.a,{reactKeyPrefix:e+"-voyage",configs:$(t),type:S.b.TYPEAHEAD,label:n.voyage,filterCode:t+"_VOYAGE",clearOnMount:!1}),o.a.createElement(M.a,{reactKeyPrefix:e+"-port",configs:J(t),type:S.b.TYPEAHEAD,label:n.port,filterCode:t+"_PORT",clearOnMount:!1}),o.a.createElement(M.a,{reactKeyPrefix:e+"-reason-for-call",configs:ee(t),type:S.b.TYPEAHEAD,label:n.reasonForCall,filterCode:t+"_REASON_FOR_CALL",clearOnMount:!1}),o.a.createElement(M.a,{reactKeyPrefix:e+"-business-unit",configs:te(t),type:S.b.TYPEAHEAD,label:n.businessUnit,filterCode:t+"_BUSINESS_UNIT",clearOnMount:!1}),o.a.createElement(M.a,{reactKeyPrefix:e+"-trade",configs:ae(t),type:S.b.TYPEAHEAD,label:n.trade,filterCode:t+"_TRADE",clearOnMount:!1}),o.a.createElement(M.a,{reactKeyPrefix:t+"-more",configs:re(t),type:S.b.TYPEAHEAD,label:l.more,filterCode:t+"_MORE",clearOnMount:!1}))};var ne=a(81),le=a(462),ie=a(216),se=a(169),ce=a(5),ue=a(50),de=a(16);const pe=(new(a(88).a)).getLanguageFile(),me=[{field:"statusTypeCode",filterGroupCode:E.c,operator:S.c.NOT_EQUALS,queryParamName:"voyage.voyageHeader.voyageStatus.statusTypeCode",type:S.d.STRING,value:"SCH"},{field:"fleetPlanCode",filterGroupCode:E.c,operator:S.c.EQUALS,queryParamName:"voyage.fleetPlanVoyages.fleetPlan.fleetPlanCode",type:S.d.STRING,value:"MASTER"}],ye=[{field:pe.model.vessel,groupCode:"PORTCALLS_LIST_SORT_GROUP_CODE",operator:de.b.ASC,queryParamName:"voyage%2B.vessel%2B.vesselName"},{field:pe.model.voyageReference,groupCode:"PORTCALLS_LIST_SORT_GROUP_CODE",operator:de.b.ASC,queryParamName:"voyage%2B.voyageHeader%2B.referenceNo"},{field:pe.model.portCallSequence,groupCode:"PORTCALLS_LIST_SORT_GROUP_CODE",operator:de.b.ASC,queryParamName:"portCallSequence"}],fe={vessel:{field:pe.model.vessel,groupCode:"PORTCALLS_LIST_SORT_GROUP_CODE",operator:de.b.ASC,queryParamName:"voyage%2B.vessel%2B.vesselName"},voyageReference:{field:pe.model.voyageReference,groupCode:"PORTCALLS_LIST_SORT_GROUP_CODE",operator:de.b.ASC,queryParamName:"voyage%2B.voyageHeader%2B.referenceNo"},portCallSequence:{field:pe.model.portCallSequence,groupCode:"PORTCALLS_LIST_SORT_GROUP_CODE",operator:de.b.ASC,queryParamName:"portCallSequence"},portName:{field:pe.model.portName,groupCode:"PORTCALLS_LIST_SORT_GROUP_CODE",operator:de.b.ASC,queryParamName:"port%2B.portName"},terminalName:{field:pe.model.terminalName,groupCode:"PORTCALLS_LIST_SORT_GROUP_CODE",operator:de.b.ASC,queryParamName:"terminal%2B.terminalName"},reasonForCall:{field:pe.model.reasonForCall,groupCode:"PORTCALLS_LIST_SORT_GROUP_CODE",operator:de.b.ASC,queryParamName:"reasonForCall%2B.reasonForCallDesc"},comments:{field:pe.model.comments,groupCode:"PORTCALLS_LIST_SORT_GROUP_CODE",operator:de.b.ASC,queryParamName:"comments"}},Oe=I.a.get(P.a.IInternationalization),{model:Te}=Oe.getLanguageFile(),Ee=["master.individualName","voyage.vessel.vesselName","voyage.voyageHeader.businessUnit.businessUnitName","voyage.voyageHeader.operator.userName","voyage.voyageHeader.charteringResponsible.userName","voyage.voyageHeader.referenceNo","voyage.voyageHeader.leg.legDesc","voyage.voyageStatus","port.portName","terminal.terminalName","reasonForCall.reasonForCallDesc","eventLogs.eventLogDate","eventLogs.event.eventCode","arrivalFixed","berthedFixed","departureFixed","comments"];function be(e,t){var a;const r=Object(ne.a)(e,"voyage.vessel.vesselName",""),n=e.voyage&&e.voyage.voyageHeader?e.voyage.voyageHeader.referenceNo:"",l=Object(ne.a)(e,"port.portName",""),i=e.terminal?e.terminal.terminalName:"",s=e.reasonForCall?e.reasonForCall.reasonForCallDesc:"",c=o.a.createElement(le.a,{portCall:e}),u=ue.a.getEventLogDateFromPC(e,"ARR"),d=ue.a.getEventLogDateFromPC(e,"BRT"),p=ue.a.getEventLogDateFromPC(e,"DEP"),m=Object(ie.c)(u,t),y=Object(ie.c)(d,t),f=Object(ie.c)(p,t),O=o.a.createElement(se.a,{reactKeyPrefix:"doc-modules-port-calls-pages-arrivalTime",disabled:!0,checked:e.arrivalFixed,label:m}),T=o.a.createElement(se.a,{reactKeyPrefix:"doc-modules-port-calls-pages-berthedTime",disabled:!0,checked:e.berthedFixed,label:y}),E=o.a.createElement(se.a,{reactKeyPrefix:"doc-modules-port-calls-pages-departureTime",disabled:!0,checked:e.departureFixed,label:f}),b=e.comments;return[r,n,l,i,s,{content:c,rawValue:null!==(a=Object(le.b)(e)[0])&&void 0!==a?a:""},{content:O,rawValue:u},{content:T,rawValue:d},{content:E,rawValue:p},b]}const Ce=[{content:Te.vessel,contentType:ce.a.TEXT,sortConfig:fe.vessel},{content:Te.voyage,contentType:ce.a.TEXT,sortConfig:fe.voyageReference},{content:Te.portName,contentType:ce.a.TEXT,sortConfig:fe.portName},{content:Te.terminalName,contentType:ce.a.TEXT,sortConfig:fe.terminalName},{content:Te.reasonForCall,contentType:ce.a.TEXT,sortConfig:fe.reasonForCall},{alignHeaderContent:ce.c.LEFT,content:Te.portStatus,contentType:ce.a.ELEMENT},{content:Te.arrivalTime,contentType:ce.a.ELEMENT},{content:Te.berthedTime,contentType:ce.a.ELEMENT},{content:Te.departureTime,contentType:ce.a.ELEMENT},{content:Te.comments,contentType:ce.a.TEXT,sortConfig:fe.comments}];const Pe={authorizationType:C.a.PERMISSION,authorizedPermissions:y.a.portCalls.authorizedPermissions,behaviorOnAuthorizationFail:c.a.REDIRECT_NO_AUTHORIZATION},ge=Object(s.a)(Pe,Object(d.a)(e=>({user:Object(f.a)(e)}),(function(e){const[t,a]=Object(u.a)([P.a.IInternationalization,T.a.IFilterActions]),{common:s}=t.getLanguageFile(),c=Object(n.g)(),d=Object(n.h)(),[y,f]=Object(r.useState)(!1),C=Object(r.useRef)(y),[S,I]=Object(r.useState)(!0);Object(r.useEffect)(()=>{var e;const t=null!==(e=O.a.getFiltersByGroupCode(p.b.getState(),E.c))&&void 0!==e?e:[],r=H(E.c).default[0].filters[0];t.find(e=>"voyageFilter"===e.optionCode)&&p.b.dispatch(a.putFilterAction([r])),I(!1)},[]);const N=Object(r.useCallback)(e=>{R.a.openDrawer(e,g.a.portCallDrawer,d,c)},[c,d]);return Object(r.useCallback)(()=>{f(!C.current)},[C,f]),Object(r.useEffect)(()=>{C.current=y},[y]),s.bulkUpdate,b.a.PORT_CALL_CONTRIBUTOR,S?null:o.a.createElement(i.a,{reactKeyPrefix:"doc-modules-port-calls-pages-list-page"},o.a.createElement(l.a,{quickFilters:o.a.createElement(oe,{reactKeyPrefix:"doc-modules-port-calls-pages-list-quick-filters",groupCode:E.c}),quickFiltersGroupCode:E.c,getColSpec:be,tsmodelType:m.a.portcall,fields:Ee,listId:"PORT_CALL_LIST_ID",sortOptions:Object.values(fe),defaultFilters:me,defaultSorts:ye,onClickItem:N,reactKeyPrefix:"doc-modules-port-calls-pages-list-tsmodel-list",tableHeaders:Ce,enableBulkUpdate:y,searchPaths:["voyage.voyageHeader.referenceNo","voyage.vessel.vesselName","port.portName"],searchPlaceholder:s.searchVoyageVesselPortsPlaceHolder,tableCustomisation:{disableCardSorting:!0,disableSorting:!1}}),o.a.createElement(_.a,null))})))},1911:function(e,t,a){"use strict";a.d(t,"a",(function(){return le}));a(59),a(10),a(11);var r=a(0),o=a.n(r),n=a(73),l=a(76),i=a(65),s=a(41),c=a(80),u=a(27),d=a(15),p=a(61),m=a(1),y=a(6),f=a(3),O=a(46),T=a(97),E=a(14),b=a(5);const C=E.a.get(f.a.IInternationalization),{model:P}=C.getLanguageFile(),g={permissionName:"*",permissionType:{permissionTypeName:"*"},entityRelease:{releaseNumber:"*",entity:"*"}};function _({permissionName:e,permissionType:t}){var a;return[null!=e?e:"",null!==(a=null==t?void 0:t.permissionTypeName)&&void 0!==a?a:""]}const R=[{content:P.permissionName,contentType:b.a.TEXT},{content:P.permissionType,contentType:b.a.TEXT}];var S=a(4),I=a(16),N=a(88);const v=new N.a,{model:h}=v.getLanguageFile(),D=(e,t)=>{const a={field:"key",filterGroupCode:e,operator:S.c.IN,type:S.d.STRING};return[{label:h.permissionName,filterObjectValuePath:"key",typeaheadProps:{type:m.a.securitypermission,objectPaths:["permissionName"],query:"filter=entityRelease.releaseNumber(EQ)"+t},filters:[a]}]},L=[{field:"releaseNumber",filterGroupCode:"SECURITY_PERMISSIONS_LIST_FILTER_GROUP_CODE",queryParamName:"entityRelease.releaseNumber",operator:S.c.EQUALS,type:S.d.STRING}],A=[{label:"version",filterObjectValuePath:"releaseNumber",typeaheadProps:{type:m.a.entityrelease,objectPaths:["releaseNumber"],query:"filter=entity(EQ)SecurityPermission"},filters:L}],F=[{field:h.permissionName,groupCode:"SECURITY_PERMISSIONS_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"permissionName"}],j=[{field:h.permissionName,groupCode:"SECURITY_PERMISSIONS_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"permissionName"},{field:h.permissionType,groupCode:"SECURITY_PERMISSIONS_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"permissionType.permissionType"}];var G=a(95),k=a(48),U=a(1984),x=a(689),H=a(94),M=a(473),q=a(213),w=a(187);const K=Object(q.a)(Object(w.a)(e=>({button:{whiteSpace:"nowrap"}}))),B=o.a.memo(({reactKeyPrefix:e,reloadPermissions:t,i:a,disabled:r})=>{const{common:n,menu:l}=a.getLanguageFile(),i=K({});return o.a.createElement(o.a.Fragment,null,o.a.createElement(M.a,{key:e+"-reload-action",variant:"outlined",color:"primary",onClick:t,className:i.button,disabled:r},`${n.reload} ${l.securityPermissions}`))});var z=a(20),V=a(7),Y=function(e,t,a,r){return new(a||(a=Promise))((function(o,n){function l(e){try{s(r.next(e))}catch(e){n(e)}}function i(e){try{s(r.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((r=r.apply(e,t||[])).next())}))};const[X]=Object(y.a)([V.a.ITSModelActions]);var Q=a(455),W=a(23),Z=a(32),$=a(43),J=a(193),ee=a(24);function te({reactKeyPrefix:e,isRepo:t,entityRelease:a}){const r=E.a.get(f.a.IInternationalization),{model:n}=r.lang();return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(ee.a,{reactKeyPrefix:e+"-security-permission-version",configs:A,type:S.b.TYPEAHEAD,label:n.releaseNumber,filterCode:"SECURITY_PERMISSIONS_LIST_FILTER_GROUP_CODE_VERSION",clearOnMount:!1}),o.a.createElement(ee.a,{reactKeyPrefix:e+"-security-permission-name",configs:D("SECURITY_PERMISSIONS_LIST_FILTER_GROUP_CODE",a),type:S.b.TYPEAHEAD,label:n.permissionName,filterCode:"SECURITY_PERMISSIONS_LIST_FILTER_GROUP_CODE_PERMISSION",clearOnMount:!1}))}var ae=a(66),re=a(30),oe=function(e,t,a,r){return new(a||(a=Promise))((function(o,n){function l(e){try{s(r.next(e))}catch(e){n(e)}}function i(e){try{s(r.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((r=r.apply(e,t||[])).next())}))};const ne={authorizationType:s.a.ROLE,authorizedRoles:[G.a.DATAREPO],behaviorOnAuthorizationFail:i.a.REDIRECT_NO_AUTHORIZATION};function le(){var e,t;Object(l.b)(ne);const a="doc-modules-permissions-list-page",i=Object(T.g)(),s=Object(T.h)(),E=Object(r.useMemo)(()=>window.location.hostname.includes(k.a.DATA_REPO_URL,0),[]),b=null!==(e=Object(W.a)(Z.a))&&void 0!==e?e:new $.a({}),[C,P,S]=Object(y.a)([f.a.IInternationalization,z.a.IReloadSecurityPermissionController,z.a.IDataRepoActionsController]),{common:I,model:N}=C.lang(),v=N.releaseNumber,h=E?new J.a({releaseNumber:v}):void 0,[D,L]=Object(r.useState)(h),[A,G]=Object(r.useState)(!1),M=Object(r.useCallback)(()=>G(!A),[A]),q=Object(r.useMemo)(()=>(null==D?void 0:D.releaseNumber)===v||!Object(ae.a)([re.a.SecurityPermissionPOST],b),[D,b]),w=null!==(t=Object(W.a)(H.a.getFiltersByGroupCode,"SECURITY_PERMISSIONS_LIST_FILTER_GROUP_CODE"))&&void 0!==t?t:[];Object(r.useMemo)(()=>{if(E){const e=w.find(e=>"releaseNumber"===e.field);if(e){const[t]=e.selectedObj;t!==D&&L(t)}else L(h)}},[E,w]);const K=Object(r.useMemo)(()=>[{onClick:M,text:`${I.create} ${N.securityPermission}`,disabled:q}],[I.create,q,N.securityPermission,M]),V=Object(r.useMemo)(()=>{if((null==D?void 0:D.releaseNumber)===v)return"filter=entityRelease.releaseNumber(EQ)"+v},[D,v]),ee=Object(r.useCallback)(e=>{u.a.openDrawer(e,d.a.securityPermissionDrawer,s,i)},[i,s]),le=Object(r.useCallback)((e,t)=>{t&&(ee(t.key),O.a.next())},[ee]),ie=Object(r.useCallback)(()=>oe(this,void 0,void 0,(function*(){if(D&&D.releaseNumber!==v){const e=yield function(e){return Y(this,void 0,void 0,(function*(){return X.loadMultipleAction({type:m.a.entityrelease,query:`filter=releaseNumber(EQ)${e}&filter=entity(EQ)SecurityPermission`,fields:{key:"*"}}).then(e=>e.entities)}))}(D.releaseNumber);yield P.reloadSecurityPermissions(e),O.a.next()}})),[P,D,v]),se=Object(r.useCallback)(()=>oe(this,void 0,void 0,(function*(){D&&(yield S.pushChanges(D),O.a.next())})),[S,D]),ce=Object(r.useMemo)(()=>{if(E)return o.a.createElement(o.a.Fragment,null,o.a.createElement(B,{reactKeyPrefix:a+"-top-left-element-1",reloadPermissions:ie,i:C,disabled:q}),o.a.createElement(Q.a,{reactKeyPrefix:a+"-top-left-element-2",disabled:q,action:se,i:C}))},[q,C,E,se,ie]);return o.a.createElement(n.a,{reactKeyPrefix:a,createObject:K},o.a.createElement(c.a,null),o.a.createElement(U.a,{reactKeyPrefix:x.c,closeModal:M,entityRelease:D,showModal:A,callback:le}),o.a.createElement(p.a,{getColSpec:_,tsmodelType:m.a.securitypermission,quickFilters:o.a.createElement(te,{reactKeyPrefix:a,isRepo:E,entityRelease:D?D.releaseNumber:""}),fields:g,quickFiltersGroupCode:"SECURITY_PERMISSIONS_LIST_FILTER_GROUP_CODE",queryStr:E?V:void 0,listId:"SECURITY_PERMISSIONS_LIST_ID",reactKeyPrefix:a+"security-permissions-list",tableHeaders:R,defaultSorts:F,sortOptions:j,onClickItem:ee,topLeftElements:ce}))}},1925:function(e,t,a){"use strict";a.d(t,"a",(function(){return oe}));a(10),a(11);var r=a(0),o=a.n(r),n=a(337),l=a(46),i=a(61),s=a(73),c=a(76),u=a(65),d=a(6),p=a(1),m=a(33),y=a(41),f=a(3),O=a(80),T=a(27),E=a(15),b=a(97),C=a(24),P=a(23),g=a(14),_=a(4),R=a(43),S=a(32),I=a(96),N=a(488);const v=g.a.get(f.a.IInternationalization),{model:h,common:D}=v.lang(),L=[N.b.CARGO_OPERATOR],A=(e,t)=>[{label:D.myVoyages,filters:Object(N.a)(e,"",t,L)}],F=e=>{const t={field:"port.key",filterGroupCode:e,operator:_.c.IN,type:_.d.STRING};return[{label:h.port,filterObjectValuePath:"key",typeaheadProps:{type:p.a.port,objectPaths:["portName"],query:I.d},filters:[t]}]},j=e=>{const t={field:"reasonForOffhire.key",filterGroupCode:e,operator:_.c.IN,type:_.d.STRING};return[{label:h.reasonForOffhire,filterObjectValuePath:"key",typeaheadProps:{type:p.a.reasonforoffhire,objectPaths:["reasonForOffhireDesc"],includeDisabledQuery:!0},filters:[t]}]},G=e=>{const t={field:"status.key",filterGroupCode:e,operator:_.c.IN,type:_.d.STRING};return[{label:D.status,filterObjectValuePath:"key",typeaheadProps:{type:p.a.statustype,objectPaths:["statusTypeDesc"],shouldPreload:!0,query:"filter=statusClass.statusClassCode(EQ)OFF"},filters:[t]}]},k=e=>{const t={field:"voyageHeader.voyage.vessel.key",filterGroupCode:e,operator:_.c.IN,type:_.d.STRING};return[{label:h.vessel,filterObjectValuePath:"key",typeaheadProps:{type:p.a.vessel,objectPaths:["vesselName"],includeDisabledQuery:!0},filters:[t]}]},U=e=>{const t={field:"voyageHeader.key",filterGroupCode:e,operator:_.c.IN,type:_.d.STRING};return[{label:h.voyage,filterObjectValuePath:"key",typeaheadProps:{type:p.a.voyageheader,objectPaths:["referenceNo"],shouldPreload:!1,query:"voyage.scenarios.scenarioCode(EQ)MASTER"},filters:[t]}]};function x({reactKeyPrefix:e}){var t;const a=g.a.get(f.a.IInternationalization),r=null!==(t=Object(P.a)(S.a))&&void 0!==t?t:new R.a({}),{model:n,common:l}=a.lang();return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{reactKeyPrefix:e+"-my-voyages",configs:A("OFFHIRE_LIST_FILTER_GROUP_CODE",r.key),type:_.b.BOOLEAN,label:l.myVoyages,filterCode:"OFFHIRE_LIST_FILTER_GROUP_CODE_MY_VOYAGES",clearOnMount:!1}),o.a.createElement(C.a,{reactKeyPrefix:e+"-vessel",configs:k("OFFHIRE_LIST_FILTER_GROUP_CODE"),type:_.b.TYPEAHEAD,label:n.vessel,filterCode:"OFFHIRE_LIST_FILTER_GROUP_CODE_VESSEL"}),o.a.createElement(C.a,{reactKeyPrefix:e+"-voyage",configs:U("OFFHIRE_LIST_FILTER_GROUP_CODE"),type:_.b.TYPEAHEAD,label:n.voyage,filterCode:"OFFHIRE_LIST_FILTER_GROUP_CODE_VOYAGE"}),o.a.createElement(C.a,{reactKeyPrefix:e+"-reason-for-offhire",configs:j("OFFHIRE_LIST_FILTER_GROUP_CODE"),type:_.b.TYPEAHEAD,label:n.reasonForOffhire,filterCode:"OFFHIRE_LIST_FILTER_GROUP_CODE_REASON_FOR_OFFHIRE"}),o.a.createElement(C.a,{reactKeyPrefix:e+"-port",configs:F("OFFHIRE_LIST_FILTER_GROUP_CODE"),type:_.b.TYPEAHEAD,label:n.port,filterCode:"OFFHIRE_LIST_FILTER_GROUP_CODE_PORT"}),o.a.createElement(C.a,{reactKeyPrefix:e+"-status",configs:G("OFFHIRE_LIST_FILTER_GROUP_CODE"),type:_.b.TYPEAHEAD,label:l.status,filterCode:"OFFHIRE_LIST_FILTER_GROUP_CODE_STATUS"}))}var H=a(1274),M=a(5),q=a(40),w=a(105),K=a(16);const B=g.a.get(f.a.IInternationalization),{common:z,model:V}=B.lang(),Y="OFFHIRE_LIST_SORT_GROUP_CODE",X=[{field:V.createdDate,groupCode:Y,operator:K.b.DESC,queryParamName:"key"}],Q={vessel:{field:V.vessel,groupCode:Y,operator:K.b.ASC,queryParamName:"voyageHeader.voyage.vessel.vesselName"},voyage:{field:V.voyage,groupCode:Y,operator:K.b.ASC,queryParamName:"voyageHeader.referenceNo"},portName:{field:V.port,groupCode:Y,operator:K.b.ASC,queryParamName:"port%2B.portName"},reasonForOffhire:{field:V.reasonForOffhire,groupCode:Y,operator:K.b.ASC,queryParamName:"reasonForOffhire%2B.reasonForOffhireDesc"},createdDate:{field:V.createdDate,groupCode:Y,operator:K.b.ASC,queryParamName:"key"},offhireStartDate:{field:V.offhireStartDate,groupCode:Y,operator:K.b.ASC,queryParamName:"offhireStartDate"},offhireEndDate:{field:V.offhireEndDate,groupCode:Y,operator:K.b.ASC,queryParamName:"offhireEndDate"},status:{field:z.status,groupCode:Y,operator:K.b.ASC,queryParamName:"status"}},[W]=Object(d.a)([f.a.IInternationalization]),{model:Z,common:$}=W.getLanguageFile();function J(e){var t,a,r,n,l,i,s;const{voyageHeader:c,port:u,reasonForOffhire:d,offhireStartDate:m,offhireEndDate:y,status:f}=e,O=null!==(t=null==f?void 0:f.statusTypeDesc)&&void 0!==t?t:"",T=o.a.createElement(q.a,{label:O,priority:w.a.getStatusPriority(O,p.a.offhire)});return[null!==(n=null===(r=null===(a=null==c?void 0:c.voyage)||void 0===a?void 0:a.vessel)||void 0===r?void 0:r.vesselName)&&void 0!==n?n:"",null!==(l=null==c?void 0:c.referenceNo)&&void 0!==l?l:"",null!==(i=null==u?void 0:u.portName)&&void 0!==i?i:"",null!==(s=null==d?void 0:d.reasonForOffhireDesc)&&void 0!==s?s:"",m,y,{content:T,rawValue:O}]}const ee=[{content:Z.vessel,contentType:M.a.TEXT,sortConfig:Q.vessel},{content:Z.voyage,contentType:M.a.TEXT,sortConfig:Q.voyage},{content:Z.port,contentType:M.a.TEXT,sortConfig:Q.portName},{content:Z.reasonForOffhire,contentType:M.a.TEXT,sortConfig:Q.reasonForOffhire},{content:Z.offhireStartDate,contentType:M.a.DATE,sortConfig:Q.offhireStartDate},{content:Z.offhireEndDate,contentType:M.a.DATE,sortConfig:Q.offhireEndDate},{content:$.status,contentType:M.a.ELEMENT,sortConfig:Q.status,alignHeaderContent:M.c.LEFT}];var te=a(95);const ae={authorizationType:y.a.PERMISSION,authorizedPermissions:m.a.offhire.authorizedPermissions,behaviorOnAuthorizationFail:u.a.REDIRECT_NO_AUTHORIZATION},re="doc-modules-offhire-list-page";function oe(){Object(c.b)(ae);const[e]=Object(d.a)([f.a.IInternationalization]),[t,a]=Object(r.useState)(!1),[u,m]=Object(r.useState)(!1),y=Object(r.useRef)(u),C=Object(b.g)(),P=Object(b.h)(),g=Object(r.useCallback)(()=>a(!t),[t]),_=[{onClick:g,text:e.lang().offhire.createOffhire}],R=Object(r.useCallback)(e=>{T.a.openDrawer(e,E.a.offhireDrawer,P,C)},[C,P]),S=Object(r.useCallback)((e,t)=>{t&&(R(t.key),l.a.next())},[R]);Object(r.useCallback)(()=>{m(!y.current)},[y,m]);Object(r.useEffect)(()=>{y.current=u},[u]);e.lang().common.bulkUpdate,te.a.OFFHIRE_CONTRIBUTOR;return o.a.createElement(s.a,{reactKeyPrefix:re,createObject:_},o.a.createElement(H.a,{reactKeyPrefix:re+"create-modal",onCloseModal:g,open:t,onCreate:S}),o.a.createElement(i.a,{quickFilters:o.a.createElement(x,{reactKeyPrefix:re+"-quickfilter"}),quickFiltersGroupCode:"OFFHIRE_LIST_FILTER_GROUP_CODE",getColSpec:J,tsmodelType:p.a.offhire,fields:n.c,listId:"OFFHIRE_LIST_ID",reactKeyPrefix:re+"tsmodel-list",tableHeaders:ee,onClickItem:R,defaultSorts:X,sortOptions:Object.values(Q),enableBulkUpdate:u,tableCustomisation:{disableCardSorting:!0,disableSorting:!1}}),o.a.createElement(O.a,null))}},1933:function(e,t,a){"use strict";a.d(t,"a",(function(){return z}));a(10),a(11);var r=a(0),o=a.n(r),n=a(97),l=a(61),i=a(73),s=a(1),c=a(33),u=a(15),d=a(80),p=a(27),m=(a(93),a(5)),y=a(14),f=a(3);const O=y.a.get(f.a.IInternationalization),{common:T}=O.getLanguageFile(),E=[{content:T.description,contentType:m.a.TEXT},{content:T.code,contentType:m.a.TEXT},{content:T.numberOfDays,contentType:m.a.NUMBER}],b=({paymentTermsDesc:e,paymentTermsCode:t,numberOfDays:a})=>[e,t,a];var C=a(16);const P=y.a.get(f.a.IInternationalization),{common:g}=P.getLanguageFile(),_="PAYMENT_TERMS_LIST_SORT_GROUP_CODE",R=[{field:g.description,groupCode:_,operator:C.b.ASC,queryParamName:"paymentTermsDesc"}],S=[{field:g.description,groupCode:_,operator:C.b.ASC,queryParamName:"paymentTermsDesc"},{field:g.code,groupCode:_,operator:C.b.ASC,queryParamName:"paymentTermsCode"},{field:g.numberOfDays,groupCode:_,operator:C.b.ASC,queryParamName:"numberOfDays"}];var I=a(24),N=a(4);const v=y.a.get(f.a.IInternationalization),{common:h}=v.lang(),D=e=>({label:h.disabled,filters:[{field:"isObjectActive",filterGroupCode:e,operator:N.c.NOT_EQUALS,queryParamName:"isObjectActive",type:N.d.BOOLEAN,value:!0}]}),L=({reactKeyPrefix:e,filterGroupCode:t})=>o.a.createElement(o.a.Fragment,null,o.a.createElement(I.a,{reactKeyPrefix:e+"-disabled",configs:[D(t)],type:N.b.BOOLEAN,label:h.disabled,filterCode:t+"_DISABLED"})),A={paymentTermsDesc:"*",paymentTermsCode:"*",numberOfDays:"*"};var F=a(65),j=a(41),G=a(76),k=a(6),U=a(46),x=a(2025),H=a(66),M=a(30),q=a(23),w=a(32),K=a(43);const B={authorizationType:j.a.PERMISSION,authorizedPermissions:c.a.paymentTerms.authorizedPermissions,behaviorOnAuthorizationFail:F.a.REDIRECT_NO_AUTHORIZATION};function z(){var e;Object(G.b)(B);const[t,a]=Object(r.useState)(!1),c=Object(r.useCallback)(()=>a(e=>!e),[]),[m]=Object(k.a)([f.a.IInternationalization]),{common:y}=m.getLanguageFile(),O=null!==(e=Object(q.a)(w.a))&&void 0!==e?e:new K.a({}),T=[{onClick:c,text:y.createCompany,disabled:!Object(H.a)([M.a.PaymentTermsPOST],O)}],C=Object(n.g)(),P=Object(n.h)(),g=Object(r.useCallback)(e=>p.a.openDrawer(e,u.a.paymentTermsDrawer,P,C),[C,P]),_=Object(r.useCallback)((e,{key:t})=>{t&&(g(t),U.a.next())},[g]);return o.a.createElement(i.a,{reactKeyPrefix:"doc-modules-payment-terms-pages-list-page",createObject:T},t&&o.a.createElement(x.a,{reactKeyPrefix:"doc-modules-payment-terms-pages-list-create",showModal:t,closeModal:c,onCreate:_}),o.a.createElement(l.a,{fields:A,listId:"PAYMENT_TERMS_TERMS_LIST_ID",reactKeyPrefix:"doc-modules-payment-terms-pages-list-tsmodel-list",defaultSorts:R,sortOptions:S,tsmodelType:s.a.paymentterms,tableHeaders:E,getColSpec:b,quickFilters:o.a.createElement(L,{reactKeyPrefix:"doc-modules-payment-terms-pages-list-filters",filterGroupCode:"PAYMENT_TERMS_LIST_FILTER_GROUP_CODE"}),onClickItem:g,quickFiltersGroupCode:"PAYMENT_TERMS_LIST_FILTER_GROUP_CODE"}),o.a.createElement(d.a,null))}},1953:function(e,t,a){"use strict";a.d(t,"a",(function(){return V}));a(59),a(10),a(11);var r=a(0),o=a.n(r),n=a(61),l=a(73),i=a(76),s=a(65),c=a(6),u=a(1),d=a(41),p=a(3),m=a(80),y=a(33),f=a(14),O=a(5),T=a(169);const E=f.a.get(p.a.IInternationalization),{model:b,common:C}=E.getLanguageFile();function P(e){var t,a,r,n,l,i;const{portName:s,country:c,longitude:u,latitude:d,isCanal:p,isOpenLoopRestricted:m,itdsCode:y,locationCode:f,portRef:O,rpCode:E,wpiCode:b,unLoCode:C,bunkerCategoryAe:P,bunkerCategoryMe:g,zoomLevel:_}=e;return[null!=s?s:"",null!==(t=null==c?void 0:c.countryName)&&void 0!==t?t:"",u,d,{rawValue:p,content:o.a.createElement(T.a,{reactKeyPrefix:"doc-modules-ports-list-page-tsmodel-list-isCanal",checked:p,disabled:!0})},{rawValue:m,content:o.a.createElement(T.a,{reactKeyPrefix:"doc-modules-ports-list-page-tsmodel-list-isOpenLoopRestricted",checked:m,disabled:!0})},null!=y?y:"",null!=f?f:"",null!==(a=null==O?void 0:O.key)&&void 0!==a?a:"",null!=E?E:"",null!==(n=null===(r=e.timezone)||void 0===r?void 0:r.timezoneName)&&void 0!==n?n:"",null!=b?b:"",_,null!==(l=null==P?void 0:P.bunkerCategoryDesc)&&void 0!==l?l:"",null!==(i=null==g?void 0:g.bunkerCategoryDesc)&&void 0!==i?i:"",null!=C?C:""]}const g=[{content:b.portName,contentType:O.a.TEXT},{content:b.country,contentType:O.a.TEXT},{content:C.longitude,contentType:O.a.NUMBER,numberFormatOptions:{maxDecimals:6,minDecimals:6}},{content:C.latitude,contentType:O.a.NUMBER,numberFormatOptions:{maxDecimals:5,minDecimals:5}},{content:b.isCanal,contentType:O.a.ELEMENT,hiddenByDefault:!0},{content:b.isOpenLoopRestricted,contentType:O.a.ELEMENT,hiddenByDefault:!0},{content:b.itdsCode,contentType:O.a.TEXT,hiddenByDefault:!0},{content:b.locationCode,contentType:O.a.TEXT,hiddenByDefault:!0},{content:b.portRef,contentType:O.a.TEXT,hiddenByDefault:!0},{content:C.rpCode,contentType:O.a.TEXT,hiddenByDefault:!0},{content:b.timezone,contentType:O.a.TEXT,hiddenByDefault:!0},{content:b.wpiCode,contentType:O.a.TEXT,hiddenByDefault:!0},{content:b.zoomLevel,contentType:O.a.NUMBER,hiddenByDefault:!0},{content:C.auxEngineBunker,contentType:O.a.TEXT,hiddenByDefault:!0,textLengthFactor:2},{content:C.mainEngineBunker,contentType:O.a.TEXT,hiddenByDefault:!0,textLengthFactor:2},{content:b.unLoCode,contentType:O.a.TEXT,hiddenByDefault:!0}];var _=a(24),R=a(4),S=a(88),I=a(16);const N=new S.a,{model:v}=N.getLanguageFile(),h=[{field:v.portName,groupCode:"PORTS_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"portName"}],D=[{field:v.portName,groupCode:"PORTS_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"portName"},{field:v.country,groupCode:"PORTS_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"country.countryName"}],L=e=>[{label:v.portName,filterObjectValuePath:"key",typeaheadProps:{type:u.a.port,objectPaths:["portName"]},filters:[{field:"key",filterGroupCode:e,operator:R.c.IN,type:R.d.STRING}]}],A=e=>[{label:v.country,filterObjectValuePath:"countryName",typeaheadProps:{type:u.a.country,objectPaths:["countryName"]},filters:[{field:"country.countryName",filterGroupCode:e,operator:R.c.IN,type:R.d.STRING}]}];function F(e){const{reactKeyPrefix:t}=e,a=new S.a,{model:r}=a.getLanguageFile();return o.a.createElement(o.a.Fragment,null,o.a.createElement(_.a,{label:r.portName,reactKeyPrefix:t+"-port-name",configs:L("PORTS_LIST_FILTER_GROUP_CODE"),type:R.b.TYPEAHEAD,filterCode:"PORTS_LIST_FILTER_GROUP_CODE_PORT_NAME",clearOnMount:!1}),o.a.createElement(_.a,{label:r.country,reactKeyPrefix:t+"-country-name",configs:A("PORTS_LIST_FILTER_GROUP_CODE"),type:R.b.TYPEAHEAD,filterCode:"PORTS_LIST_FILTER_GROUP_CODE_OBJECT_NAME",clearOnMount:!1}))}var j=a(235),G=a(1978),k=a(46),U=a(27),x=a(97),H=a(15),M=a(48),q=a(23),w=a(42),K=a(20),B=function(e,t,a,r){return new(a||(a=Promise))((function(o,n){function l(e){try{s(r.next(e))}catch(e){n(e)}}function i(e){try{s(r.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((r=r.apply(e,t||[])).next())}))};const z={authorizationType:d.a.PERMISSION,authorizedPermissions:y.a.roles.authorizedPermissions,behaviorOnAuthorizationFail:s.a.REDIRECT_NO_AUTHORIZATION};function V(){const e=Object(r.useMemo)(()=>window.location.hostname.includes(M.a.DATA_REPO_URL,0),[]),[t,a]=Object(r.useState)(!1),[s,d]=Object(c.a)([p.a.IInternationalization,K.a.IMasterDataPortDrawerController]),y=Object(q.a)(w.a.getUserLocale),f="doc-modules-ports-list-page",{common:O}=s.getLanguageFile();Object(i.b)(z);const T=Object(x.g)(),E=Object(x.h)(),b=Object(r.useCallback)(e=>{U.a.openDrawer(e,H.a.masterDataPortDrawer,E,T)},[E,T]),C=Object(r.useCallback)(()=>a(!t),[t]),_=Object(r.useCallback)(e=>B(this,void 0,void 0,(function*(){if(e){const t=yield d.createPort(e);k.a.next(),b(t.key)}})),[d,b]),R=[{onClick:C,text:O.createPort}];return o.a.createElement(l.a,{reactKeyPrefix:f,createObject:e?R:void 0},o.a.createElement(m.a,null),o.a.createElement(G.a,{reactKeyPrefix:f,open:t,i:s,userLocale:y,onClose:C,onCreateCallback:_}),o.a.createElement(n.a,{getColSpec:P,tsmodelType:u.a.port,quickFilters:o.a.createElement(F,{reactKeyPrefix:f}),quickFiltersGroupCode:"PORTS_LIST_FILTER_GROUP_CODE",fields:j.b,listId:"PORTS_LIST_ID",reactKeyPrefix:f+"-tsmodel-list",tableHeaders:g,sortOptions:D,onClickItem:b,defaultSorts:h}))}}}]);
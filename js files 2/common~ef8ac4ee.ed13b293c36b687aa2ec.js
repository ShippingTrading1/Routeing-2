(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{1278:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));a(109),a(163);var n=a(214),r=a(0),o=(a(268),a(269),a(10),a(11),a(2513));function i(e){return!!e.isTSModelSelectorDisabled}var s=a(1753),l=a(102),c=a(6),d=a(47),u=a(4),p=a(7),h=a(94),m=a(132),b=a(3),f=(a(2291),a(89));class g extends r.Component{constructor(e){super(e),this.onChangeBooleanFilter=e=>{const{filterOption:t}=this.props;"isObjectActive"!==t.field||e?this.updateFilters([e]):this.onRemoveFilters()};const t=this.preprocessFilters(this.getRelevantFilters(e));this.state=Object.assign(Object.assign({},e.state),{filters:t,selectedItems:this.getSelectedItemsFromFilters(t)}),this.updateFilters=this.updateFilters.bind(this),this.onRemoveFilters=this.onRemoveFilters.bind(this),this.createFilter=this.createFilter.bind(this),this.createFilterClientSide=this.createFilterClientSide.bind(this)}getRelevantFilters(e){return Array.isArray(e.filterGroupCode)?e.state.filters.filter(t=>e.filterGroupCode.includes(t.filterGroupCode)&&t.field===e.filterOption.field&&!t.filterCode):e.state.filters.filter(t=>t.filterGroupCode===e.filterGroupCode&&t.field===e.filterOption.field&&!t.filterCode)}getSelectedItemsFromFilters(e){return e.flatMap(e=>null!==e.selectedObj&&void 0!==e.selectedObj?e.selectedObj:e.value)}updateFilters(e){const{dispatchAction:t,filterOption:a}=this.props,[n]=this.props.deps;this.setState({selectedItems:e||[]});let r,s=[];if(null!==e&&(s=i(a)?e.map(e=>this.createFilterClientSide(e,a)):e.map(e=>this.createFilter(e,a))),a.operator===u.c.IN){const e=Object(o.a)(a,["field","filterGroupCode","operator"]),t=Object(m.f)(this.props.state.filters,e),n=i(a)?Object(m.b)(s):Object(m.a)(s);r=Object.assign(Object.assign({},this.props.state.filters[t]),n)}else r=s.filter(e=>-1===Object(m.f)(this.state.filters,e));const l=this.state.filters.filter(e=>-1===Object(m.f)(s,e));t(n.putFilterAction(r)),t(n.removeFilterAction(l))}resolveFilterValue(e,t){var a;const n=this.props.deps[2].getFilterResolver(null!==(a=t.resolveField)&&void 0!==a?a:"");return t.isKeyFilter?e.key:"object"==typeof e&&null!==t.resolveField&&void 0!==t.resolveField&&n?n(e):e}createFilter(e,t){return Object.assign(Object.assign({},Object(o.a)(this.props.filterOption,["field","filterGroupCode","operator","queryParamName","resolveField","type"])),{selectedObj:Object(f.c)(e),value:t.isKeyFilter?e.key:e[t.field]})}createFilterClientSide(e,t){return Object.assign(Object.assign({},Object(o.a)(this.props.filterOption,["field","filterGroupCode","operator","queryParamName","resolveField","type"])),{value:this.resolveFilterValue(e,t)})}preprocessFilters(e){return e.flatMap(e=>e.operator!==u.c.IN?e:i(this.props.filterOption)?Object(m.d)(e):Object(m.c)(e))}UNSAFE_componentWillReceiveProps(e){const t=this.getRelevantFilters(e),a=this.preprocessFilters(t);this.setState({filters:t,selectedItems:this.getSelectedItemsFromFilters(a)})}onRemoveFilters(){this.setState({selectedItems:[]},()=>{this.updateFilters([])})}getSelectorComponent(e,t){const{selectedItems:a}=t,{valueOptions:n,reactKeyPrefix:o,filterOption:i}=e,c=o+"-dropdown-selector";return i.type===u.d.BOOLEAN?r.createElement(s.a,{label:i.label,onInputChange:this.onChangeBooleanFilter,checked:Boolean(a[0]),reactKeyPrefix:o+"switch-input"}):i.isTSModelSelectorDisabled?r.createElement(l.a,{defaultSelectedOptions:a,isClearable:!0,isMulti:!0,label:i.label,onChange:this.updateFilters,options:n||[],reactKeyPrefix:c}):r.createElement(l.b,{defaultSelectedOptions:a,isClearable:!0,isMulti:!0,label:i.label,shouldPreload:i.shouldPreload,onChange:this.updateFilters,query:i.optionsFilter,objectPaths:[i.field],reactKeyPrefix:c,type:i.tsModelType})}render(){return r.createElement(n.a,{item:!0,xs:12},r.createElement("div",{className:"filter-dropdown-container"},this.getSelectorComponent(this.props,this.state)))}}const C=Object(d.a)(e=>({filters:h.a.getFilterState(e)}),Object(c.b)([p.a.IFilterActions,b.a.IInternationalization,b.a.FilterResolver],g));class O extends r.PureComponent{constructor(e){super(e)}render(){const{filterOptions:e,filterGroupCode:t,reactKeyPrefix:a,valueOptions:o}=this.props,i=e.map((e,n)=>{const i=(e.label||"").replace(/[^a-z0-9]+/gi,"-"),s=`${a}-${e.filterGroupCode}`,l=`${s}-${e.field}-${i}`;return r.createElement(C,{filterOption:e,filterGroupCode:t,key:l,reactKeyPrefix:s,valueOptions:o?o[n]:void 0})});return r.createElement(n.a,{container:!0,spacing:2},i)}}},1642:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(371),r=a.n(n),o=a(323),i=a(246),s=a(0),l=a.n(s),c=a(97),d=a(47),u=a(32),p=a(66),h=a(135);const m=({reactKeyPrefix:e,label:t,onOpen:a,permissions:n=[],state:{user:d}})=>{const u=Object(s.useMemo)(()=>Object(p.a)(n,d),[n,d]),m=Object(c.h)(),b=Object(c.g)(),f=Object(s.useCallback)(e=>{e.stopPropagation(),a(m,b)},[b,m,a]);return l.a.createElement(o.a,{component:"span",sx:{display:"flex"}},t,u&&l.a.createElement(i.a,{id:e+Object(h.b)(t),onClick:f,sx:{p:0,mx:1,cursor:"pointer"},tabIndex:-1},l.a.createElement(r.a,null)))},b=Object(d.a)(e=>({user:Object(u.a)(e)}),Object(s.memo)(m))},1743:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));a(10),a(11);var n=a(0),r=a.n(n),o=a(6),i=a(47),s=a(807),l=a(7);class c extends r.a.PureComponent{constructor(e){super(e),this.hasHandled=!1,this.state=Object.assign({},this.props.state)}componentDidMount(){this.login()}login(){if(this.props.state.identityProviderConfiguration&&!this.hasHandled){const[e]=this.props.deps,t=localStorage.getItem("refreshToken");t?e.refreshAccessToken(t,!0):e.login(),this.hasHandled=!0}}UNSAFE_componentWillReceiveProps(e){this.setState(Object.assign({},e.state),()=>{this.login()})}render(){return r.a.createElement("div",null)}}const d=Object(i.a)(e=>({identityProviderConfiguration:Object(s.a)(e)}),Object(o.b)([l.a.IAuth0],c))},1968:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));a(109);var n=a(473),r=a(0),o=a(57),i=a(130);a(2288);const s=e=>r.createElement(i.a,{variant:"h1",className:"login-heading"},"Welcome to Dataloy");a(2287);var l=a(84);class c{constructor(e){this.loginFunction=e}login(e,t){this.loginFunction(e,t)}checkForCredentialsInUrl(e){const t=this.parseQueryParams(e);let a="",n="";if(null!==t.authToken&&void 0!==t.authToken){const e=atob(t.authToken).split(":");try{a=e[0],n=e[1]}catch(e){return l.a.error(e),!1}return this.login(a,n),!0}return!1}getRedirectUrl(e){try{const t=this.parseQueryParams(e);return t.redirectUrl?t.redirectUrl:"/"}catch(e){return"/"}}parseQueryParams(e){const t=(e=e.substring(1)).slice(0,e.indexOf("&redirectUrl")),a=e.slice(e.indexOf("redirectUrl=")),n=t.split("&"),r={};return n.forEach(e=>{const t=e.split("=");r[t[0]]=t[1]}),r.redirectUrl=a.slice(a.indexOf("=")+1),r}}class d extends r.PureComponent{constructor(e){super(e),this.hasHandled=!1,this.state={authenticated:e.authenticated,error:e.error,password:"",username:"",logInClicked:!1},this.controller=new c(this.props.login),this.handleLoginClick=this.handleLoginClick.bind(this),this.onTextInputChange=this.onTextInputChange.bind(this),this.onPasswordInputChange=this.onPasswordInputChange.bind(this),this.onEnterKeyDown=this.onEnterKeyDown.bind(this),this.checkAuthenticatedAndRedirect(this.props),this.controller.checkForCredentialsInUrl(this.props.location.search)}componentDidMount(){const e=localStorage.getItem("basicAuth");if(e&&!this.hasHandled){const t=atob(e).split(":");this.controller.login(t[0],t[1]),this.hasHandled=!0}}checkAuthenticatedAndRedirect(e){e.authenticated&&e.history.push(this.controller.getRedirectUrl(e.location.search))}UNSAFE_componentWillReceiveProps(e){this.checkAuthenticatedAndRedirect(e),this.setState({authenticated:e.authenticated,error:e.error})}render(){return r.createElement("div",{className:"login"},r.createElement(s,null),r.createElement("div",{className:"login-form-group"},this.showError()?r.createElement("span",null,"Your username and/or password is incorrect - please try again."):void 0,r.createElement(o.b,{reactKeyPrefix:"doc-common-modules-login-login-page-username",placeholder:"Username",value:this.state.username,onInputChange:this.onTextInputChange}),r.createElement(o.b,{reactKeyPrefix:"doc-common-modules-login-login-page-password",type:"password",placeholder:"Password",value:this.state.password,onInputChange:this.onPasswordInputChange,onKeyDown:this.onEnterKeyDown,style:{marginBottom:"24px"}}),r.createElement(n.a,{variant:"contained",color:"primary",onClick:this.handleLoginClick},"Log in")))}showError(){const{error:e,logInClicked:t}=this.state;return t&&""!==e}onTextInputChange(e){this.setState({username:e})}onPasswordInputChange(e){this.setState({password:e})}onEnterKeyDown(e){"Enter"===e.key&&this.handleLoginClick()}handleLoginClick(){this.setState({logInClicked:!0,error:""}),this.state.username&&this.state.password&&this.controller.login(this.state.username,this.state.password)}}},2287:function(e,t,a){},2288:function(e,t,a){},2290:function(e,t,a){},2291:function(e,t,a){},24:function(e,t,a){"use strict";a.d(t,"b",(function(){return U})),a.d(t,"a",(function(){return _}));a(10),a(11);var n=a(0),r=a.n(n),o=a(7),i=a(94),s=(a(268),a(269),a(158),a(4)),l=a(132),c=a(577),d=a(89),u=a(81),p=a(2535),h=a(1310),m=a(870),b=a(14),f=a(3),g=a(42);function C(e,t,a,n,r,o,i){if(a){n(function(e,t,a,n){switch(t){case s.b.TYPEAHEAD:return function(e,t,a){return S(t.filters),[Object.assign(Object.assign({},t.filters[0]),{filterCode:a,value:e.map(e=>t.filterObjectValuePath?Object(u.a)(e,t.filterObjectValuePath):e),selectedObj:e.map(e=>Object(d.c)(e))})]}(e,a,n);case s.b.MONTH:return function(e,{filters:t},a){if(null===e)return[];return[Object.assign(Object.assign({},t[0]),{filterCode:a,operator:s.c.GREATER_THAN_OR_EQUAL,value:Object(h.a)(e)}),Object.assign(Object.assign({},t[0]),{filterCode:a,operator:s.c.LESS_THAN_OR_EQUAL,value:Object(m.a)(e)})]}(e,a,n);default:return a.filters.map((t,r)=>{const o=Object.assign(Object.assign({},t),{filterCode:n});return r===a.valueIndex?Object.assign(Object.assign({},o),{value:e}):o})}}(r,o,e,i),function(e,t){let a=[];e!==s.b.RADIO&&e!==s.b.MONTH||(a=t);return a}(o,t))}else n([],t.filter(t=>t.optionCode===e.filters[0].optionCode))}function O(e){var t,a;return[null==e?void 0:e.label,null===(t=null==e?void 0:e.filters[0])||void 0===t?void 0:t.filterCode,null===(a=null==e?void 0:e.filters[0])||void 0===a?void 0:a.field].filter(e=>!!e).join("-")}function v(e,t){return t.find(t=>t.filters.map(e=>e.optionCode).includes(e.optionCode))}function y(e,t){var a,n;const r=1===e.length?Object(l.c)(e[0]):e;let o;if(Array.isArray(r))o=r.flatMap(e=>{var a,n;const r=v(e,t),o=Object(c.a)(null===(a=null==r?void 0:r.typeaheadProps)||void 0===a?void 0:a.objectPaths,null===(n=null==r?void 0:r.typeaheadProps)||void 0===n?void 0:n.resolver);return Array.isArray(e.selectedObj)?e.selectedObj.map(o):o(e.selectedObj)});else{const e=v(r,t),i=Object(c.a)(null===(a=null==e?void 0:e.typeaheadProps)||void 0===a?void 0:a.objectPaths,null===(n=null==e?void 0:e.typeaheadProps)||void 0===n?void 0:n.resolver);o=Array.isArray(r.selectedObj)?r.selectedObj.map(i):[i(r.selectedObj)]}return o.filter(e=>!!e)}const w=e=>e?Array.isArray(e)?e[0].value:e.value instanceof Date?e.value:null:null;function E(e){const t=b.a.get(f.a.IInternationalization),a=g.a.getUserLocale(b.a.get(o.a.Store).getState());return{label:t.formatDate(e,{locale:a.isoCode,dateTimeFormatOptions:{month:"2-digit",year:"numeric"}}),value:j(e)}}function j(e){return e?e.getTime().toString():""}function P(e,t){if(e===s.b.TYPEAHEAD&&t.length>1&&!t.every(e=>e.filters.length>0&&e.filters.every(e=>!!e.optionCode)))throw new Error("The Typeahead FilterType requires optionCode to be defined on every typeahead filter")}function S(e){if(e.length>1)throw new Error("The Typeahead FilterType currently supports max 1 filter per config. Got: "+e.length)}function k(e){if(!e)return[];S(e);const t=1===e.length?Object(l.c)(e[0]):[];return Array.isArray(t)?t.map(e=>e.selectedObj):t.selectedObj}var F=a(6),x=a(230),A=a(243),I=a(23),T=a(982),R=a(47),D=a(35);const L=Object(R.a)(e=>{var t;return{userLocale:null!==(t=g.a.getUserLocale(e))&&void 0!==t?t:D.f[0]}},(function(e){const{active:t,activeFilters:a,config:n,inputRenderer:o,onChange:i,type:l,filterCode:c,single:d=!1,state:{userLocale:p}}=e;if(l===s.b.TYPEAHEAD){S(n.filters);return o({config:n,active:t,onChange:e=>{C(n,a,e&&e.length>0,i,e,l,c)},activeFilters:a,single:d})}if(l===s.b.MONTH){return o({config:n,active:t,onChange:e=>{C(n,a,null!==e,i,e,l,c)},activeFilters:a,userLocale:p})}{const e=o({config:n,active:t,onChange:e=>{C(n,a,!t,i,e,l,c)}});return r.a.createElement(T.a,{label:Object(u.a)(n,"label"),control:e})}}));var K=a(102),M=a(359),N=a(2096),B=a(1325),V=a(215);const G=new Map;function H(e){const{activeFilters:t,configs:a,onChange:o,type:i,filterCode:s}=e;return Object(n.useMemo)(()=>{const e=G.get(i);return e?r.a.createElement(r.a.Fragment,null,a.map(n=>{const l=function(e,t,a){if(0===e.length)return!1;const n=Object(p.a)(e,{filterCode:a});return t.every(e=>n.find(t=>{return n=e,(a=t).filterGroupCode===n.filterGroupCode&&a.optionCode===n.optionCode;var a,n}))}(t,n.filters,s);return r.a.createElement(L,{key:O(n),filterCode:s,config:n,activeFilters:t,active:l,onChange:o,inputRenderer:e,type:i,single:1===a.length})})):null},[t,a,s,o,i])}G.set(s.b.RADIO,({active:e,onChange:t})=>r.a.createElement(N.a,{checked:e,onChange:t.bind(null,!e)})),G.set(s.b.CHECKBOX,({active:e,onChange:t})=>r.a.createElement(B.a,{checked:e,onChange:t.bind(null,!e),color:"primary"})),G.set(s.b.MONTH,({config:e,onChange:t,activeFilters:a=[],userLocale:n=D.f[0]})=>r.a.createElement(V.a,Object.assign({},e.dateInputProps,{reactKeyPrefix:"quick-filter-month",locale:n,value:w(a.find(t=>e.filters.length>0&&t.optionCode===e.filters[0].optionCode)),onBlur:t,showDay:!1,showShortDate:!1,clearable:!1}))),G.set(s.b.TYPEAHEAD,({config:e,onChange:t,activeFilters:a,single:n})=>{var o,i;if(Object(M.a)(e.typeaheadProps))return r.a.createElement(K.b,Object.assign({shouldPreload:!0},e.typeaheadProps,{onChange:t,reactKeyPrefix:"quick-filter-typeahead",isMulti:!0,defaultSelectedOptions:k(null==a?void 0:a.filter(t=>e.filters.length>0&&t.optionCode===e.filters[0].optionCode)),overrideDefaultSelectedOptions:!0,embed:!0,defaultEmbedExpanded:n,maxHeightEmbedded:"300px"}));if(Object(M.b)(e.typeaheadProps))return r.a.createElement(K.a,Object.assign({},e.typeaheadProps,{options:null!==(i=null===(o=e.typeaheadProps)||void 0===o?void 0:o.options)&&void 0!==i?i:[],onChange:t,reactKeyPrefix:"quick-filter-typeahead",isMulti:!0,defaultSelectedOptions:k(null==a?void 0:a.filter(t=>e.filters.length>0&&t.optionCode===e.filters[0].optionCode)),overrideDefaultSelectedOptions:!0,embed:!0,defaultEmbedExpanded:n,maxHeightEmbedded:"300px"}));throw new Error("Wrong configuration of Typeahead. Missing required properties.")});let q=0;function U(e){return 0===q?e():setTimeout(()=>U(e),25)}function _(e){var t;const{label:a,configs:l,filterCode:c,type:d,clearOnMount:u=!0,disabled:p=!1,isClearable:h=!0,reactKeyPrefix:m,onChangeCallback:b}=e,[f,g]=Object(F.a)([o.a.IFilterActions,o.a.Store]),C=null!==(t=Object(I.a)(i.a.getFiltersByCodes,e.configs[0].filters[0].filterGroupCode,e.filterCode))&&void 0!==t?t:[],[O,v]=Object(n.useState)(null),[S,k]=Object(n.useState)(!1);!S&&u&&C.length>0&&(q+=1),Object(n.useEffect)(()=>{!S&&u&&C.length>0?(k(!0),C.forEach(e=>g.dispatch(f.removeFilterAction(e))),q-=1):S||k(!0)},[u,f,C,S,g]);const T=Object(n.useCallback)(e=>{v(e.current)},[v]),R=Object(n.useCallback)(()=>{v(null)},[v]),D=Object(n.useCallback)(()=>g.dispatch(f.removeFilterAction(C)),[f,C,g]),L=Object(n.useCallback)((e,t)=>{q+=1,t.forEach(e=>g.dispatch(f.removeFilterAction(e))),e.forEach(e=>g.dispatch(f.putFilterAction(e))),q-=1,b&&b(e,t)},[f,b,g]),K=Object(n.useCallback)(()=>{const e=C.length>0;L(e?[]:l[0].filters.map(e=>Object.assign(Object.assign({},e),{filterCode:c})),e?C:[])},[C,l,L,c]),M=Object(n.useMemo)(()=>function(e,t,a){if(a===s.b.TYPEAHEAD){P(a,t);return function(e){if(0===e.length)return[];const t=" +"+(e.length-1),a=e.length>1?t:"";return[{label:e[0]+a,value:e[0]}]}(y(e,t))}if(a===s.b.MONTH){const t=w(e[0]);return t?[E(t)]:[]}return function(e){return e.map(e=>({label:e.label,value:e.label}))}(t)}(C,l,d),[l,C,d]),N=Object(n.useMemo)(()=>function(e,t,a){if(0===e.length)return[];if(a===s.b.TYPEAHEAD){P(a,t);const r=y(e,t);return(n=r).length>0?[n[0]]:[]}if(a===s.b.MONTH){return[j(w(e[0]))]}return t.reduce((t,n)=>(a===s.b.RADIO?n.filters[0].optionCode===e[0].optionCode&&t.push(n.label):t.push(n.label),t),[]);var n}(C,l,d),[l,C,d]);return Object(n.useEffect)(()=>{p&&g.dispatch(f.removeFilterAction(C))},[p]),1===l.length&&d===s.b.BOOLEAN?r.a.createElement(x.a,{reactKeyPrefix:m+"quick-filter-boolean-filter",selected:C.length>0,label:a,onClick:K,disabled:p,isClearable:h}):r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{reactKeyPrefix:m+"quick-filter-open-menu",items:M,selectedItems:N,onClickOpen:T,onClickClear:D,label:a,disabled:p,isClearable:h}),r.a.createElement(A.a,{reactKeyPrefix:m+"quick-filter-action-menu",anchorEl:O,open:Boolean(O),title:a,onCloseActionMenu:R},r.a.createElement(H,{filterCode:c,configs:l,activeFilters:C,onChange:L,type:d})))}},330:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(323),r=a(0),o=a.n(r);const i={filtersContainer:{display:"flex",pb:1,marginLeft:"auto",alignItems:"center","& > *:not(:last-child)":{marginRight:1},WebkitFlex:"none",overflowX:"scroll",scrollbarWidth:"none",msOverflowStyle:"none","&::-webkit-scrollbar":{width:0,height:0}}};function s({children:e}){return o.a.createElement(n.a,{sx:i.filtersContainer},e)}},46:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n=new(a(967).a)},61:function(e,t,a){"use strict";a.d(t,"a",(function(){return pe}));a(10),a(11),a(59);var n=a(1142),r=a.n(n),o=a(1141),i=a.n(o),s=a(214),l=a(473),c=a(130),d=a(887),u=a(981),p=a(0),h=a.n(p),m=a(1962),b=a(24),f=(a(109),a(1752)),g=a.n(f),C=a(246),O=a(323),v=a(1327),y=a(860),w=a(304),E=a(1754),j=a.n(E);var P=({reactKeyPrefix:e,placeholder:t,onChange:a,queryString:n})=>{const[r,o]=Object(p.useState)(null!=n?n:""),i=e=>a(r);return h.a.createElement(w.c,{defaultValue:""!==r?r:null,id:e+"-search-input",fullWidth:!0,sx:{flex:1,p:1,height:"2.8rem",minWidth:"270px"},placeholder:t,inputProps:{"aria-label":t},onChange:e=>{o(e.target.value)},onKeyUp:e=>{"Enter"!==e.key&&""!==r||i()},onBlur:()=>{a(r)},onFocus:e=>{e.target.select()},endAdornment:h.a.createElement(C.a,{id:e+"-search-button",type:"button",sx:{m:-1},"aria-label":"search",onClick:i,tabIndex:-1},h.a.createElement(j.a,null))})},S=a(837),k=a(803),F=a(6),x=a(38),A=a(3);function I(e){var t,a,n,r;const{filterOptions:o=[],reactKeyPrefix:i,sortOptions:s=[],filterValueOptions:l,quickFilters:c,topLeftElements:d,tableActions:u=[],classes:p,openFilterDrawer:m,filters:b,showFilterDrawer:f,onSearch:w,searchPlaceholder:E,queryString:j}=e,[I]=Object(F.a)([A.a.IInternationalization]),{common:T}=I.lang(),R=null!==(a=null===(t=o[0])||void 0===t?void 0:t.filterGroupCode)&&void 0!==a?a:"",D=null!==(r=null===(n=s[0])||void 0===n?void 0:n.groupCode)&&void 0!==r?r:"",L={fieldOptions:o,filterGroupCode:R,reactKeyPrefix:i,valueOptions:l},K=h.a.createElement("div",{className:p.sortComponent},h.a.createElement(S.a,{reactKeyPrefix:i+"sort",sortCode:D,availableSortOptions:s})),M=h.a.createElement(k.a,{selected:[],primaryActions:u,reactKeyPrefix:i+"-table-actions-buttons"}),N=b.some(e=>!e.filterCode),B=h.a.createElement(h.a.Fragment,null,h.a.createElement(C.a,{id:i+"filter-icon-btn",onClick:m,style:{color:N?x.a.primary:void 0}},h.a.createElement(g.a,null)),s.length?K:null,h.a.createElement(y.a,{reactKeyPrefix:i+"filter-drawer",filterGroups:[L],showDrawer:f,toggleDrawer:m})),V=!!c||!!o.length||0===o.length&&!!s.length;return h.a.createElement(O.a,{display:{sx:"block",sm:w?"flex":"block"},justifyContent:"space-between",gap:1},!!w&&h.a.createElement("div",null,h.a.createElement(P,{reactKeyPrefix:i,onChange:w,placeholder:null!=E?E:T.search,queryString:j})),(!!d||V||!!u.length)&&h.a.createElement("div",{className:p.filterComponent},h.a.createElement("div",{className:p.leftComponents},d),h.a.createElement("div",{className:p.filterComponentRight},c,o.length?B:null,0===o.length&&s.length?K:null,!!u.length&&h.a.createElement(h.a.Fragment,null,V&&h.a.createElement(v.a,{orientation:"vertical"}),M))))}var T=a(853),R=a(213),D=a(187);const L=Object(R.a)(e=>Object(D.a)({filterComponent:{display:"flex",WebkitFlex:"none",marginBottom:e.spacing(1),overflowX:"scroll",scrollbarWidth:"none","-ms-overflow-style":"none","&::-webkit-scrollbar":{width:0,height:0}},leftComponents:{flexDirection:"row",display:"flex",alignItems:"center","& > *":{margin:e.spacing(.5)}},filterComponentRight:{flexDirection:"row",display:"flex",marginLeft:"auto",alignItems:"center","& > *:not(:last-child)":{marginRight:e.spacing(1)}},customiseColumnsComponent:{marginLeft:"auto"},sortComponent:{marginLeft:"auto"},loadMoreContainer:{textAlign:"center",padding:e.spacing(2)},bulkUpdateButton:{minHeight:1.75,"&:disabled":{border:"0.5px solid grey",color:"grey"},"&:enabled":{border:"0.5px solid",borderColor:"#0066ff",color:"#0066ff"}},div:{padding:15}}));var K=a(23),M=a(1208);const N=T.a.div({padding:8,display:"inline-block"}),B=h.a.memo(e=>{const{i:t,loadedObjects:a,filters:n,sorts:r,totalObjects:o,onLoadItems:i,hideLoadingMessage:s=!1}=e,c=L({}),d=!!Object(K.a)(M.b)||null===o,u=0===a&&!d,p=a>=(null!=o?o:0),m=u||p;let b=h.a.createElement(l.a,{disabled:d||m,variant:"outlined",color:"primary",onClick:()=>{i(r,n)}},t.lang().common.loadMore);return d&&!s?b=h.a.createElement(N,null,t.lang().common.loading):u&&p&&(b=h.a.createElement(N,null,t.lang().common.noResults)),h.a.createElement("div",{className:c.loadMoreContainer},b)});var V=a(46),G=a(67);const H=h.a.memo(e=>{const{tableHeaders:t=[],reactKeyPrefix:a,onClickItem:n,onChangeHeaderSorting:r,userLocale:o,tableCustomisation:i,selectable:s,onSingleChecked:l,onAllCheckbox:c,keepCheckbox:d,preSelectedItem:u,selectedActions:p,primaryActions:m,renderCollapsibleRow:b,disableCollapsibleRow:f,title:g,keepSelectedWhenDataChanges:C,keepVisibleSelected:O,openCustomiseColumnsModal:v,onCloseModal:y,footer:w,data:E}=e,j=!(null==i?void 0:i.disableToolbar)&&m,P=h.a.createElement(G.a,{reactKeyPrefix:a,customisation:i,headers:t,userLocale:o,data:E,onRowClick:n,selectable:s,keepSelectedWhenDataChanges:C,keepVisibleSelected:O,onSingleChecked:l,onAllCheckbox:c,keepCheckbox:d,onChangeHeaderSorting:r,preSelectedRow:u,primaryActions:m,selectedActions:p,title:g,openCustomiseColumnsModal:v,onCloseModal:y,renderCollapsibleRow:b,disableCollapsibleRow:f,footer:w});return E.length||j?P:null});a(158);var q=a(4),U=a(16),_=a(165);function W(e,t,a){return""===e?[]:[Object(_.a)(q.c.GROUP_START,a,"SEARCH"),...t.reduce((n,r,o)=>(e&&(n.push({queryParamName:r,field:r,value:e,filterGroupCode:a,operator:q.c.LIKE_IGNORE_CASE,type:q.d.STRING,resolveField:r}),o<t.length-1&&n.push(Object(_.a)(q.c.OR,a,"SEARCH"))),n),[]),Object(_.a)(q.c.GROUP_END,a,"SEARCH")]}var Q=a(1751),z=a(1140),Y=a(47),$=a(21),X=a(802),J=a(94),Z=a(1403),ee=a(409),te=a(42),ae=a(7),ne=a(287),re=a(176),oe=a(1402),ie=a(87),se=a(35),le=a(132),ce=a(412);const de=30;function ue(e){var t;const{quickFilters:a,queryFilters:n=[],defaultFilters:o=[],filterOptions:f=[],filterValueOptions:g,clientFilteringSortingOnly:C,appendKeySort:O,defaultSorts:v=[],sortOptions:y=[],fields:w={},listId:E,queryStr:j,tsmodelType:P,requestHeaders:S={},shouldRenderPanelList:k,selectorMiddleware:T,reactKeyPrefix:R,tableCustomisation:D,topLeftElements:K,enableBulkUpdate:M=!1,pageItemLimit:N=de,hideLoadingMessage:G,onLoadedItems:q,hide:_,selectedActions:Y,primaryActions:$,selectable:X=!1,hideList:te=!1,tableHeaders:se=[],getColSpec:ue,renderCollapsibleRow:pe,disableCollapsibleRow:he,preSelectedItem:me,onClickItem:be,searchPaths:fe=[],searchPlaceholder:ge,footer:Ce,getRowCustomisation:Oe,state:{sortGroupCode:ve,sorts:ye,filterGroupCode:we,filters:Ee,userLocale:je,storeObjects:Pe,searchQuery:Se,customisedColumns:ke}}=e,[Fe,xe,Ae,Ie,Te,Re]=Object(F.a)([A.a.IInternationalization,ae.a.ITSModelActionsAsync,ae.a.IFilterActions,ae.a.ISortActions,ae.a.ISearchQueryActions,ae.a.Store]),[De,Le]=Object(p.useState)(ye),Ke=Object(p.useRef)(!0),Me=Object(p.useRef)(Object(oe.a)()),Ne=Object(p.useRef)(1),[Be,Ve]=Object(p.useState)(null),[Ge,He]=Object(p.useState)(!1),[qe,Ue]=Object(p.useState)(!0),[_e,We]=Object(p.useState)(!1),[Qe,ze]=Object(p.useState)(!1),[Ye,$e]=Object(p.useState)(!1),[Xe,Je]=Object(p.useState)([0]),[Ze,et]=Object(p.useState)("0"),[tt,at]=Object(p.useState)(!1),[nt,rt]=Object(p.useState)(me),ot=Array.isArray(w)?Object(ie.a)(w):w,it=L({}),st=Object(p.useMemo)(()=>W(Se,fe,we),[we,fe,Se]),lt=(null!=Be?Be:0)<=(null!==(t=null==Pe?void 0:Pe.length)&&void 0!==t?t:0),{common:ct}=Fe.getLanguageFile(),dt=Object.assign({disableSorting:!0,disableToolbar:!0,responsive:!0,disableCardSorting:!1},D),ut=T?T(Pe):Pe,pt=C?Object(ne.c)(Object(le.e)(ut,Ee),ye):ut,ht=Object(p.useMemo)(()=>Object(d.a)(pt,"key"),[pt]),mt=Object(p.useMemo)(()=>Object(Q.a)(pt,ue,je,Oe),[ue,Oe,pt,je]),bt=Object(p.useCallback)((e,t,a)=>{const n=function(e,t,a){if(a){const a={field:"key",groupCode:t,operator:U.b.DESC,queryParamName:"key"};return[...e,a]}return e}(e,ve,O),r=Object(oe.a)();xe.loadMultipleAction({fields:ot,filters:t,headers:S,identifier:E,overwriteKeysOnLoad:a,pageItemLimit:N,pageNumber:Ne.current,query:j,sorts:n,type:P,abortSignal:r.signal}).then(({headers:e})=>(e&&Ve(Number(e.totalobjectsnumber)),q&&q(),Promise.resolve())).catch(()=>Promise.reject()),Me.current=r,Ne.current++},[ot,O,E,q,N,j,S,ve,xe,P]),ft=Object(p.useCallback)((e,t,a=!1)=>{var r;a&&(Ne.current=1,Ve(0)),Me.current.abort();const o=W(null!==(r=Z.a.getSearchQueryState(Re.getState(),E))&&void 0!==r?r:"",fe,we);Object(b.b)(()=>bt(e,[...t,...n,...o],a))},[E,bt,Re]),gt=Object(p.useCallback)(()=>{var e,t;if(C)ft([],[],!0);else{const a=null!==(e=ee.a.getSortsByGroupCode(Re.getState(),ve))&&void 0!==e?e:[],n=null!==(t=J.a.getFiltersByGroupCode(Re.getState(),we))&&void 0!==t?t:[];ft(a,n,!0)}},[C,we,ft,ve,Re]),Ct=Object(p.useCallback)(()=>He(!Ge),[Ge]),Ot=Object(p.useCallback)(()=>{Ke.current&&(v.forEach(e=>Re.dispatch(Ie.removeSortAction(e))),Ke.current=!1)},[v,Ie,Re]),vt=Object(p.useCallback)(()=>at(!0),[]),yt=Object(p.useCallback)(e=>{ze(!!e&&!!e.length),e&&(et(String(e.length)),e.length>0&&Je(e))},[]),wt=Object(p.useCallback)(()=>{$e(!Ye)},[Ye]),Et=Object(p.useCallback)((e=!1)=>{et(e?ct.all:"0"),Je(e?ht:[]),ze(e)},[ct.all,ht]),jt=Object(p.useCallback)(()=>{Qe&&We(!_e),at(!0)},[Qe,_e]),Pt=Object(p.useCallback)(e=>{We(!_e),at(!e),e&&(et("0"),Je([]),ze(!1),gt())},[gt,_e]),St=Object(p.useCallback)(e=>{be&&(be(e),rt(Number(e)))},[be]),kt=Object(p.useCallback)(()=>{var t,a;return z.a.download(null!==(t=e.title)&&void 0!==t?t:"export",null!==(a=e.tableHeaders)&&void 0!==a?a:[],mt,je)},[mt,e.tableHeaders,e.title,je]);Object(p.useEffect)(()=>{qe&&!te&&(v.forEach(e=>Re.dispatch(Ie.putSortAction(e))),o.forEach(e=>Re.dispatch(Ae.putFilterAction(e))),setTimeout(()=>{Ue(!1)},500))},[te]);const Ft=Object(ce.a)();Object(p.useEffect)(()=>{if(Ft.length>0){const e=Ft.find(({id:e})=>ht.includes(e));e&&rt(e.id)}},[Ft,ht]);const xt=Object(re.b)([...Ee,...n,...st].map(e=>e.value).toString()+j,0);Object(u.a)(ye,De)||Le([...ye]),Object(p.useEffect)(()=>{void 0===nt&&rt(me)},[me]),Object(p.useEffect)(()=>{qe||ft(De,Ee,!0)},[De,xt,qe]),Object(p.useEffect)(()=>{const e=V.a.subscribe(()=>gt());return()=>e.unsubscribe()},[]),Object(p.useEffect)(()=>{if(a&&!we)throw new Error("Using QuickFilters requires filterGroupCode to be defined.")},[we,a]);const At=(null==dt?void 0:dt.disableToolbar)?[{reactKeyPrefix:R+"-customise-columns",label:ct.customiseColumns,disabled:!pt.length,icon:i.a,onClick:wt,iconButtonProps:{sx:{color:(null!=ke?ke:[]).length>0?x.a.primary:void 0}}},{reactKeyPrefix:R+"-download-csv",icon:r.a,disabled:!Be,label:ct.downloadCsv,onClick:kt}]:[];return _?h.a.createElement(h.a.Fragment,null):h.a.createElement("div",null,h.a.createElement(I,{classes:it,filterOptions:f,sortOptions:y,filterValueOptions:g,reactKeyPrefix:R+"sort-and-filters",quickFilters:a,topLeftElements:K,filters:Ee,showFilterDrawer:Ge,openFilterDrawer:Ct,openCustomiseColumnsModal:wt,onSearch:fe.length?e=>{Re.dispatch(Te.set({identifier:E,query:e}))}:void 0,searchPlaceholder:ge,queryString:Se,tableActions:At}),M&&h.a.createElement(h.a.Fragment,null,h.a.createElement(m.a,{reactKeyPrefix:R+"-bulk-update-view",showDialog:_e,tsModelType:P,closeDialog:Pt,selectedKeys:Xe,userLocale:je,onKeepCheckbox:vt}),h.a.createElement("div",{className:it.div},h.a.createElement(s.a,{container:!0,direction:"row-reverse",justifyContent:"space-between",alignItems:"center"},h.a.createElement(s.a,{item:!0,xs:6},h.a.createElement(s.a,{container:!0,direction:"row-reverse"},h.a.createElement(s.a,{item:!0},h.a.createElement(l.a,{disabled:!Qe,className:it.bulkUpdateButton,onClick:jt},ct.update)))),"0"!==Ze&&h.a.createElement(s.a,{item:!0,xs:6},h.a.createElement(c.a,{variant:"subtitle2"},Ze+" "+ct.selected))))),!k&&!te&&h.a.createElement(H,Object.assign({},e,{reactKeyPrefix:R+"-tsmodel-list-table",data:mt,tableHeaders:se,tableCustomisation:Object.assign({disableTools:!!At.length},dt),userLocale:je,selectable:M||X,onSingleChecked:yt,onAllCheckbox:Et,keepCheckbox:tt,onChangeHeaderSorting:Ot,selectedActions:Y,primaryActions:$,getColSpec:ue,keepVisibleSelected:!0,openCustomiseColumnsModal:Ye,onCloseModal:wt,renderCollapsibleRow:pe,disableCollapsibleRow:he,preSelectedItem:nt,onClickItem:St,footer:lt?Ce:void 0})),!te&&h.a.createElement(B,{i:Fe,loadedObjects:Pe.length,totalObjects:Be,filters:Ee,sorts:ye,onLoadItems:ft,hideLoadingMessage:G}))}const pe=Object(Y.a)((e,{sortOptions:t=[],defaultSorts:a=[],filterOptions:n=[],defaultFilters:r=[],quickFiltersGroupCode:o,fields:i,tsmodelType:s,listId:l,reactKeyPrefix:c})=>{var d,u,p,h,m,b,f,g,C,O,v,y;const w=null!==(p=null===(u=null!==(d=t[0])&&void 0!==d?d:a[0])||void 0===u?void 0:u.groupCode)&&void 0!==p?p:"tsmodel-panel-list-key-sort",E=null!==(f=null!==(b=null===(m=null!==(h=n[0])&&void 0!==h?h:r[0])||void 0===m?void 0:m.filterGroupCode)&&void 0!==b?b:o)&&void 0!==f?f:l+"_FILTER_GROUP_CODE",j=null!==(g=J.a.getFiltersByGroupCode(e,E))&&void 0!==g?g:[],P=null!==(C=Z.a.getSearchQueryState(e,l))&&void 0!==C?C:"";return{sortGroupCode:w,sorts:null!==(O=ee.a.getSortsByGroupCode(e,w))&&void 0!==O?O:[],filterGroupCode:E,filters:j,userLocale:null!==(v=te.a.getUserLocale(e))&&void 0!==v?v:se.f[0],storeObjects:$.a.getTSModelsBuilt(e,s,Array.isArray(i)?Object(ie.a)(i):i,l),searchQuery:P,customisedColumns:null!==(y=X.a.getCustomisedColumns(e,c+"-tsmodel-list-table"))&&void 0!==y?y:[]}},Object(p.memo)(ue))},63:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.Knot="kn",e.NauticalMile="nm",e.Weight="mt",e.Currency="USD",e.Percent="%",e.MeasurementMetric="M",e.MeasurementImperial="F",e.RPM="RPM",e.HRS="Hrs",e.Celcius="°C",e.Density="g/ml"}(n||(n={}))},719:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(218),r=a(246),o=a(1778),i=a.n(o),s=a(1777),l=a.n(s),c=a(0),d=a.n(c);const u=(new(a(88).a)).getLanguageFile(),p=e=>{const{allowTogglePasswordVisibility:t,showPassword:a,togglePasswordVisibility:o,reactKeyPrefix:s,changeTooltipTitle:c}=e,p=a?u.common.hidePassword:u.common.showPassWord,h=a?u.common.hideClientSecret:u.common.showClientSecret;return t?d.a.createElement(n.a,{title:c?h:p,placement:"top"},d.a.createElement("div",null,d.a.createElement(r.a,{id:s+"icon-btn","aria-label":c?h:p,onClick:o},a?d.a.createElement(l.a,null):d.a.createElement(i.a,null)))):null}},812:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(130),r=a(2102),o=a(0),i=a.n(o),s=a(38);function l(e,t,a,l){const c=e&&e.endAdornment?e.endAdornment:null,d=e&&e.startAdornment?e.startAdornment:null,u=!!d||!!a,p=e=>{e.preventDefault(),setTimeout(()=>{const e=t.current;if(e){const t=2*e.value.length;e.focus(),e.setSelectionRange(t,t)}},100)},h=(e,t)=>{const a=t.map((t,a)=>{const r=`${e}_adornment_${a}`;return"string"==typeof t||"number"==typeof t?i.a.createElement(n.a,{variant:"body1",color:""+s.b.bergenRain.secondary[7],key:r},t):i.a.createElement(o.Fragment,{key:r},t)});return i.a.createElement(r.a,{position:e,onMouseDown:p},a)};return{endAdornment:!!c||!!l?h("end",[c,l]):void 0,startAdornment:u?h("start",[d,a]):void 0}}},860:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(0),r=a.n(n),o=a(187),i=a(137);var s=a(1278),l=a(88),c=(a(2290),a(695)),d=a(2085),u=a(2095),p=a(2372),h=a(2106),m=a(1430),b=a(130),f=a(218),g=a(246),C=a(308),O=a.n(C);class v extends r.a.PureComponent{constructor(e){super(e),this.internationalization=new l.a,this.lang=this.internationalization.getLanguageFile(),this.state={activeTab:0,showDrawer:!1},this.onCloseDrawer=this.onCloseDrawer.bind(this),this.onChangeTab=this.onChangeTab.bind(this)}onCloseDrawer(){this.props.toggleDrawer()}onChangeTab(e,t){this.setState({activeTab:t})}render(){const{classes:e,filterGroups:t,showDrawer:a,toggleDrawer:n,reactKeyPrefix:o}=this.props,i=t.map(e=>r.a.createElement(d.a,{id:o+"tab",label:e.label,key:"fas-filter-tab-"+e.label})),l=t.length>1?r.a.createElement(u.a,{id:o+"tabs",value:this.state.activeTab,onChange:this.onChangeTab,variant:"scrollable",scrollButtons:"auto"},i):null;return r.a.createElement(p.a,{id:o+"mui-drawer",anchor:"right",onClose:this.onCloseDrawer,open:a,classes:{paper:e.paper}},r.a.createElement(h.a,{elevation:0,color:"default",position:"sticky"},r.a.createElement(m.a,{className:e.toolbar},r.a.createElement("div",{className:e.subject},r.a.createElement(b.a,{variant:"h6",className:e.title},this.lang.common.filters)),r.a.createElement(f.a,{title:this.lang.common.close,"aria-label":this.lang.common.close,enterDelay:300},r.a.createElement(g.a,{id:o+"icon-btn",onClick:n,className:e.closeIcon},r.a.createElement(O.a,null)))),l),r.a.createElement("div",{className:e.content},r.a.createElement(s.a,{filterOptions:t[this.state.activeTab].fieldOptions,filterGroupCode:t[this.state.activeTab].filterGroupCode,valueOptions:t[this.state.activeTab].valueOptions,reactKeyPrefix:t[this.state.activeTab].reactKeyPrefix})))}}const y=Object(c.a)(e=>Object(o.a)({paper:{[e.breakpoints.up("sm")]:{width:425}},subject:{display:"flex",flexDirection:"column",flex:1,minWidth:0},title:{color:i.a.palette.grey[700]},closeIcon:{color:i.a.palette.grey[700]},content:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1),display:"flex",flexDirection:"column",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},"& > *":{marginBottom:e.spacing(3)}}}))(v)},861:function(e,t,a){"use strict";a.d(t,"a",(function(){return P}));var n=a(187),r=a(695),o=a(0),i=a.n(o),s=a(719),l=a(1429),c=a(984),d=a(2343),u=a(218),p=a(1315),h=a.n(p),m=a(351),b=a(92),f=a(972),g=a(88);const C=(new g.a).getLanguageFile(),O=Object(r.a)(e=>Object(n.a)({li:{whiteSpace:"nowrap"},placementBottom:{[e.breakpoints.up("sm")]:{margin:"18px 0"}},tooltip:{}}))(e=>{const{children:t,classes:a,password:n,showTooltip:r,showValidationDetails:o=!0,user:s}=e,p=e=>e(n)?i.a.createElement(m.a,{color:"secondary"}):i.a.createElement(h.a,{color:"error"}),g=i.a.createElement(l.a,{disablePadding:!0,dense:!0},i.a.createElement(c.a,{className:a.li},i.a.createElement(d.a,null,p(f.a.containsUppercaseLetter)),"1"," ",C.common.uppercaseLetter),i.a.createElement(c.a,{className:a.li},i.a.createElement(d.a,null,p(f.a.containsLowercaseLetter)),"1"," ",C.common.lowercaseLetter),i.a.createElement(c.a,{className:a.li},i.a.createElement(d.a,null,p(f.a.containsNumber)),"1"," ",C.common.number),i.a.createElement(c.a,{className:a.li},i.a.createElement(d.a,null,p(b.a.containsSpecialCharacter)),"1"," ",C.common.specialCharacter),i.a.createElement(c.a,{className:a.li},i.a.createElement(d.a,null,n.length>=8?i.a.createElement(m.a,{color:"secondary"}):i.a.createElement(h.a,{color:"error"})),C.common.minimum," ",8," ",C.common.characters.toLowerCase()),i.a.createElement(c.a,{className:a.li},i.a.createElement(d.a,null,f.a.isPasswordValidAgainstUserDetails(s.userCode,s.userName,n)?i.a.createElement(m.a,{color:"secondary"}):i.a.createElement(h.a,{color:"error"})),C.common.mustNotContainUserNameOrCode));return o?i.a.createElement(u.a,{title:g,open:r,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,placement:"bottom",classes:{tooltip:a.tooltip,tooltipPlacementBottom:a.placementBottom}},i.a.createElement("div",null,t)):i.a.createElement("div",null,t)});var v=a(57),y=a(85),w=a(70),E=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a};class j extends i.a.PureComponent{constructor(e){super(e),this.internationalization=new g.a,this.state={confirmationPassword:"",hasBeenChanged:!1,isConfirmationPasswordValid:!0,isPasswordValid:!0,password:"",showConfirmationPassword:!1,showPassword:!1,tooltipOpen:!1},this.onChangePassword=this.onChangePassword.bind(this),this.togglePasswordVisibility=this.togglePasswordVisibility.bind(this),this.toggleConfirmationPasswordVisibility=this.toggleConfirmationPasswordVisibility.bind(this),this.validateConfirmationPassword=this.validateConfirmationPassword.bind(this),this.onChangeConfirmationPassword=this.onChangeConfirmationPassword.bind(this),this.onInputBlur=this.onInputBlur.bind(this),this.onFocusCapture=this.onFocusCapture.bind(this),this.onBlurCapture=this.onBlurCapture.bind(this),this.setPasswordValidity=this.setPasswordValidity.bind(this)}onChangePassword(e,t){const{user:a}=this.props;this.setState({password:e,isPasswordValid:t,hasBeenChanged:""!==e.trim()},()=>{this.setPasswordValidity(a)})}onChangeConfirmationPassword(e){const{user:t}=this.props;this.setState({confirmationPassword:e},()=>this.setPasswordValidity(t))}onInputBlur(){const{confirmationRequired:e,onInputBlur:t}=this.props,{isConfirmationPasswordValid:a,isPasswordValid:n,password:r,confirmationPassword:o}=this.state,i=r.length&&n,s=o.length&&a;t&&(!e&&i||i&&s)&&t(r)}togglePasswordVisibility(){this.setState({showPassword:!this.state.showPassword})}toggleConfirmationPasswordVisibility(){this.setState({showConfirmationPassword:!this.state.showConfirmationPassword})}setPasswordValidity(e){const{confirmationRequired:t,onInputChange:a}=this.props,{password:n,confirmationPassword:r,isPasswordValid:o}=this.state;if(e){const e=!t||r.length>0&&r===n;this.setState({isConfirmationPasswordValid:e},()=>{a&&a(n,o,e)})}}validateConfirmationPassword(e){return e===this.state.password}onFocusCapture(){this.setState({tooltipOpen:!0})}onBlurCapture(){this.setState({tooltipOpen:!1})}render(){const e=this.props,{classes:t,onInputBlur:a,onInputChange:n,allowTogglePasswordVisibility:r=!0,confirmationRequired:o=!1,user:l,reactKeyPrefix:c,disableTooltip:d}=e,u=E(e,["classes","onInputBlur","onInputChange","allowTogglePasswordVisibility","confirmationRequired","user","reactKeyPrefix","disableTooltip"]),{showPassword:p,password:h,confirmationPassword:m,isConfirmationPasswordValid:b,showConfirmationPassword:f,tooltipOpen:g,hasBeenChanged:C}=this.state,j=this.internationalization.getLanguageFile(),P=m.length>0,S=P&&!b,k=[{type:y.a.REGEX,object:l,regex:w.a.PASSWORD,helperText:this.internationalization.lang().validation.passwordNotSecure}];return i.a.createElement(i.a.Fragment,null,i.a.createElement(O,{showValidationDetails:!d,password:h,showTooltip:g,user:l},i.a.createElement(v.b,Object.assign({reactKeyPrefix:c+"text-input",label:d?"":j.model.password,disableTruncate:!p,onFocusCapture:this.onFocusCapture,onBlurCapture:this.onBlurCapture,onInputBlur:a?this.onInputBlur:void 0,onInputChange:this.onChangePassword,type:p?"text":"password",InputProps:{className:t.root,endAdornment:i.a.createElement(s.a,{reactKeyPrefix:c+"pw-adornment",allowTogglePasswordVisibility:r,showPassword:p,changeTooltipTitle:d,togglePasswordVisibility:this.togglePasswordVisibility,key:"password_end_adornment"})},validation:C?k:void 0},u))),o&&i.a.createElement(v.b,Object.assign({reactKeyPrefix:c+"text-input-repeat",label:j.common.repeatPassword,onInputChange:this.onChangeConfirmationPassword,onInputBlur:a?this.onInputBlur:void 0,helperText:P&&!b?j.common.passwordDoesNotMatch:"",type:"password",InputProps:{endAdornment:i.a.createElement(s.a,{reactKeyPrefix:c+"pw-confirm-adornment",allowTogglePasswordVisibility:!1,showPassword:f,togglePasswordVisibility:this.toggleConfirmationPasswordVisibility,key:"password_confirm__end_adornment"})},error:S},u,{autoFocus:!1})))}}const P=Object(r.a)(e=>Object(n.a)({root:{WebkitAlignItems:"center"}}))(j)}}]);
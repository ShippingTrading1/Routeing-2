(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{124:function(e,t,a){"use strict";var o,n;a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return n})),function(e){e[e.BEFORE_ALLOCATED=0]="BEFORE_ALLOCATED",e[e.AFTER_ALLOCATED=1]="AFTER_ALLOCATED",e[e.CARGO_ONTO_ALLOCATED=2]="CARGO_ONTO_ALLOCATED",e[e.VESSEL_OPEN_POSITION=3]="VESSEL_OPEN_POSITION",e[e.UNALLOCATED=4]="UNALLOCATED",e[e.EMPTY_ROW=5]="EMPTY_ROW"}(o||(o={})),function(e){e.VOYAGE_TYPES="VOYAGE_TYPES",e.CARGO="CARGO",e.NONE="NONE"}(n||(n={}))},1244:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a(0);const n=a.n(o).a.createContext({})},1246:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var o=a(0),n=a.n(o);const r={height:60,boxSizing:"border-box",position:"relative",display:"flex",flexDirection:"row",width:"100%"},l=e=>{const{height:t,children:a}=e,o={height:t+"px"};return n.a.createElement("div",{style:Object.assign(Object.assign({},r),o)},a)}},1247:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a(10),a(11);var o=a(323),n=a(0),r=a.n(n),l=a(38),i=a(160);const c=e=>({schedulerRowHeader:{boxSizing:"border-box",position:"relative",width:"100px",height:"100%",justifyContent:"center",alignContent:"center",backgroundColor:l.b.bergenRain.secondary[1],zIndex:5,marginRight:"-1px",background:e,div:{boxSizing:"border-box",width:"100%",height:"100%",padding:"5px"}}}),s=e=>{const{children:t,sx:a=[],width:n,index:s=0}=e,d=1&s?i.a.schedulerBoard[2]:l.b.bergenRain.secondary[2],u={width:(null!=n?n:0)+"px"};return r.a.createElement(o.a,{sx:[c(d).schedulerRowHeader,...Array.isArray(a)?a:[a]],style:u},r.a.createElement("div",null,null!=t?t:""))}},1248:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var o=a(0),n=a(845),r=a(38);const l={timelineLine:{backgroundColor:a(160).a.schedulerBoard[3],width:1,height:"100%",top:0,position:"absolute",zIndex:1}},i=({earliestVisibleDate:e,latestVisibleDate:t,timeUnit:a,showTodayLine:i=!0})=>{const c=(new n.a).getLines(e,t,a,i).map((e,t,a)=>{const n={left:e+"%"};return 0===t&&(n.backgroundColor=r.b.bergenRain.secondary[4]),i&&a.length===t+1&&(n.backgroundColor=r.b.sunsetRed.primary,n.zIndex=2,n.height="calc(100% + 1px)",n.width="1px"),o.createElement("div",{key:"timeline-lines"+t,style:Object.assign(Object.assign({},l.timelineLine),n)})});return o.createElement("div",null,c)}},1258:function(e,t,a){"use strict";a.d(t,"a",(function(){return ge}));var o=a(0),n=a.n(o),r=a(234),l=(a(10),a(11),a(118),a(218)),i=a(130),c=a(81),s=a(1),d=a(323),u=a(844),m=a(124),g=a(156),v=a(654);const p={dataItems:{position:"absolute",boxSizing:"border-box",maxHeight:50,height:"100%",justifyContent:"center",alignItems:"center",overflow:"hidden",zIndex:4}},b=n.a.memo(e=>{const{sx:t=[],onClick:a,data:r,reactKeyPrefix:l,leftAdjustment:i,length:c}=e,{canDrag:b}=Object(o.useContext)(v.a),y=n.a.useCallback(e=>{e.stopPropagation();const t=Object(g.c)(r)&&r.voyage?r.voyage.key:r.key;a&&a(s.a.voyage.name,t)},[r,a]),[{opacity:f,cursor:h},C]=Object(u.a)(m.b.VOYAGE_TYPES,r,b),E={left:i+"%",width:c+"%",opacity:f,cursor:h};return n.a.createElement(d.a,{id:l+r.key,sx:[p.dataItems,...Array.isArray(t)?t:[t]],key:"schedule-bar-"+r.key,style:E,onClick:y,ref:C},e.children)});var y=a(105),f=a(40),h=a(160),C=a(38),E=a(58),D=a(60),O=a(258),x=a.n(O),T=a(50),w=a(64),j=a(68);const P={calculateLinePercentages:function(e){const t=[],a=e[e.length-1].toDate.getTime()-e[0].fromDate.getTime();let o=0,n=0;return e.forEach(({fromDate:r,toDate:l},i)=>{n=(l.getTime()-r.getTime())/a*100,t.push(n),i!==e.length-1&&(o=(e[i+1].fromDate.getTime()-l.getTime())/a*100,o&&t.push(o))}),t}},L={timelineIndicator:{height:"5px",display:"flex",width:"100%",flexDirection:"row",position:"absolute"}},k=e=>{const{dates:t,indicatorStyle:a}=e,n=P.calculateLinePercentages(t).map((e,t)=>({isGap:!(1&t),percent:e}));let r=0;const l=n.map((e,t)=>{const n={left:r+"%",width:e.percent+"%"},l=e.isGap?a.gap:a.period;return r+=e.percent,o.createElement("div",{key:"scheduler-bar-timeline-indicator-line"+t,style:Object.assign(Object.assign({},n),l)})});return o.createElement(d.a,{sx:L.timelineIndicator},l)};var S=a(1327),A=a(226),N=a(722),R=a(6),F=a(78),V=a(3);const B={tooltip:{width:288,marginTop:8,marginBottom:8},divider:{background:C.b.bergenRain.secondary[1],marginRight:1,marginLeft:.75,marginTop:.5,marginBottom:.5}},I=(e,t,a,o)=>{var r,l,i,c,s,d,u,m,g,v,p,b,y,f,h,C,E,O,x,T,w,j,P,L,k,I,M,G,W,_,K,Y,z,H,$,U,Z;const[q]=Object(R.a)([V.a.IInternationalization]),{model:Q,fas:X}=q.getLanguageFile(),{ballastPort:J}=t,ee=null!==(r=null==J?void 0:J.portName)&&void 0!==r?r:"",te=null!==(i=null===(l=t.voyageHeader)||void 0===l?void 0:l.referenceNo)&&void 0!==i?i:"",ae=null!==(s=null===(c=t.voyageHeader)||void 0===c?void 0:c.voyageStartDate)&&void 0!==s?s:null,oe=null!==(u=null===(d=t.voyageHeader)||void 0===d?void 0:d.voyageEndDate)&&void 0!==u?u:null,ne=null!==(m=e.isOption)&&void 0!==m?m:null,re=null!==(g=e.optionStatus)&&void 0!==g?g:null;let le;a&&ae&&oe?le=F.a.getFormattedDateRangeAsString(ae,oe,a,!0,!0):null===oe&&(le=ae+" - -");const ie=t.portCallsFromVoyage,ce=D.a.getFirstLoadPortCall(ie),se=t.isTc?null!==(b=null===(p=null===(v=t.tcs[0])||void 0===v?void 0:v.deliveryPort)||void 0===p?void 0:p.portName)&&void 0!==b?b:"":null!==(f=null===(y=null==ce?void 0:ce.port)||void 0===y?void 0:y.portName)&&void 0!==f?f:"",de=D.a.getLastDischargePortCall(ie),ue=t.isTc?null!==(E=null===(C=null===(h=t.tcs[0])||void 0===h?void 0:h.redeliveryPort)||void 0===C?void 0:C.portName)&&void 0!==E?E:"":null!==(x=null===(O=null==de?void 0:de.port)||void 0===O?void 0:O.portName)&&void 0!==x?x:"",me=N.a.getDateString(t.isTc?null===(T=t.tcs[0])||void 0===T?void 0:T.laycanFrom:null==e?void 0:e.laycanFrom,t.isTc?null===(w=t.tcs[0])||void 0===w?void 0:w.laycanTo:null==e?void 0:e.laycanTo,a,o||null==e?void 0:e.laycanMissedBy),ge=t.isTc?null!==(L=null===(P=null===(j=t.tcs[0])||void 0===j?void 0:j.charterer)||void 0===P?void 0:P.businessPartnerName)&&void 0!==L?L:"":null!==(I=null===(k=e.charterer)||void 0===k?void 0:k.businessPartnerName)&&void 0!==I?I:"",ve=t.isTc?"":null!==(G=null===(M=e.commodity)||void 0===M?void 0:M.commodityName)&&void 0!==G?G:"",pe=t.isTc?"":null!==(Y=null===(K=null===(_=null===(W=e.commodity)||void 0===W?void 0:W.commodityGroup)||void 0===_?void 0:_.commodityClass)||void 0===K?void 0:K.commodityClassDesc)&&void 0!==Y?Y:"",be=t.isTc?"":null!==(z=e.cargoQuantity)&&void 0!==z?z:"",ye=t.isTc?"":null!==($=null===(H=e.cargoMeasurement)||void 0===H?void 0:H.measurementCode)&&void 0!==$?$:"",fe=t.isTc?"":`${be} ${ye}`,he=!!me,Ce=!!(ge||ve||pe||fe);return n.a.createElement("div",{style:B.tooltip},n.a.createElement(A.a,{label:Q.voyageReference,content:te,showContent:!!te}),n.a.createElement(A.a,{label:Q.voyageStartEnd,content:le,showContent:!!le}),n.a.createElement(A.a,{label:Q.ballastPort,content:ee,showContent:!!ee}),n.a.createElement(A.a,{label:t.isTc?Q.deliveryPort:X.firstLoadPort,content:se,showContent:!!se}),n.a.createElement(A.a,{label:t.isTc?Q.redeliveryPort:X.lastDisPort,content:ue,showContent:!!ue}),he&&n.a.createElement(S.a,{sx:B.divider}),n.a.createElement(A.a,{label:Q.layCan,content:me,showContent:!!me}),Ce&&n.a.createElement(S.a,{sx:B.divider}),n.a.createElement(A.a,{label:Q.charterer,content:ge,showContent:!!ge}),n.a.createElement(A.a,{label:Q.commodity,content:ve,showContent:!!ve}),n.a.createElement(A.a,{label:Q.commodityClass,content:pe,showContent:!!pe}),n.a.createElement(A.a,{label:Q.quantity,content:fe,showContent:!!fe}),"SCU"===(null===(Z=null===(U=t.voyageHeader)||void 0===U?void 0:U.voyageStatus)||void 0===Z?void 0:Z.statusTypeCode)&&n.a.createElement(A.a,{label:Q.optionStatus,content:null==re?void 0:re.statusTypeDesc,showContent:!!ne}))};var M=a(303),G=a(217),W=a(862);const _={getSecondScale:function(e,t){return 100/((t.getTime()-e.getTime())/1e3)},getLengthRelativeToScale:function(e,t,a){return(t.getTime()-e.getTime())/1e3*a},getStartPositionRelativeToScale:function(e,t,a){return(e.getTime()-t.getTime())/1e3*a}};var K=a(2493);const Y={gap:{backgroundColor:C.b.bergenRain.secondary[4]},period:{backgroundColor:C.b.bergenRain.secondary[7]}},z=n.a.memo(e=>{var t,a,r,d,u,g,v,p,C,O,P,L,S,A,N,R;const{fpv:F,startDate:V,endDate:B,earliestVisibleDate:z,latestVisibleDate:H,onClick:$,reactKeyPrefix:U,userLocale:Z,isCardActive:q}=e,Q=(e=>({container:{backgroundColor:h.a.schedulerBoard[4],cursor:"pointer",outline:e?"2px solid "+h.a.hoverColors[4]:void 0,border:e?void 0:"1px solid "+h.a.hoverColors[1],borderRadius:"6px","&:hover":{border:e?void 0:"1px solid "+h.a.hoverColors[2],borderRadius:"6px"}},bar:{overflow:"hidden",height:"100%",padding:"4px",paddingTop:"9px",display:"flex",flexDirection:"row",width:"max-content"},top:{display:"flex",flexDirection:"row"},bottom:{paddingTop:"4px",verticalAlign:"bottom",display:"flex",flexDirection:"row",alignSelf:"flex-end"},arrow:{verticalAlign:"middle",fontSize:15}}))(q),{voyage:X}=F,[J,ee]=Object(o.useState)(!1),{isDragging:te}=Object(K.a)(e=>({isDragging:e.isDragging()}));if(Object(o.useEffect)(()=>{te&&!J?ee(!0):!te&&J&&ee(!1)},[J,te]),!X)return null;const ae=Object(c.a)(X,"voyageHeader.voyageStatus.statusTypeDesc",""),oe=D.a.getPerformanceCargo(X.cargos),ne=E.a.getFirstLoadCargoPort(oe.cargoPorts),re=E.a.getLastDischargeCargoPort(oe.cargoPorts),le=E.a.getPortCallFromCargoPort(null!==(t=null==X?void 0:X.portCallsFromVoyage)&&void 0!==t?t:[],null!=ne?ne:new w.a({})),ie=X.isTc?null!==(d=null===(r=null===(a=X.tcs[0])||void 0===a?void 0:a.deliveryPort)||void 0===r?void 0:r.portName)&&void 0!==d?d:"":null!==(g=null===(u=null==ne?void 0:ne.port)||void 0===u?void 0:u.portName)&&void 0!==g?g:"",ce=X.isTc?null!==(C=null===(p=null===(v=X.tcs[0])||void 0===v?void 0:v.redeliveryPort)||void 0===p?void 0:p.portName)&&void 0!==C?C:"":null!==(P=null===(O=null==re?void 0:re.port)||void 0===O?void 0:O.portName)&&void 0!==P?P:"",se=T.a.getEventLogDateFromPC(le,"ARR");let de=new j.a({});const ue=X.portCallsFromVoyage.sort(T.a.sortByPortCallSequence).map((e,t)=>{var a,o;const{eventLogs:n}=e;0===t&&(de=e);return{fromDate:null!==(a=T.a.getEventLogDate(n,"ARR"))&&void 0!==a?a:new Date,toDate:null!==(o=T.a.getEventLogDate(n,"DEP"))&&void 0!==o?o:new Date}});ue.unshift({fromDate:null!==(S=null===(L=X.voyageHeader)||void 0===L?void 0:L.voyageStartDate)&&void 0!==S?S:new Date,toDate:null!==(A=T.a.getEventLogDate(null==de?void 0:de.eventLogs,"ARR"))&&void 0!==A?A:new Date});const me=Object(o.useMemo)(()=>I(oe,X,Z,!1),[oe,X,Z]),{laycanFrom:ge,laycanTo:ve,laycanMissedBy:pe}=Object(G.b)(X),be=_.getSecondScale(z,H),ye=_.getStartPositionRelativeToScale(V,z,be),fe=_.getLengthRelativeToScale(V,B,be),he={width:"2rem",left:`calc(${ye}% - 2rem)`},Ce={width:"2rem",left:ye+fe+"%"};return n.a.createElement("div",null,n.a.createElement(W.a,{targetData:F,acceptsDragType:m.b.VOYAGE_TYPES,leftDropStyleArea:he,rightDropStyleArea:Ce,key:"drop-targets-"+F.key}),n.a.createElement(b,{key:"rowdataitem-"+F.key,data:F,onClick:$,sx:Q.container,reactKeyPrefix:U+"-row-data-item",leftAdjustment:ye,length:fe},n.a.createElement(k,{dates:ue,indicatorStyle:Y}),n.a.createElement(l.a,{title:me,followCursor:!0,enterDelay:1e3,enterNextDelay:1e3,componentsProps:{tooltip:{hidden:J}}},n.a.createElement("div",null,n.a.createElement("div",{style:Q.bar},n.a.createElement("div",null,n.a.createElement("div",{style:Q.top},n.a.createElement(i.a,{variant:"subtitle2",sx:{pr:.5}},null===(R=null===(N=F.voyage)||void 0===N?void 0:N.voyageHeader)||void 0===R?void 0:R.referenceNo),n.a.createElement(f.a,{label:ae,priority:y.a.getStatusPriority(ae,s.a.voyage)})),n.a.createElement("div",{style:Q.bottom},n.a.createElement(i.a,{variant:"body2",sx:{pr:.5}},ie),n.a.createElement(x.a,{sx:Q.arrow}),n.a.createElement(i.a,{variant:"body2",sx:{pl:.5}},ce))),n.a.createElement("div",{style:{paddingLeft:4}},n.a.createElement(M.a,{eta:null!=se?se:new Date,laycanFrom:ge,laycanTo:ve,laycanMissedBy:pe,hasBorder:!0,reactKeyPrefix:U})))))))}),H={ports:{textAlign:"right",position:"absolute",paddingRight:.5,zIndex:1,display:"inline-block",overflow:"hidden",whiteSpace:"nowrap"},padding:{pt:1.2},ballastPadding:{pt:2.1},font:{color:C.b.bergenRain.primary,fontSize:11},column:{flex:1},bold:{fontWeight:"bold"}},$=n.a.memo(e=>{var t,a,o,r,l,c;const{voyage:s,leftAdjustment:u,length:m}=e,{ballastPort:g}=s,v=null!==(t=null==g?void 0:g.portName)&&void 0!==t?t:"",p=null==s?void 0:s.portCallsFromVoyage,b=D.a.getFirstLoadPortCall(p),y=s.isTc?null!==(r=null===(o=null===(a=s.tcs[0])||void 0===a?void 0:a.deliveryPort)||void 0===o?void 0:o.portName)&&void 0!==r?r:"":null!==(c=null===(l=null==b?void 0:b.port)||void 0===l?void 0:l.portName)&&void 0!==c?c:"",f={width:"10rem",left:`calc(${u}% - 10rem)`,right:`calc(${u-m})%`};return n.a.createElement(n.a.Fragment,null,n.a.createElement(d.a,{sx:[H.ports,y?H.padding:H.ballastPadding,f]},n.a.createElement(i.a,{sx:[H.column,H.font,H.bold]},"B. "+v," "),n.a.createElement(i.a,{sx:[H.column,H.font]},y)))}),U={dischargePort:{textAlign:"left",position:"absolute",pt:2.1,paddingLeft:.5,zIndex:1,color:C.b.bergenRain.primary,fontSize:11}},Z=n.a.memo(e=>{var t,a,o,r,l;const{voyage:i,leftAdjustment:c,length:s}=e,u=null==i?void 0:i.portCallsFromVoyage,m=D.a.getLastDischargePortCall(u),g=i.isTc?null!==(o=null===(a=null===(t=i.tcs[0])||void 0===t?void 0:t.redeliveryPort)||void 0===a?void 0:a.portName)&&void 0!==o?o:"":null!==(l=null===(r=null==m?void 0:m.port)||void 0===r?void 0:r.portName)&&void 0!==l?l:"",v={left:c+s+"%"};return n.a.createElement(d.a,{sx:[U.dischargePort,v]},g)});var q=a(888),Q=a(1309),X=a(2385);const J={gap:{backgroundColor:h.a.schedulerBoard[5]},period:{backgroundColor:C.b.greenSea.secondary[3]}},ee=n.a.memo(e=>{var t,a,r,c,s,d,u,m,g,v;const{voyage:p,startDate:y,endDate:f,earliestVisibleDate:E,latestVisibleDate:O,onClick:x,userLocale:T,reactKeyPrefix:w,isCardActive:j}=e,P=(e=>({container:{background:C.b.greenSea.secondary[1],outline:e?"2px solid "+h.a.hoverColors[4]:void 0,border:e?void 0:"1px solid "+h.a.hoverColors[1],borderRadius:"6px","&:hover":{cursor:"pointer",border:e?void 0:"1px solid "+h.a.hoverColors[2],borderRadius:"6px"}},bar:{overflow:"hidden",height:"100%",padding:"4px",paddingTop:"9px",flexDirection:"row",width:"max-content"},top:{display:"flex",flexDirection:"row"},bottom:{verticalAlign:"bottom",display:"flex",flexDirection:"row"}}))(j),L=D.a.getPerformanceCargo(p.cargos),S=(null==p?void 0:p.isTc)?null!==(r=null===(a=null===(t=p.tcs[0])||void 0===t?void 0:t.charterer)||void 0===a?void 0:a.businessPartnerName)&&void 0!==r?r:"":null!==(s=null===(c=null==L?void 0:L.charterer)||void 0===c?void 0:c.businessPartnerName)&&void 0!==s?s:"",A=null===(d=L.commodity)||void 0===d?void 0:d.commodityName;let R,F;p.isTc&&p.tcs.length?(R=p.tcs[0].laycanFrom,F=p.tcs[0].laycanTo):(R=L.laycanFrom,F=L.laycanTo);const V=N.a.getDateString((null==p?void 0:p.isTc)?null!==(m=null===(u=p.tcs[0])||void 0===u?void 0:u.laycanFrom)&&void 0!==m?m:null:L.laycanFrom,(null==p?void 0:p.isTc)?null!==(v=null===(g=p.tcs[0])||void 0===g?void 0:g.laycanTo)&&void 0!==v?v:null:L.laycanTo,T),B=Object(o.useMemo)(()=>{var e,t,a,o;const n=null!==(t=null===(e=p.voyageHeader)||void 0===e?void 0:e.voyageStartDate)&&void 0!==t?t:new Date,r=null!==(o=null===(a=p.voyageHeader)||void 0===a?void 0:a.voyageEndDate)&&void 0!==o?o:new Date,l=[{fromDate:n,toDate:r}];if(Object(G.d)(R,F)&&Object(X.a)(R)&&Object(X.a)(F)){if(Object(q.a)(F,y))return l;const e=Object(q.a)(R,n)?n:R,t=Object(Q.a)(F,r)?r:F;return[{fromDate:y,toDate:null!=e?e:new Date},{fromDate:null!=e?e:new Date,toDate:null!=t?t:new Date},{fromDate:null!=t?t:new Date,toDate:r}]}return l},[R,F,y,p]),M=_.getSecondScale(E,O),W=_.getStartPositionRelativeToScale(y,E,M),Y=_.getLengthRelativeToScale(y,f,M),z={left:W+"%",width:Y+"%"},H=Object(o.useMemo)(()=>I(L,p,T,!0),[L,T,p]),[U,ee]=Object(o.useState)(!1),{isDragging:te}=Object(K.a)(e=>({isDragging:e.isDragging()}));return Object(o.useEffect)(()=>{te&&!U?ee(!0):!te&&U&&ee(!1)},[U,te]),n.a.createElement(n.a.Fragment,null,n.a.createElement($,{voyage:p,leftAdjustment:W,length:Y}),n.a.createElement("div",{style:z},n.a.createElement(l.a,{title:H,followCursor:!0,enterDelay:1e3,enterNextDelay:1e3,componentsProps:{tooltip:{hidden:U}}},n.a.createElement("div",null,n.a.createElement(b,{key:"rowdataitem-"+p.key,data:p,onClick:x,sx:P.container,reactKeyPrefix:w+"-row-data-item",leftAdjustment:W,length:Y},n.a.createElement(k,{dates:B,indicatorStyle:J}),n.a.createElement("div",{style:P.bar},n.a.createElement("div",{style:P.top},n.a.createElement(i.a,{variant:"subtitle2",sx:{pr:.5}},S),n.a.createElement(i.a,{variant:"subtitle2",style:{color:C.b.greenSea.secondary[3]}},V)),n.a.createElement("div",{style:P.bottom},n.a.createElement(i.a,{variant:"body2"},A))))))),n.a.createElement(Z,{voyage:p,leftAdjustment:W,length:Y}))}),te=n.a.memo(e=>{var t;const{data:a,startDate:l,endDate:i,earliestVisibleDate:c,latestVisibleDate:d,onClick:u,userLocale:m,reactKeyPrefix:g}=e,v=a.$tsmodelClassName,{selectedCard:p}=Object(o.useContext)(r.a);switch(v){case s.a.fleetplanvoyage.name.toLowerCase():const e=a;return n.a.createElement(z,{key:e.key,fpv:e,startDate:l,endDate:i,earliestVisibleDate:c,latestVisibleDate:d,onClick:u,reactKeyPrefix:g+"-fleet-plan-voyage-bar",userLocale:m,isCardActive:p===(null===(t=null==e?void 0:e.voyage)||void 0===t?void 0:t.key)});case s.a.voyage.name.toLowerCase():const o=a;return n.a.createElement(ee,{key:o.key,voyage:o,startDate:l,endDate:i,earliestVisibleDate:c,latestVisibleDate:d,onClick:u,userLocale:m,reactKeyPrefix:g+"-voyage-bar",isCardActive:p===(null==o?void 0:o.key)});default:return n.a.createElement("div",null,"Not Supported Yet")}});var ae=a(1248),oe=a(845);const ne={timelineLine:{backgroundColor:C.b.bergenRain.secondary[4],width:1,height:"100%",top:0,position:"absolute",zIndex:1}},re=({earliestVisibleDate:e,latestVisibleDate:t,timeUnit:a})=>{const n=(new oe.a).getPeriodLines(e,t,a).map((e,t)=>{const a={left:e+"%"};return o.createElement("div",{key:"timeline-lines"+t,style:Object.assign(Object.assign({},ne.timelineLine),a)})});return o.createElement("div",null,n)},le={rows:{borderTop:"0.5px solid "+C.b.bergenRain.secondary[4],zIndex:1},rowData:{flex:1,padding:5,boxSizing:"border-box",position:"relative",height:"100%",borderTop:"0.5px solid "+C.b.bergenRain.secondary[4]}},ie=o.memo(e=>{const{earliestVisibleDate:t,latestVisibleDate:a,rowData:n,timeUnit:r,userLocale:l,onClick:i,isFirstEvent:c=!1,DisplayBar:s,reactKeyPrefix:d,header:u}=e,g=n.map(e=>{const{end:n,start:r,data:c}=e;if(r&&n){const e=r>a;if(!(n<t)&&!e&&s)return o.createElement(s,{data:c,key:"rowdataitem-"+c.key,startDate:r,endDate:n,earliestVisibleDate:t,latestVisibleDate:a,onClick:i,reactKeyPrefix:d+"-display",userLocale:l})}return null});return o.createElement("div",{style:Object.assign(Object.assign({},c?{}:le.rows),le.rowData)},o.createElement(re,{earliestVisibleDate:t,latestVisibleDate:a,timeUnit:r}),o.createElement(ae.a,{earliestVisibleDate:t,latestVisibleDate:a,timeUnit:r}),g,!g.length&&o.createElement(W.a,{targetData:u,acceptsDragType:m.b.VOYAGE_TYPES,key:"drop-targets-"+u.key}))});var ce=a(1247),se=a(1246),de=a(123);const ue={header:{fontSize:"12px",fontWeight:500,lineHeight:1,margin:0},info:{fontSize:"11px",lineHeight:1,margin:0}},me=e=>{var t,a,n;const{header:r,showDetails:l=!0}=e;let i="",c=0,s=0;"object"==typeof r?(i=null!==(t=null==r?void 0:r.vesselName)&&void 0!==t?t:"",c=null!==(a=null==r?void 0:r.draftSummer)&&void 0!==a?a:0,s=null!==(n=null==r?void 0:r.dwtSummer)&&void 0!==n?n:0):i=r;const d=l?o.createElement(o.Fragment,null,o.createElement("p",{style:ue.info},"Draft: ",de.a.formatNumber(c)," m"),o.createElement("p",{style:ue.info},"DWT: ",de.a.formatNumber(s)," MT")):null;return o.createElement("div",{style:(u=l?"start":"center",{display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",alignItems:u})},o.createElement("h5",{style:ue.header},i.toUpperCase()),d);var u},ge=e=>{const{event:t,eventIndex:a,reactKeyPrefix:o,earliestVisibleDate:r,latestVisibleDate:l,timeUnit:i,onClickBar:c,sx:s,userLocale:d,showHeaderDetail:u}=e,{header:m,rows:g}=t;return n.a.createElement(n.a.Fragment,null,g.map((e,t)=>n.a.createElement(se.a,{key:`${o}-row-${t}`,height:60},n.a.createElement(ce.a,{index:a,width:150,sx:Array.isArray(s)?s:[s],reactKeyPrefix:o+"-row-header"},0===t&&n.a.createElement(me,{header:m,showDetails:u})),n.a.createElement(ie,{header:m,isFirstEvent:!a,rowData:e,earliestVisibleDate:r,latestVisibleDate:l,timeUnit:i,reactKeyPrefix:o+"-row-data",onClick:c,userLocale:d,DisplayBar:te}))))}},1259:function(e,t,a){"use strict";a.d(t,"a",(function(){return ge}));a(10),a(11),a(118);var o=a(26),n=a(0),r=a.n(n),l=a(2483),i=a(124),c=a(2493),s=a(1302),d=a(213),u=a(187);const m=Object(d.a)(e=>Object(u.a)({root:e=>({visibility:e.visible?"visible":"hidden",top:0,right:0,left:0,bottom:0,zIndex:10,position:"absolute"})}));function g(e){const t=m(e);return r.a.createElement("div",{className:Object(o.default)(t.root,e.classNames)},r.a.createElement(s.a,{targetData:null,acceptsDragType:e.acceptsDragType}))}var v=a(453),p=a(129);function b(e){const{rows:t,onDrop:a,canDrop:l,canDrag:s,showCommitments:d,classes:u,boardType:m}=e,[b,y]=Object(n.useState)(!1),f=Object(c.a)(e=>({itemType:e.getItemType(),isDragging:e.isDragging(),monitor:e})),{itemType:h,isDragging:C,monitor:E}=f;return Object(n.useEffect)(()=>{C&&l&&l({dropZoneType:i.a.UNALLOCATED,dropTargetItem:null,monitor:E,item:E.getItem()})?y(!0):!C&&b&&y(!1)},[m,s,l,f,C,E,b]),Object(n.useMemo)(()=>d?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a.Provider,{value:{onDrop:a.bind(null,p.a.NONE),canDrop:l,canDrag:s}},r.a.createElement(g,{visible:b,acceptsDragType:C&&h?h:i.b.NONE,classNames:Object(o.default)(b&&[u.left,u.side,u.container])})),r.a.createElement("div",{className:Object(o.default)(u.left,u.side,u.container,b&&u.hidden)},t)):r.a.createElement("div",null),[s,l,u.container,u.left,u.side,d,C,h,a,t,b])}const y=Object(d.a)(e=>({boards:{display:"flex",flexDirection:"row",position:"relative",overflow:"hidden",backgroundColor:e.palette.grey[100],paddingBottom:e.spacing(2),height:"100%"},headers:{display:"flex",flexDirection:"row",position:"relative","& > *:first-child":{borderRight:"1px solid "+e.palette.grey[300]}},container:{borderColor:e.palette.grey[300],borderWidth:"0 1px 0 0",borderStyle:"solid",flex:"1 1 100%",overflowY:"auto",paddingTop:e.spacing(2)},side:{display:"flex",flexDirection:"column"},left:e=>({flex:`0 0 ${1/(e.visibleColumns+1)*100}%`,position:"relative",overflowX:"auto"}),right:{flex:"1 1 0",position:"relative",overflowX:"auto"},hidden:{display:"none"}}));var f=a(218),h=a(982),C=a(2107),E=a(1328),D=a(246),O=a(833),x=a.n(O),T=a(413),w=a.n(T),j=a(6),P=a(3),L=a(130),k=(a(109),a(158),a(2492)),S=a(2491),A=a(2360),N=a(81),R=a(1),F=a(958);function V(e,t){return e===z?1:t===z?-1:e>t?1:e===t?0:-1}function B(e,t){try{return e.localeCompare(t,"en",{numeric:!0,ignorePunctuation:!0})}catch(t){return e===z?1:-1}}function I(e,t,a){switch(e){case p.a.WEEK:case p.a.MONTH:return B(t,a);case p.a.VESSEL:return V(Object(F.a)(R.a.vessel,t,"vesselName",z),Object(F.a)(R.a.vessel,a,"vesselName",z));case p.a.LOAD_AREA:case p.a.DISCHARGE_AREA:default:return V(t,a)}}var M=a(115),G=a(156),W=a(91),_=a(310),K=a(60),Y=a(50);const z="Other",H={[p.a.NONE]:e=>z,[p.a.WEEK]:e=>U(p.a.WEEK,e),[p.a.MONTH]:e=>U(p.a.MONTH,e),[p.a.VESSEL]:e=>{var t,a,o,n,r;return Object(M.c)(e)?null!==(o=null===(a=null===(t=e.voyage)||void 0===t?void 0:t.vessel)||void 0===a?void 0:a.key)&&void 0!==o?o:z:null!==(r=null===(n=e.vessel)||void 0===n?void 0:n.key)&&void 0!==r?r:z},[p.a.LOAD_AREA]:e=>Z(e,K.a.getFirstLoadPort),[p.a.DISCHARGE_AREA]:e=>Z(e,K.a.getLastDischargePort)};function $(e){return{[p.a.WEEK]:Object(k.a)(e),[p.a.MONTH]:e.getMonth()}}function U(e,t){var a;if(Object(G.f)(t)){if(t.openPositionPortDate)return`${t.openPositionPortDate.getFullYear()} - ${$(t.openPositionPortDate)[e]}`}else if(Object(G.c)(t)){const{voyage:o}=t;if(null==o?void 0:o.voyageEndDateGMT)return`${null===(a=o.voyageEndDateGMT)||void 0===a?void 0:a.getFullYear()} - ${$(o.voyageEndDateGMT)[e]}`}else if(Object(M.f)(t)){if(t.voyageStartDateGMT)return`${t.voyageStartDateGMT.getFullYear()} - ${$(t.voyageStartDateGMT)[e]}`}else if(Object(G.a)(t)){if(t.laycanFrom)return`${t.laycanFrom.getFullYear()} - ${$(t.laycanFrom)[e]}`}else{if(!Object(M.c)(t))return z;{const a=Y.a.getEventLogDateFromPC(t,"DEP");if(a)return`${a.getFullYear()} - ${$(a)[e]}`}}}function Z(e,t){var a,o,n;let r;return Object(G.f)(e)?r=e.openPositionPort:Object(G.c)(e)&&(r=t(null!==(o=null===(a=e.voyage)||void 0===a?void 0:a.portCallsFromVoyage)&&void 0!==o?o:[])),null!==(n=_.a.getScenarioAreaFromPort(null!=r?r:new W.a({})))&&void 0!==n?n:z}function q(e,t,a){var o,n;if(Object(M.b)(t)&&Object(M.b)(a))return function(e,t,a){var o,n,r,l;if(e===z){const e=null!==(n=null===(o=t.voyage)||void 0===o?void 0:o.voyageEndDateGMT)&&void 0!==n?n:0,i=null!==(l=null===(r=a.voyage)||void 0===r?void 0:r.voyageEndDateGMT)&&void 0!==l?l:0;return e&&i?e>i?1:e<i?-1:0:0}return t.sequence>a.sequence?1:t.sequence<a.sequence?-1:0}(e,t,a);if(Object(M.f)(t)&&Object(M.f)(a)&&t.voyageStartDateGMT&&a.voyageStartDateGMT){const e=K.a.getPerformanceCargo(t.cargos),o=K.a.getPerformanceCargo(a.cargos),n=Object(N.a)(e,"laycanFrom",null),r=Object(N.a)(o,"laycanFrom",null),l=t.voyageStartDateGMT,i=a.voyageStartDateGMT;return Q(n,r)||Q(l,i)}if(Object(M.a)(t)&&Object(M.a)(a)){return Q(Object(N.a)(t,"laycanFrom",null),Object(N.a)(a,"laycanFrom",null))||(t.charterer&&a.charterer&&(null===(o=t.charterer)||void 0===o?void 0:o.businessPartnerName)<(null===(n=a.charterer)||void 0===n?void 0:n.businessPartnerName)?-1:1)}return Object(M.e)(t)?-1:Object(M.e)(a)||Object(M.c)(t)?1:(Object(M.c)(a),-1)}function Q(e,t){return e||t?e?t?new Date(e).getTime()-new Date(t).getTime():-1:1:0}var X=a(14);function J(e,t){switch(e){case p.a.MONTH:return function(e,t){try{const e=new Date(parseInt(t.split("-")[0].trim()),parseInt(t.split("-")[1].trim()),1);return X.a.get(P.a.IInternationalization).formatDate(e,{dateTimeFormatOptions:{month:"long"}})+" "+e.getFullYear()}catch(e){return z}}(0,t);case p.a.VESSEL:return Object(F.a)(R.a.vessel,t,"vesselName",z);default:return t}}var ee=a(234),te=a(1211),ae=a(197),oe=a(135);const ne={header:{flex:"1 1 100%",borderStyle:"solid",borderWidth:1,borderColor:"transparent",borderRightWidth:0,borderTopWidth:0,borderBottom:"none",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}},re=r.a.memo(e=>{const{boardType:t,columnGrouping:a,columns:o,reactKeyPrefix:l}=e,[i]=Object(j.a)([P.a.IInternationalization]),{cargoes:c,voyages:s,fas:d}=i.getLanguageFile(),{createVoyageCharterer:u,createVoyageTC:m,createVoyageFromTemplate:g,createVoyageWithoutCargo:v,createCargo:p,createCargoCoaTemplate:b}=Object(n.useContext)(ee.a),y=o.map((e,o)=>{const n=J(a,e);let y=[];return y=t===ae.a.CargoManagement&&e===d.commitments?[{text:c.createCargo,onClick:p},{text:c.createCargoFromCoaTemplate,onClick:b}]:[{text:s.createVoyageCharter,onClick:()=>u(e)},{text:s.createTimeCharter,onClick:()=>m(e)},{text:s.createVoyageFromTemplate,onClick:()=>g(e)},{text:i.lang().voyages.createVoyageWithoutCargo,onClick:()=>v(e)}],r.a.createElement("div",{key:e+o,style:ne.header},r.a.createElement(L.a,{align:"center"},n),r.a.createElement("div",null,r.a.createElement(te.a,{reactKeyPrefix:l+"-"+Object(oe.b)(o.toString(),"-"),createObject:y})))});return r.a.createElement(r.a.Fragment,null,y)}),le=Object(d.a)(e=>Object(u.a)({container:{backgroundColor:e.palette.common.white,height:"100%",borderBottom:"1px solid "+e.palette.grey[300],display:"flex",flexDirection:"column",justifyContent:"flex-end",position:"relative"},columns:{position:"relative",display:"flex",padding:"0px "+e.spacing(1)},moveLeft:{position:"absolute",left:0},moveRight:{position:"absolute",right:0},filtersAndSettings:{display:"flex",flexWrap:"nowrap",height:"100%",padding:e.spacing(.5,1),paddingRight:e.spacing(2.5),"& > *":{marginRight:e.spacing(1)},"& > *:last-child":{marginRight:0}},filtersLeft:{justifyContent:"flex-start",paddingRight:e.spacing(1),paddingLeft:e.spacing(2.5)},filterWrapper:{display:"flex",height:"100%",flexWrap:"nowrap",overflowX:"auto",alignItems:"center",borderBottom:"1px solid "+e.palette.grey[300]},placeholderBlock:{flex:"1"}}));function ie(e){const t=le(e),{columns:a,columnGrouping:l,settingsMenu:i,visibleColumns:c,firstVisibleColumn:s,totalColumns:d,setFirstVisibleColumn:u,filters:m,alignFiltersLeft:g=!1,onChangeShowCommitments:v,showCommitments:p,boardType:b,reactKeyPrefix:y}=e,[O]=Object(j.a)([P.a.IInternationalization]),{fas:T}=O.getLanguageFile(),L=s>0,k=Object(n.useCallback)(()=>u(L?s-1:0),[L,s,u]),S=s+(c-1)<d-1,A=Object(n.useCallback)(()=>{u(S?s+1:s)},[S,s,u]),N=d>1;return Object(n.useEffect)(()=>{N||u(0)},[N,u]),Object(n.useEffect)(()=>{S||u(Math.max(d-c,0))},[S,u,d,c]),r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.filterWrapper},v&&r.a.createElement(f.a,{title:p?T.hideCommitments:T.showCommitments},r.a.createElement(h.a,{control:r.a.createElement(C.a,{checked:p,onChange:e=>v(e.target.checked)}),label:"",sx:{marginLeft:"5px"}})),!g&&r.a.createElement("div",{className:t.placeholderBlock}),r.a.createElement("div",{className:Object(o.default)(t.filtersAndSettings,{[t.filtersLeft]:g})},m,r.a.createElement("div",null,i))),r.a.createElement("div",{className:t.columns},N&&L&&r.a.createElement(E.a,{className:t.moveLeft,"aria-label":"Move 1 column left",margin:"none"},r.a.createElement(D.a,{onClick:k},r.a.createElement(x.a,null))),r.a.createElement(re,{columnGrouping:l,columns:a,boardType:b,reactKeyPrefix:y+"-column-names"}),N&&S&&r.a.createElement(E.a,{className:t.moveRight,"aria-label":"Move 1 column right",margin:"none"},r.a.createElement(D.a,{onClick:A},r.a.createElement(w.a,null)))))}const ce=Object(d.a)(e=>({root:{backgroundColor:e.palette.grey[100],position:"relative",display:"flex",borderStyle:"solid",borderWidth:"1px 0 0 0",borderColor:e.palette.grey[300],borderLeftWidth:0,"&:last-child":{borderBottomWidth:1}},column:t=>({overflow:"hidden",display:"flex",flexDirection:"column",flex:"1 1 100%",padding:e.spacing(1),paddingBottom:e.spacing(2),paddingTop:e.spacing(2),borderStyle:"solid",borderWidth:"0 0 0 1px",borderColor:e.palette.grey[300],"&:first-child":{borderLeftWidth:t.disableColumnLeftBorder?0:1},"& > *":{marginTop:e.spacing(1),marginBottom:e.spacing(1)},transform:"translate3d(0, 0, 0)"}),innerBoardTitle:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",zIndex:5,position:"absolute",top:e.spacing(-1.5),lineHeight:e.spacing(2),color:e.palette.grey[500],left:"50%",transform:"translateX(-50%)",backgroundColor:e.palette.grey[100],padding:e.spacing(.5),fontWeight:500}}));function se(e){const{columnGroupedData:t,innerBoardTitle:a,firstVisibleColumn:o,onDrop:l,canDrop:c,canDrag:s,DisplayCard:d,disableColumnLeftBorder:u,showCardDetails:m=!1,boardType:g,onClickCard:p,visibleColumns:b=3,grouping:y,rowGrouping:f,visiblePorts:h}=e,C=ce({visibleColumns:b,disableColumnLeftBorder:u}),E=Object(n.useMemo)(()=>function(e,t,a,o){return Object.keys(e).sort(I.bind(null,t)).map(t=>[t,e[t]]).slice(a,a+o)}(t,y,o,b),[t,o,y,b]),D=Object(n.useMemo)(()=>E.map(([e,t])=>r.a.createElement("div",{key:"board-column-"+e,className:C.column},t.sort(q.bind(null,e)).map(e=>r.a.createElement(d,{key:"board-display-card-"+e.key,data:e,showDetails:m,onClickCard:p,boardType:g,visiblePorts:h})))),[E,C.column,m,p,g,h]),O=g===ae.a.CargoManagement?i.a.CARGO_ONTO_ALLOCATED:void 0,x=Object(n.useMemo)(()=>({canDrop:c,canDrag:s,onDrop:l,dropZoneType:O}),[O,s,c,l]);return r.a.createElement(v.a.Provider,{value:x},r.a.createElement("div",{className:C.root},D,r.a.createElement(de,{rowGrouping:f,className:C.innerBoardTitle,innerBoardTitle:a})))}function de({rowGrouping:e,innerBoardTitle:t,className:a}){return t&&e!==p.a.NONE?r.a.createElement("span",{className:a},J(e,t)):null}function ue(e,t,a,o,n,i,c){const{onDrop:s,canDrop:d,canDrag:u,showCardDetails:m=!1,DisplayCard:g,boardType:v,onClickCard:p}=e,b=function(e,t,a){const o=Object(l.a)(e,t);return Object.entries(o).reduce((t,[o,n])=>(t[o]=Object(S.a)(Object(l.a)(e,a),()=>[]),Object(A.a)(t[o],Object(l.a)(n,a)),t),{})}(t,H[a],H[o]),y=Object.entries(b).sort((e,t)=>I(a,e[0],t[0])).map(([e,t])=>r.a.createElement(se,{boardType:v,key:"doc-board-right"+e,columnGroupedData:t,DisplayCard:g,onDrop:s.bind(null,o),innerBoardTitle:e,firstVisibleColumn:i,canDrop:d,canDrag:u,disableColumnLeftBorder:!0,showCardDetails:m,onClickCard:p,rowGrouping:a,grouping:o,visibleColumns:n,visiblePorts:c})),f=Object.entries(Object(N.a)(Object.entries(b),"[0][1]",[])).sort((e,t)=>I(o,e[0],t[0]));return{boards:y,headers:f.slice(i,i+n).map(e=>e[0]),totalColumns:f.length}}var me=a(712);const ge=r.a.memo((function(e){const{leftData:t,rightData:a,DisplayCard:i,onDrop:c,canDrop:s,canDrag:d,reactKeyPrefix:u,boardType:m,onClickCard:g,filtersLeft:v,filtersRight:f,columnGrouping:h,settingsMenu:C,rowGrouping:E,firstVisibleColumn:D,visibleColumns:O,visiblePorts:x,onChangeFirstVisibleColumn:T,onChangeShowCommitments:w,showCommitments:L,showCardDetails:k}=e,[S]=Object(j.a)([P.a.IInternationalization]),A=y({visibleColumns:O}),N=Object(n.useMemo)(()=>ue({DisplayCard:i,boardType:m,onClickCard:g,onDrop:c,canDrop:s,canDrag:d,showCardDetails:k},a,E,h,O,D,x),[i,m,g,c,s,d,k,a,E,h,O,D,x]),R=N.headers.length;Object(me.b)("ArrowLeft",()=>T(Math.max(D-1,0))),Object(me.b)("ArrowRight",()=>T(Math.min(D+1,R)));const F=Object(n.useMemo)(()=>function(e,t,a,n,l,i){return n?r.a.createElement("div",{className:Object(o.default)(e.left,e.side)},r.a.createElement(ie,{columnGrouping:p.a.NONE,columns:[""+t.lang().fas.commitments],disableLeftBorder:!0,visibleColumns:1,firstVisibleColumn:1,totalColumns:1,setFirstVisibleColumn:()=>null,filters:l,alignFiltersLeft:!0,boardType:i,reactKeyPrefix:a+"-column-header"})):null}(A,S,u,L,v,m),[A,S,L,v,m,u]),V=Object(n.useMemo)(()=>{const e=Object(l.a)(t,H[E]);return Object.entries(e).sort((e,t)=>I(E,e[0],t[0])).map(([e,t])=>r.a.createElement(se,{key:"doc-board-left"+e,columnGroupedData:{rowName:t},DisplayCard:i,onDrop:c.bind(null,p.a.NONE),innerBoardTitle:e,firstVisibleColumn:0,canDrop:s,canDrag:d,onClickCard:g,boardType:m,disableColumnLeftBorder:!0,visibleColumns:1,grouping:h,rowGrouping:E,visiblePorts:x}))},[i,m,d,s,h,t,g,c,E,x]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:A.headers},F,r.a.createElement("div",{className:Object(o.default)(A.right,A.side)},r.a.createElement(ie,{columnGrouping:h,columns:N.headers,settingsMenu:C,firstVisibleColumn:D,visibleColumns:O,totalColumns:N.totalColumns,setFirstVisibleColumn:T,filters:f,onChangeShowCommitments:w,showCommitments:L,boardType:m,reactKeyPrefix:u+"-column-header"}))),r.a.createElement("div",{className:A.boards},r.a.createElement(b,{rows:V,classes:A,canDrop:s,canDrag:d,onDrop:c,showCommitments:L,boardType:m}),r.a.createElement("div",{className:Object(o.default)(A.right,A.side,A.container)},N.boards)))}))},1261:function(e,t,a){"use strict";a.d(t,"a",(function(){return le}));var o=a(0),n=a.n(o),r=a(323),l=a(957),i=a(213),c=a(187);const s=Object(i.a)(Object(c.a)(e=>({headerContainer:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",marginTop:e.spacing(.5),marginBottom:e.spacing(.5),"&:first-of-type":{marginTop:0}},left:{textAlign:"left",display:"flex"},right:{textAlign:"right",marginLeft:0,[e.breakpoints.down("xs")]:{textAlign:"left",marginLeft:e.spacing(3.75)}}})));function d({left:e,right:t}){const a=s({});return n.a.createElement("div",{className:a.headerContainer},n.a.createElement("div",{className:a.left},e),n.a.createElement("div",{className:a.right},t))}var u=a(202),m=a(197),g=a(217),v=a(60),p=a(78);const b={primary:{color:"text.primary",display:"block"},secondary:{color:"text.secondary"}},y=n.a.memo(({voyage:e,userLocale:t,i:a,hideMissedByIndicator:o=!1,boardType:i})=>{var c,s,y,f,h,C,E,D,O,x,T,w,j,P,L,k,S,A,N;let R;(null==e?void 0:e.cargos)&&(R=v.a.getPerformanceCargo(null==e?void 0:e.cargos));const F=(null==e?void 0:e.isTc)?null!==(y=null===(s=null===(c=e.tcs[0])||void 0===c?void 0:c.charterer)||void 0===s?void 0:s.businessPartnerName)&&void 0!==y?y:"":null!==(h=null===(f=null==R?void 0:R.charterer)||void 0===f?void 0:f.businessPartnerName)&&void 0!==h?h:"",V=(null==R?void 0:R.cargoQuantity)?R.cargoQuantity:null==R?void 0:R.bookedQuantity,B=null!==(E=null===(C=null==R?void 0:R.cargoMeasurement)||void 0===C?void 0:C.measurementCode)&&void 0!==E?E:"",I=(null==e?void 0:e.isTc)?"":`${V?a.formatNumber(V,{maxDecimals:0}):"-"} ${B}`,M=null!==(O=null===(D=null==R?void 0:R.commodity)||void 0===D?void 0:D.commodityName)&&void 0!==O?O:"",G=Object(g.d)((null==e?void 0:e.isTc)?null!==(T=null===(x=e.tcs[0])||void 0===x?void 0:x.laycanFrom)&&void 0!==T?T:null:null==R?void 0:R.laycanFrom,(null==e?void 0:e.isTc)?null!==(j=null===(w=e.tcs[0])||void 0===w?void 0:w.laycanTo)&&void 0!==j?j:null:null==R?void 0:R.laycanTo),W=Object(g.d)(null==R?void 0:R.arrivalWindowFrom,null==R?void 0:R.arrivalWindowTo);let _="";if(R&&t&&G&&(_=p.a.getFormattedDateRangeAsString((null==e?void 0:e.isTc)?null!==(L=null===(P=e.tcs[0])||void 0===P?void 0:P.laycanFrom)&&void 0!==L?L:null:R.laycanFrom,(null==e?void 0:e.isTc)?null!==(S=null===(k=e.tcs[0])||void 0===k?void 0:k.laycanTo)&&void 0!==S?S:null:R.laycanTo,t,!0,!0)),!M&&!F)return null;const K=n.a.createElement(r.a,null,n.a.createElement(r.a,{component:"span",sx:b.primary},F),n.a.createElement(r.a,{component:"span",sx:b.secondary},_," ",n.a.createElement(l.a,{cargo:R,userLocale:t,hideLabel:o,missedBy:null!==(A=null==R?void 0:R.laycanMissedBy)&&void 0!==A?A:0,i:a,isValid:G})," ",function(e,t,a){if(e&&a&&t)return" | "+p.a.getFormattedDateRangeAsString(e.arrivalWindowFrom,e.arrivalWindowTo,a,!0,!0);return""}(R,W,t)," ",n.a.createElement(l.a,{cargo:R,userLocale:t,hideLabel:o,missedBy:null!==(N=null==R?void 0:R.arrivalWindowMissedBy)&&void 0!==N?N:0,i:a,isValid:W}))),Y=n.a.createElement(r.a,null,n.a.createElement(r.a,{component:"span",sx:b.primary},I),n.a.createElement(r.a,{component:"span",sx:b.secondary},M));return i!==m.a.CargoManagement?n.a.createElement(n.a.Fragment,null,n.a.createElement(d,{left:K,right:Y}),n.a.createElement(u.a,null)):n.a.createElement(n.a.Fragment,null)});var f=a(454),h=a(40),C=a(105),E=a(1);const D=Object(i.a)(Object(c.a)(e=>({labelChip:{marginRight:e.spacing(1),borderRadius:e.spacing(4),padding:e.spacing(1.3,.5)}}))),O=n.a.memo(({voyage:e,i:t,userLocale:a,showTCE:o=!0,showVessel:r=!0})=>{var l,i,c,s,u,m,g,p,b,y;const{model:f}=t.getLanguageFile(),O=D({});if(e){const D=a.isoCode,x=null!==(i=null===(l=null==e?void 0:e.vessel)||void 0===l?void 0:l.vesselName)&&void 0!==i?i:"",T=null!==(s=null===(c=null==e?void 0:e.voyageHeader)||void 0===c?void 0:c.referenceNo)&&void 0!==s?s:"",w=null!==(g=null===(m=null===(u=null==e?void 0:e.voyageHeader)||void 0===u?void 0:u.leg)||void 0===m?void 0:m.legCode)&&void 0!==g?g:"",j=""!==T&&""!==w?" | "+w:w,P=t.formatNumber(e.tcResultDay,{maxDecimals:0,locale:D}),L=null!==(b=null===(p=e.voyageCurrency)||void 0===p?void 0:p.currencyCode)&&void 0!==b?b:"",k=!!T||!!w,S=null!==(y=v.a.getVoyageStatus(e))&&void 0!==y?y:"",A=!!S,N=n.a.createElement(n.a.Fragment,null,r&&n.a.createElement(h.a,{className:O.labelChip,label:x}),k&&n.a.createElement(h.a,{className:O.labelChip,label:`${T} ${j}`})),R=n.a.createElement(n.a.Fragment,null,A&&n.a.createElement(h.a,{priority:C.a.getStatusPriority(S,E.a.voyage),label:S})),F=n.a.createElement(n.a.Fragment,null,f.tce),V=n.a.createElement(n.a.Fragment,null,`${P} ${L}`);return n.a.createElement(n.a.Fragment,null,(k||A)&&n.a.createElement(d,{left:N,right:R}),o&&n.a.createElement(d,{left:F,right:V}))}return null});a(10),a(11),a(118);var x=a(50),T=a(1418),w=a(68),j=a(38),P=a(160);const L=Object(i.a)(Object(c.a)(e=>({cargo:t=>{const{opacity:a,cursor:o,cargoGridArea:n,borderBottom:r,borderTop:l,isCardActive:i}=t,{rowStart:c,columnStart:s,rowEnd:d,columnEnd:u}=n;return{width:"50px",writingMode:"vertical-lr",padding:"8px",borderRadius:"4px",borderColor:e.palette.grey[400],border:"1px solid",outline:i?"2px solid "+P.a.hoverColors[4]:void 0,transition:"0.2s easeOut",borderTop:l,borderBottom:r,whiteSpace:"nowrap",background:j.b.navigator.secondary[2],opacity:null!=a?a:1,cursor:null!=o?o:"pointer",gridArea:`${c} / ${s} / ${d} / ${u}`,margin:e.spacing(.5),zIndex:1,"&:hover":{backgroundColor:P.a.hoverColors[3]}}},small:{fontSize:10,color:e.palette.text.secondary},text:{display:"block",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},tooltip:{width:e.spacing(36),marginTop:e.spacing(1),marginBottom:e.spacing(1)},divider:{background:e.palette.common.white,marginRight:e.spacing(1),marginLeft:e.spacing(.75),marginTop:e.spacing(.5),marginBottom:e.spacing(.5)},comment:{fontStyle:"italic",marginLeft:e.spacing(1),marginRight:e.spacing(1)}})));function k(e,t,a){let o="";return Object(g.d)(e,t)&&(o="4px solid ",o+=a>0?j.b.sunsetRed.secondary[2]:a<0?j.b.navigator.secondary[4]:j.b.bergenRain.secondary[5]),o}var S=a(453),A=a(6),N=a(58);var R=a(26),F=a(3),V=a(64),B=a(1327),I=a(130),M=a(2344),G=a(226),W=a(722);const[_]=Object(A.a)([F.a.IInternationalization]),{model:K,common:Y}=_.getLanguageFile();var z=a(218),H=a(844),$=a(124),U=a(234);function Z(e){var t,a,r,l,i,c;const{cargo:s,userLocale:d,onClickCard:u}=e,{canDrag:m}=Object(o.useContext)(S.a),g=function(e){const{cargo:t,fpv:{voyage:a},visiblePorts:o}=e,n=e.index+1,r=e.index+2;if(a){const e=1,l=a.portCallsFromVoyage.length+1,i=l>o,c=N.a.getFirstLoadCargoPort(t.cargoPorts),s=N.a.getLastDischargeCargoPort(t.cargoPorts),d=null==a?void 0:a.portCallsFromVoyage.find(e=>{var t;return e.key===(null===(t=null==c?void 0:c.portCall)||void 0===t?void 0:t.key)}),u=null==a?void 0:a.portCallsFromVoyage.find(e=>{var t;return e.key===(null===(t=null==s?void 0:s.portCall)||void 0===t?void 0:t.key)}),m=(null==d?void 0:d.portCallSequence)||1,g=null==u?void 0:u.portCallSequence,v=m+e>=o,p=g&&g+e>=o&&g+1!==l;return v&&p?{showContent:!1,rowStart:o,columnStart:n,rowEnd:o+1,columnEnd:r}:v?{showContent:!0,rowStart:o,columnStart:n,rowEnd:o+2,columnEnd:r}:p?{showContent:!0,rowStart:m+1,columnStart:n,rowEnd:o+1,columnEnd:r}:{showContent:!0,rowStart:m+1,columnStart:n,rowEnd:i&&g&&o<=g?o+2:g?g+2:l+1,columnEnd:r}}return{showContent:!0,rowStart:1,columnStart:n,rowEnd:"auto",columnEnd:r}}(e),[v]=Object(A.a)([F.a.IInternationalization]),p=null===(t=s.commodity)||void 0===t?void 0:t.commodityName,b=null!==(r=null===(a=s.bookingStatus)||void 0===a?void 0:a.statusTypeDesc)&&void 0!==r?r:"",[y,f]=Object(H.a)($.b.CARGO,s,m),{selectedCard:D}=Object(o.useContext)(U.a),O=D===s.key,x=k(null==s?void 0:s.laycanFrom,null==s?void 0:s.laycanTo,null==s?void 0:s.laycanMissedBy),T=k(null==s?void 0:s.arrivalWindowFrom,null==s?void 0:s.arrivalWindowTo,null==s?void 0:s.arrivalWindowMissedBy),w=L(Object.assign(Object.assign(Object.assign(Object.assign({},y),{borderTop:x,borderBottom:T}),e),{cargoGridArea:g,isCardActive:O})),j=n.a.createElement(h.a,{priority:C.a.getStatusPriority(b,E.a.cargo),label:b,vertical:!0}),P=v.formatNumber(s.weight,{maxDecimals:0}),_=null!==(i=null===(l=s.cargoMeasurement)||void 0===l?void 0:l.measurementCode)&&void 0!==i?i:"",Z=Object(o.useMemo)(()=>{var e,t;const a=null!==(e=N.a.getFirstLoadCargoPort(s.cargoPorts))&&void 0!==e?e:new V.a({}),o=null!==(t=N.a.getLastDischargeCargoPort(s.cargoPorts))&&void 0!==t?t:new V.a({});return((e,t,a,o,r,l)=>{var i,c,s,d,u,m,g,v,p,b,y;const f=W.a.getDateString(null==e?void 0:e.laycanFrom,null==e?void 0:e.laycanTo,t,null==e?void 0:e.laycanMissedBy),h=W.a.getDateString(null==e?void 0:e.arrivalWindowFrom,null==e?void 0:e.arrivalWindowTo,t,null==e?void 0:e.arrivalWindowMissedBy),C=r+" "+(null!==(c=null===(i=e.cargoMeasurement)||void 0===i?void 0:i.measurementCode)&&void 0!==c?c:""),E=!!C&&!!r,D=!!(null===(s=null==e?void 0:e.charterer)||void 0===s?void 0:s.businessPartnerName)||!!a||!!o,O=!!f||!!h,x=!!(null==e?void 0:e.comments),T=Object(M.a)(null==e?void 0:e.comments,{length:82});return n.a.createElement("div",{className:l.tooltip},n.a.createElement(G.a,{label:K.charterer,content:null===(d=null==e?void 0:e.charterer)||void 0===d?void 0:d.businessPartnerName,showContent:!!(null===(u=null==e?void 0:e.charterer)||void 0===u?void 0:u.businessPartnerName)}),n.a.createElement(G.a,{label:K.loadPort,content:null===(m=a.port)||void 0===m?void 0:m.portName,showContent:!!a}),n.a.createElement(G.a,{label:K.dischargePort,content:null===(g=o.port)||void 0===g?void 0:g.portName,showContent:!!o}),D&&n.a.createElement(B.a,{className:l.divider}),n.a.createElement(G.a,{label:K.layCan,content:f,showContent:!!f}),n.a.createElement(G.a,{label:Y.arrivalWindow,content:h,showContent:!!h}),O&&n.a.createElement(B.a,{className:l.divider}),n.a.createElement(G.a,{label:K.cargoQuantity,content:C,showContent:E}),n.a.createElement(G.a,{label:K.toleranceOption,content:(null==e?void 0:e.quantityOptionPct)+"%",showContent:!!(null==e?void 0:e.quantityOptionPct)}),n.a.createElement(G.a,{label:K.tolerance,content:null===(v=null==e?void 0:e.quantityOption)||void 0===v?void 0:v.quantityOption,showContent:!!(null===(p=null==e?void 0:e.quantityOption)||void 0===p?void 0:p.quantityOption)}),n.a.createElement(G.a,{label:K.commodity,content:null===(b=null==e?void 0:e.commodity)||void 0===b?void 0:b.commodityName,showContent:!!(null===(y=null==e?void 0:e.commodity)||void 0===y?void 0:y.commodityName)}),x&&n.a.createElement(B.a,{className:l.divider}),n.a.createElement(I.a,{className:l.comment},T))})(s,d,a,o,P,w)},[s,w,d,P]);return n.a.createElement(z.a,{title:Z,placement:"top"},n.a.createElement("div",{className:w.cargo,onClick:e=>{e.stopPropagation(),u&&u(E.a.cargo.name,s.key)},ref:f},g.showContent&&n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:Object(R.default)(w.small,w.text)},p," ",P," ",_," ",j),n.a.createElement("span",{className:w.text},null===(c=s.charterer)||void 0===c?void 0:c.businessPartnerName))))}var q=a(159),Q=a(283),X=a.n(Q);const J={getTimelineGridTemplateColumns:function(e){const{hideLeftPortCallRow:t,isUnallocated:a,showDetails:o}=e;return o?t?"0px 40px 120px 1fr":"0.2fr 40px 120px 1fr":a||t?"0px 40px 3.5fr":"0.2fr 40px 3.5fr"},getRowAmount:function(e,t){const a=(null==e?void 0:e.portCallsFromVoyage.length)||0;return a+1>t?t+2:a+2},hideLeftPortCallRow:function(e,t){const a=t&&t<200,o="desktop"===X.a.getParser(window.navigator.userAgent).getPlatformType(!0);return!(!a&&o&&!e)},getGridTemplateRows:function(e){var t;const{rows:a,visiblePorts:o,fpv:n}=e,r=((null===(t=null==n?void 0:n.voyage)||void 0===t?void 0:t.portCallsFromVoyage.length)||0)+1>o;let l="";for(let e=0;e<=a-2;e++)l+=e===a-2-1&&r?"42px ":"65px ";return l}};var ee=a(62);const te=Object(i.a)(Object(c.a)(e=>({cargos:t=>{const{rows:a}=t;return{display:"grid",gridTemplateRows:J.getGridTemplateRows(t),gridAutoColumns:"60px",gridArea:`1 / 4 / ${a} / 5`,overflowX:"auto",overflowY:"hidden",marginRight:e.spacing(.5)}}}))),ae=n.a.memo(e=>{var t;const{fpv:a,onClickCard:o,visiblePorts:r,userLocale:l}=e,{voyage:i}=a,c=te(Object.assign(Object.assign({},e),{rows:J.getRowAmount(null!=i?i:new ee.a({}),r),visiblePorts:r}));if(i){const e=null!==(t=i.cargos.filter(e=>(e=>{var t;const a=[q.a.TRANSSHIPMENT,q.a.PRESHIPMENT,q.a.RELET],o=null===(t=e.cargoType)||void 0===t?void 0:t.cargoTypeCode;return o&&!a.includes(o)})(e)))&&void 0!==t?t:[];if(0===e.length)return null;const s=N.a.sortCargosByPortCallSequence(e).map((e,t)=>n.a.createElement(Z,{key:"cargo-"+e.key,cargo:e,fpv:a,onClickCard:o,index:t,visiblePorts:r,userLocale:l}));return n.a.createElement("div",{className:c.cargos},s)}return null});var oe=a(147);const ne=Object(i.a)(Object(c.a)(e=>({timeline:{marginTop:e.spacing(1),display:"grid",position:"relative",gridTemplateRows:e=>J.getGridTemplateRows(e),gridTemplateColumns:e=>J.getTimelineGridTemplateColumns(e),overflowX:"hidden",overflowY:"hidden"}}))),re=n.a.memo(e=>{var t;const{fpv:a,userLocale:r,isUnallocated:l,visiblePorts:i,showDetails:c,onClickCard:s,boardType:d}=e,{cardWidth:u}=Object(o.useContext)(f.a),m=Object(o.useMemo)(()=>J.hideLeftPortCallRow(l,u),[u,l]),g=ne(Object.assign(Object.assign({},e),{hideLeftPortCallRow:m,rows:J.getRowAmount(null!==(t=null==a?void 0:a.voyage)&&void 0!==t?t:new ee.a({}),i),visiblePorts:i})),v=Object(o.useMemo)(()=>{const{voyage:e}=a;if(!e)return null;const t=[x.a.createBallastPortCall(e),...e.portCallsFromVoyage],o=N.a.getCargoPorts(e.cargos),c=oe.a.getCargoOnBoard(o,e.portCallsFromVoyage),s=t.sort(x.a.sortByPortCallSequence),u=x.a.getCargoQuantityOnBoardTransit(t,e.cargos);let g=0;const v=e.portCallsFromVoyage.length+1>i;return s.map((t,a)=>{var o,p;const b=a===s.length-1;return a<i-1||b?n.a.createElement(T.a,{isUnallocated:l,key:"doc-port-call-row"+t.key,userLocale:r,portCall:t,isLastPortCall:b,cargoQtyOnBoard:c.get(t.key),boardType:d,index:b&&v?i:a,cargoAmount:(null===(o=e.cargos)||void 0===o?void 0:o.length)||0,hideLeft:m,cargoQtyOnBoardTransit:u.get(t.key),cargos:e.cargos}):(g++,a===s.length-2?n.a.createElement(T.a,{isUnallocated:l,key:"doc-port-call-row"+t.key,userLocale:r,portCall:new w.a({isUnallocated:!0}),isLastPortCall:!1,additionalPorts:g,isPlaceholder:!0,index:i-1,cargoAmount:(null===(p=e.cargos)||void 0===p?void 0:p.length)||0,hideLeft:m,cargoQtyOnBoardTransit:u.get(t.key),cargos:e.cargos}):null)})},[d,m,l,r,i,a]),p=Object(o.useMemo)(()=>n.a.createElement(ae,{fpv:a,onClickCard:s,visiblePorts:i,userLocale:r}),[a,s,r,i]);return(null==a?void 0:a.voyage)?n.a.createElement("div",{className:g.timeline},v,c&&p):null}),le=n.a.memo(({fpv:e,userLocale:t,i:a,showDetails:r,reactKeyPrefix:l,onClickCard:i,boardType:c,visiblePorts:s,isCardActive:d})=>{const m=(e=>({card:{outline:e?"2px solid "+P.a.hoverColors[4]:void 0,border:e?void 0:"1px solid "+P.a.hoverColors[1],borderRadius:"6px","&:hover":{border:e?void 0:"1px solid "+P.a.hoverColors[2],borderRadius:"6px"}}}))(d),g=Object(o.useMemo)(()=>e.voyage?n.a.createElement(re,{userLocale:t,visiblePorts:s,boardType:c,fpv:e,showDetails:r,onClickCard:i,isUnallocated:!1}):n.a.createElement(n.a.Fragment,null),[c,e,i,r,t,s]),v=Object(o.useCallback)(t=>{t.stopPropagation(),i&&e.voyage&&i(E.a.voyage.name,e.voyage.key)},[e.voyage,i]);return n.a.createElement(f.b,{reactKeyPrefix:l,data:e,onClick:v,boardType:c,sx:m.card},n.a.createElement(O,{i:a,voyage:e.voyage,userLocale:t}),n.a.createElement(u.a,null),n.a.createElement(y,{i:a,voyage:e.voyage,userLocale:t,boardType:c}),g)})},1267:function(e,t,a){"use strict";a.d(t,"a",(function(){return Y}));var o=a(0),n=a.n(o),r=a(7),l=a(14),i=a(42),c=a(1),s=(a(118),a(454)),d=a(323),u=a(130),m=a(60),g=a(40),v=a(105),p=a(78),b=a(217),y=a(38),f=a(2494),h=a(50),C=a(160);const E=n.a.memo(({voyage:e,userLocale:t,i:a,reactKeyPrefix:r,onClickCard:l,boardType:i,isCardActive:E})=>{var D,O,x,T,w,j,P,L,k,S,A,N,R,F,V,B,I,M,G,W;const _=Object(o.useCallback)(t=>{t.stopPropagation(),l&&l(c.a.voyage.name,e.key)},[l,e.key]),K=(e=>({row:{display:"flex"},column:{flex:1},alignRight:{textAlign:"right"},topContainer:{pb:1},bottomContainer:{backgroundColor:y.b.bergenRain.secondary[2],pb:1,px:1,pt:1,borderRadius:2},paddingBottom:{pb:.5},card:{outline:e?"2px solid "+C.a.hoverColors[4]:void 0,border:e?void 0:"1px solid "+C.a.hoverColors[1],borderRadius:"6px","&:hover":{border:e?void 0:"1px solid "+C.a.hoverColors[2],borderRadius:"6px"}}}))(E),Y=m.a.getPerformanceCargo(null==e?void 0:e.cargos),z=(null==e?void 0:e.isTc)?null!==(x=null===(O=null===(D=e.tcs[0])||void 0===D?void 0:D.charterer)||void 0===O?void 0:O.businessPartnerName)&&void 0!==x?x:"":null!==(w=null===(T=null==Y?void 0:Y.charterer)||void 0===T?void 0:T.businessPartnerName)&&void 0!==w?w:"",H=(null==Y?void 0:Y.cargoQuantity)?Y.cargoQuantity:null==Y?void 0:Y.bookedQuantity,$=null!==(P=null===(j=null==Y?void 0:Y.cargoMeasurement)||void 0===j?void 0:j.measurementCode)&&void 0!==P?P:"",U=e.isTc?"":`${H?a.formatNumber(H,{maxDecimals:0}):"-"} ${$}`,Z=null!==(k=null===(L=null==Y?void 0:Y.commodity)||void 0===L?void 0:L.commodityName)&&void 0!==k?k:"",q=null!==(S=m.a.getVoyageStatus(e))&&void 0!==S?S:"",Q=null!==(N=null===(A=null==e?void 0:e.voyageHeader)||void 0===A?void 0:A.referenceNo)&&void 0!==N?N:"",X=n.a.createElement(g.a,{priority:v.a.getStatusPriority(q,c.a.voyage),label:q}),J=Object(b.d)((null==e?void 0:e.isTc)?null!==(F=null===(R=e.tcs[0])||void 0===R?void 0:R.laycanFrom)&&void 0!==F?F:null:null==Y?void 0:Y.laycanFrom,(null==e?void 0:e.isTc)?null!==(B=null===(V=e.tcs[0])||void 0===V?void 0:V.laycanTo)&&void 0!==B?B:null:null==Y?void 0:Y.laycanTo);let ee="";Y&&t&&J&&(ee=p.a.getFormattedDateRangeAsString((null==e?void 0:e.isTc)?null!==(M=null===(I=e.tcs[0])||void 0===I?void 0:I.laycanFrom)&&void 0!==M?M:null:Y.laycanFrom,(null==e?void 0:e.isTc)?null!==(W=null===(G=e.tcs[0])||void 0===G?void 0:G.laycanTo)&&void 0!==W?W:null:Y.laycanTo,t,!0,!0));const te=function(e,t,a){if(e&&a&&t)return p.a.getFormattedDateRangeAsString(e.arrivalWindowFrom,e.arrivalWindowTo,a,!0,!0);return""}(Y,Object(b.d)(null==Y?void 0:Y.arrivalWindowFrom,null==Y?void 0:Y.arrivalWindowTo),t),ae=Object(o.useMemo)(()=>e.portCallsFromVoyage.sort(h.a.sortByPortCallSequence).map(e=>{var t;return Object(f.a)(null===(t=null==e?void 0:e.port)||void 0===t?void 0:t.portName.toLowerCase())}).join(" - "),[e.portCallsFromVoyage]);return n.a.createElement(s.b,{reactKeyPrefix:r,data:e,onClick:_,boardType:i,sx:K.card},n.a.createElement(d.a,{sx:K.topContainer},n.a.createElement(d.a,{sx:Object.assign(Object.assign({},K.paddingBottom),K.row)},n.a.createElement(u.a,{sx:K.column,variant:"subtitle2"},Q),n.a.createElement("div",{style:Object.assign(Object.assign({},K.column),K.alignRight)}," ",X)),n.a.createElement(d.a,{sx:K.row},n.a.createElement("div",{style:K.column},z))),n.a.createElement(d.a,{sx:K.bottomContainer},n.a.createElement(d.a,{sx:Object.assign(Object.assign({},K.row),K.paddingBottom)},n.a.createElement(u.a,{sx:K.column,variant:"subtitle2"},ae),n.a.createElement("div",{style:Object.assign(Object.assign({},K.column),K.alignRight)},Z)),n.a.createElement(d.a,{sx:K.row},n.a.createElement(d.a,{sx:K.column},te?ee+" | "+te:ee),n.a.createElement("div",{style:K.alignRight}," ",U))))});var D=a(1261),O=a(3),x=a(213),T=a(187);const w=Object(x.a)(Object(T.a)(e=>({bodyContainer:{marginTop:e.spacing(1)}})));function j({children:e}){const t=w({});return n.a.createElement("div",{className:t.bodyContainer},e)}var P=a(142),L=a(21),k=a(197),S=a(164),A=a(47),N=a(179),R=a(671),F=a(342),V=a(431);const B=n.a.memo(e=>{var t,a;const{openPosition:r,userLocale:l,reactKeyPrefix:i,onClickCard:d,boardType:u,isCardActive:m,state:{allocatedFleetPlanVoyages:g,selectedScenario:v}}=e,b=(e=>({openPositionContainer:{paddingTop:"16px",paddingBottom:"16px",display:"flex",flexWrap:"wrap",marginTop:"8px"},portWrapper:{color:y.b.bergenRain.secondary[11]},dateWrapper:{color:y.b.bergenRain.secondary[7],marginRight:"16px"},card:{outline:e?"2px solid "+C.a.hoverColors[4]:void 0,border:e?void 0:"1px solid "+C.a.hoverColors[1],borderRadius:"6px","&:hover":{border:e?void 0:"1px solid "+C.a.hoverColors[2],borderRadius:"6px"}}}))(m),f=null!==(a=null===(t=r.openPositionPort)||void 0===t?void 0:t.portName)&&void 0!==a?a:"",h=r.openPositionPortDate,E="MASTER"===(null==v?void 0:v.scenarioCode),D=Object(o.useCallback)(e=>{e.stopPropagation(),d&&d(c.a.vesselopenposition.name,r.key)},[d,r.key]),O=Object(o.useMemo)(()=>g.find(e=>{var t,a;return(null===(t=e.vessel)||void 0===t?void 0:t.key)===(null===(a=r.vessel)||void 0===a?void 0:a.key)}),[g,r.vessel]);return E&&O?null:n.a.createElement(s.b,{reactKeyPrefix:i,isOpenPosition:!0,data:r,onClick:D,boardType:u,sx:b.card},n.a.createElement(j,null,n.a.createElement("div",{style:b.openPositionContainer},n.a.createElement("div",{style:b.dateWrapper},p.a.getFormattedDateString(h,l)),n.a.createElement("div",{style:b.portWrapper},f))))}),I=Object(A.a)(e=>{var t;const a=R.a.get(e),o=null!==(t=L.a.getTSModelsBuilt(e,c.a.fleetplanvoyage,a===k.a.OpenPositions?F.b:V.b,S.b))&&void 0!==t?t:[],n=P.a.get(e,c.a.scenario);return{allocatedFleetPlanVoyages:o,selectedScenario:L.a.getTSModelBuilt(e,c.a.scenario,n||0,N.a)}},B);var M=a(147);const G=n.a.memo(({cargo:e,userLocale:t,i:a,reactKeyPrefix:r,onClickCard:l,boardType:i,isCardActive:m})=>{var b,h,E,D,O,x;const T=Object(o.useCallback)(t=>{t.stopPropagation(),l&&l(c.a.cargo.name,e.key)},[e.key,l]),w=(e=>({row:{display:"flex"},column:{flex:1},alignRight:{textAlign:"right"},topContainer:{pb:1},bottomContainer:{backgroundColor:y.b.bergenRain.secondary[2],pb:1,px:1,pt:1,borderRadius:2},paddingBottom:{pb:.5},card:{outline:e?"2px solid "+C.a.hoverColors[4]:void 0,border:e?void 0:"1px solid "+C.a.hoverColors[1],borderRadius:"6px","&:hover":{border:e?void 0:"1px solid "+C.a.hoverColors[2],borderRadius:"6px"}}}))(m),j=null!==(h=null===(b=e.bookingStatus)||void 0===b?void 0:b.statusTypeDesc)&&void 0!==h?h:"",P=n.a.createElement(g.a,{priority:v.a.getStatusPriority(j,c.a.cargo),label:j}),L=M.a.sortByCargoPortSequence(e.cargoPorts).map(e=>{var t;return Object(f.a)(null===(t=null==e?void 0:e.port)||void 0===t?void 0:t.portName.toLowerCase())}).join(" - "),k=p.a.getFormattedDateRangeAsString(e.laycanFrom,e.laycanTo,t,!0,!0),S=p.a.getFormattedDateRangeAsString(e.arrivalWindowFrom,e.arrivalWindowTo,t,!0,!0),A=a.formatNumber(e.cargoQuantity,{maxDecimals:0,locale:t.isoCode});return n.a.createElement(s.b,{reactKeyPrefix:r,data:e,onClick:T,boardType:i,sx:w.card},n.a.createElement(d.a,{sx:w.topContainer},n.a.createElement(d.a,{sx:Object.assign(Object.assign({},w.paddingBottom),w.row)},n.a.createElement(u.a,{sx:w.column,variant:"subtitle2"},null===(E=e.charterer)||void 0===E?void 0:E.businessPartnerName),n.a.createElement("div",{style:Object.assign(Object.assign({},w.column),w.alignRight)},P)),n.a.createElement(d.a,{sx:w.row},n.a.createElement("div",{style:w.column},null===(D=e.leg)||void 0===D?void 0:D.legDesc))),n.a.createElement(d.a,{sx:w.bottomContainer},n.a.createElement(d.a,{sx:Object.assign(Object.assign({},w.row),w.paddingBottom)},n.a.createElement(u.a,{sx:w.column,variant:"subtitle2"},L),n.a.createElement("div",{style:Object.assign(Object.assign({},w.column),w.alignRight)},null===(O=e.commodity)||void 0===O?void 0:O.commodityName)),n.a.createElement(d.a,{sx:w.row},n.a.createElement("div",{style:w.column},S?k+" | "+S:k),n.a.createElement("div",{style:Object.assign(Object.assign({},w.column),w.alignRight)},A," ",null===(x=null==e?void 0:e.cargoMeasurement)||void 0===x?void 0:x.measurementCode))))}),W={column:{flex:1},bottomContainer:{backgroundColor:y.b.greenSea.secondary[1],pb:1,px:1,pt:1,borderRadius:2,border:"1px solid "+y.b.bergenRain.secondary[4]}},_=({portCall:e,userLocale:t,i:a,reactKeyPrefix:o})=>{var r,l,i,c;const s=null!==(i=null===(l=null===(r=e.voyage)||void 0===r?void 0:r.vessel)||void 0===l?void 0:l.vesselName)&&void 0!==i?i:"",m=h.a.getEventLogDateFromPC(e,"DEP"),g=p.a.getFormattedDateString(m,t,!1,!1),v=Object(f.a)(null===(c=null==e?void 0:e.port)||void 0===c?void 0:c.portName.toLowerCase());return n.a.createElement(d.a,{sx:W.bottomContainer,id:o},n.a.createElement(u.a,{variant:"subtitle2"},s," - ",a.getLanguageFile().fas.available),n.a.createElement(u.a,{variant:"body2",style:W.column},g," - ",v))};var K=a(234);const Y=n.a.memo(e=>{var t;const{data:a,showDetails:s,onClickCard:d,boardType:u,visiblePorts:m=6}=e,g=a.$tsmodelClassName,v=i.a.getUserLocale(l.a.get(r.a.Store).getState()),p=l.a.get(O.a.IInternationalization),{selectedCard:b}=Object(o.useContext)(K.a);switch(g){case c.a.fleetplanvoyage.name.toLowerCase():const e=a;return n.a.createElement(D.a,{key:e.key,fpv:e,userLocale:v,i:p,showDetails:s,reactKeyPrefix:"doc-fas-schedule-card-allocated-card",onClickCard:d,boardType:u,visiblePorts:m,isCardActive:b===(null===(t=null==e?void 0:e.voyage)||void 0===t?void 0:t.key)});case c.a.voyage.name.toLowerCase():const o=a;return n.a.createElement(E,{key:o.key,i:p,voyage:o,userLocale:v,reactKeyPrefix:"doc-fas-schedule-card-unallocated-card",onClickCard:d,boardType:u,visiblePorts:m,isCardActive:b===o.key});case c.a.vesselopenposition.name.toLowerCase():const r=a;return n.a.createElement(I,{key:r.key,openPosition:r,userLocale:v,reactKeyPrefix:"doc-fas-schedule-card-open-position-card",onClickCard:d,boardType:u,isCardActive:b===(null==r?void 0:r.key)});case c.a.cargo.name.toLowerCase():const l=a;return n.a.createElement(G,{key:l.key,i:p,cargo:l,userLocale:v,reactKeyPrefix:"doc-fas-schedule-card-unallocated-cargo-card",onClickCard:d,boardType:u,isCardActive:b===l.key});case c.a.portcall.name.toLowerCase():return n.a.createElement(_,{key:a.key,i:p,portCall:a,userLocale:v,reactKeyPrefix:"doc-fas-schedule-card-last-port-call-card"});default:return n.a.createElement("div",null,"Not Supported Yet")}})},1302:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var o=a(213),n=a(187),r=a(124),l=a(0),i=a.n(l),c=a(453),s=a(115),d=(a(10),a(11),a(156)),u=a(2493),m=a(2509),g=a(130),v=a(3),p=a(6),b=a(26);const y=Object(o.a)(e=>Object(n.a)({dropZoneTarget:({isOver:e,canDrop:t})=>({width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",border:"2px dashed #575757",backgroundColor:e?t?"#C5C5C5":"indianred":"#C5C5C5"}),isOverColorCanDrop:{backgroundColor:"#C5C5C5"},isOverColorCannotDrop:{backgroundColor:"indianred"},base:{flex:"1",height:"100%",width:"100%"},dropTargetLine:({isOver:t,canDrop:a})=>({width:"100%",height:t&&a?e.spacing(.375):"0",background:t&&a?"#575757 ":"none",borderRadius:e.spacing(.75)}),dropAfter:{marginBottom:e.spacing(-1)},dropBefore:{marginTop:e.spacing(-1)},cargoDropContainer:{position:"absolute",flexDirection:"column",height:"100%",width:"100%",left:0,top:0,visibility:"hidden",zIndex:0},visible:{zIndex:6,visibility:"visible"},hidden:{visibility:"hidden"}}));function f(e){const{targetData:t,acceptsDragType:a,dropZoneType:o}=e,[n,s]=Object(l.useState)(!1),[f]=Object(p.a)([v.a.IInternationalization]),{common:{dropHere:h}}=f.getLanguageFile(),{isDragging:C,monitor:E}=Object(u.a)(e=>({isDragging:e.isDragging(),monitor:e}));Object(l.useEffect)(()=>{C&&!n?setTimeout(()=>{s(!0)},50):!C&&n&&s(!1)},[n,C]);const D=Object(l.useContext)(c.a),O=Object(d.a)(null!=t?t:{})?null:t,x=D.canDrop?(e,t)=>D.canDrop({dropZoneType:o,dropTargetItem:O,item:e,monitor:t}):void 0,T=D.onDrop?(e,t)=>D.onDrop({dropZoneType:o,dropTargetItem:O,item:e,monitor:t}):void 0,[{canDrop:w,isOver:j},P]=Object(m.a)({accept:a,drop:T,canDrop:x,collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})}),L=y({canDrop:w,isOver:j,dropZoneType:o});switch(o){case r.a.VESSEL_OPEN_POSITION:case r.a.AFTER_ALLOCATED:return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:L.base,ref:P}),i.a.createElement("div",{className:Object(b.default)(L.dropTargetLine,L.dropAfter)}));case r.a.BEFORE_ALLOCATED:return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:L.base,ref:P},i.a.createElement("div",{className:Object(b.default)(L.dropTargetLine,L.dropBefore)})));case r.a.CARGO_ONTO_ALLOCATED:return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Object(b.default)(L.cargoDropContainer,{[L.visible]:n})},i.a.createElement("div",{className:L.base,ref:P},i.a.createElement("div",{className:Object(b.default)(L.dropZoneTarget,{[L.hidden]:!j,[L.isOverColorCanDrop]:j&&w,[L.isOverColorCannotDrop]:j&&!w})},i.a.createElement(g.a,{variant:"h1"},h)))));case r.a.UNALLOCATED:return i.a.createElement("div",{className:Object(b.default)(L.dropZoneTarget,{[L.isOverColorCanDrop]:j&&w,[L.isOverColorCannotDrop]:j&&!w}),ref:P},i.a.createElement(g.a,{variant:"h1"},h));default:return null}}const h=Object(o.a)(Object(n.a)(()=>({dropContainer:{position:"absolute",display:"flex",flexDirection:"column",height:"100%",width:"100%",left:0,top:0}})));function C({targetData:e,acceptsDragType:t}){const{dropZoneType:a}=Object(l.useContext)(c.a),o=h({});return e?Object(s.e)(e)?i.a.createElement("div",{className:o.dropContainer},i.a.createElement(f,{key:"board-open-position-drop-target-onto",dropZoneType:r.a.VESSEL_OPEN_POSITION,acceptsDragType:r.b.VOYAGE_TYPES,targetData:e})):Object(s.b)(e)?a===r.a.CARGO_ONTO_ALLOCATED?i.a.createElement(f,{key:"board-fpv-drop-target-after",dropZoneType:r.a.CARGO_ONTO_ALLOCATED,acceptsDragType:r.b.CARGO,targetData:e}):i.a.createElement("div",{className:o.dropContainer},i.a.createElement(f,{key:"board-fpv-drop-target-before",dropZoneType:r.a.BEFORE_ALLOCATED,acceptsDragType:r.b.VOYAGE_TYPES,targetData:e}),i.a.createElement(f,{key:"board-fpv-drop-target-after",dropZoneType:r.a.AFTER_ALLOCATED,acceptsDragType:r.b.VOYAGE_TYPES,targetData:e})):null:i.a.createElement("div",{className:o.dropContainer},i.a.createElement(f,{key:`board-${t}-drop-target-onto`,dropZoneType:r.a.UNALLOCATED,acceptsDragType:t,targetData:e}))}const E=i.a.memo(C)},1698:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(10),a(11);var o=a(0),n=a.n(o),r=a(1699);function l({max:e,onChange:t,reactKeyPrefix:a}){const[l,i]=Object(o.useState)(e);return Object(o.useEffect)(()=>{t(l)},[t,l]),n.a.createElement(r.a,{reactKeyPrefix:a+"-quantity-selection",quantity:l,max:e,setQuantity:i,quantityDecimals:3})}},1829:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(10),a(11);var o=a(130),n=a(2344),r=a(0),l=a.n(r),i=a(226),c=a(202),s=a(6),d=a(50),u=a(3);const m=(e,t,a,r)=>{const[m]=Object(s.a)([u.a.IInternationalization]),{model:g,common:v}=m.getLanguageFile(),p=d.a.getTotalCargoQuantityWithRFC(null!=a?a:[],e,"L")+" "+v.mt,b=d.a.getTotalCargoQuantityWithRFC(null!=a?a:[],e,"D")+" "+v.mt,y=r+" "+v.mt,f=Object(n.a)(null==e?void 0:e.comments,{length:64}),h=!!(null==e?void 0:e.comments);return l.a.createElement("div",{className:t.tooltip},l.a.createElement(i.a,{label:g.loading,content:p}),l.a.createElement(i.a,{label:v.inTransit,content:y}),l.a.createElement(i.a,{label:g.discharging,content:b}),h&&l.a.createElement(c.a,{className:t.divider}),l.a.createElement(o.a,{className:t.comment},f))}},1834:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));a(10),a(11);var o=a(0),n=a.n(o),r=a(2097),l=a(124),i=a(862),c=a(654),s=a(129);const d=e=>{const{onDrop:t,canDrop:a,canDrag:o}=e,[{itemType:d,isDragging:u}]=Object(r.a)({item:{type:l.b.VOYAGE_TYPES},collect:e=>({itemType:e.getItemType(),isDragging:e.isDragging(),monitor:e}),isDragging:e=>!!e.getItem().data.key}),m=u&&d?d:l.b.NONE;return n.a.createElement(c.a.Provider,{value:{onDrop:t.bind(null,s.a.NONE),canDrop:a,canDrag:o}},n.a.createElement(i.a,{targetData:null,acceptsDragType:m}))}},2052:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var o=a(0),n=a(527),r=a(1247),l=a(1246),i=a(216),c=a(35),s=a(1248),d=a(845),u=a(38);const m={timelineDate:{backgroundColor:u.b.bergenRain.secondary[2],height:15,textAlign:"center",position:"absolute",zIndex:10,fontWeight:500,fontSize:"12px"},timelineHeaderRow:{padding:5,boxSizing:"border-box",position:"relative",flex:1,height:"100%",backgroundColor:u.b.bergenRain.secondary[2],border:"1px solid "+u.b.bergenRain.secondary[4]}},g=o.memo(e=>{const{earliestVisibleDate:t,latestVisibleDate:a,timeUnit:n,userLocale:r}=e,l=new d.a;l.getLines(t,a,n,!1);const u=l.getLineDates();let g=l.getLines(t,a,n,!0).map((e,t)=>{const a={left:e+1+"%"},n=u[t];return o.createElement("div",{key:"timeline-header"+t,style:Object.assign(Object.assign({},m.timelineDate),a)},function(e,t){return o.createElement(i.a,{userLocale:t,value:e,dateFormat:c.a.shortLocalizedDate,highlightWeekendDates:!1})}(n,r))});return g=g.slice(0,g.length-1),o.createElement("div",{style:m.timelineHeaderRow},o.createElement(s.a,{earliestVisibleDate:t,latestVisibleDate:a,timeUnit:n,showTodayLine:!1}),g)});let v=0;const p=()=>{if(0!==v||(new n.a).isMobileOrTabletDevice())return v;{const e=document.createElement("div");document.body.appendChild(e),e.style.width="100%",e.style.overflowY="scroll";const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),v=t,v}},b={header:{backgroundColor:u.b.bergenRain.secondary[1]},firstElement:{"&:first-of-type":{borderTop:"none",borderBottom:"1px solid "+u.b.bergenRain.secondary[4],backgroundColor:u.b.bergenRain.secondary[1]}}},y=o.memo(e=>{const{headerWidth:t,earliestVisibleDate:a,latestVisibleDate:n,timeUnit:i,userLocale:c,reactKeyPrefix:s}=e,d={paddingRight:p()+"px"};return o.createElement("div",{style:Object.assign(Object.assign({},b.header),d)},o.createElement(l.a,{height:30},o.createElement(r.a,{width:t,sx:b.firstElement,reactKeyPrefix:s+"-empty-column"},o.createElement("div",null)),o.createElement(g,{earliestVisibleDate:a,latestVisibleDate:n,timeUnit:i,userLocale:c,reactKeyPrefix:s+"-columns"})))})},226:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var o=a(0),n=a.n(o),r=a(130);const l={label:{textAlign:"left",float:"left",fontWeight:"bold",fontSize:"1rem",marginLeft:1,marginRight:1.25},content:{textAlign:"right",whiteSpace:"nowrap",fontSize:"1rem",marginRight:1.25}},i=e=>{const{label:t,content:a,showContent:o=!0}=e;return o?"string"==typeof t&&"string"==typeof a?n.a.createElement("div",null,n.a.createElement(r.a,{sx:l.label},t),n.a.createElement(r.a,{sx:l.content},a)):n.a.createElement("div",null,n.a.createElement(r.a,{sx:l.label},a),n.a.createElement(r.a,{sx:l.label},a)):null}},453:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a(0);const n=a.n(o).a.createContext({})},454:function(e,t,a){"use strict";a.d(t,"a",(function(){return p})),a.d(t,"b",(function(){return b}));a(10),a(11);var o=a(323),n=a(0),r=a.n(n),l=a(1826),i=a(1302),c=a(844),s=a(124),d=a(453),u=a(197),m=a(156),g=a(38),v=a(160);const p=r.a.createContext({cardWidth:void 0}),b=r.a.memo(e=>{var t,a;const{children:b,onClick:y,data:f,reactKeyPrefix:h,boardType:C,sx:E=[]}=e,{canDrag:D}=Object(n.useContext)(d.a),O={card:{backgroundColor:e.isOpenPosition?v.a.vesselOpenPositionCard[1]:g.b.bergenRain.secondary[1],borderRadius:3/4,padding:1,position:"relative"}};const x=Object(m.a)(f)?s.b.CARGO:s.b.VOYAGE_TYPES,T=x===s.b.VOYAGE_TYPES&&C===u.a.CargoManagement,[w,j]=Object(c.a)(x,f,D),P=Object(m.c)(f)&&null!==(a=null===(t=f.voyage)||void 0===t?void 0:t.key)&&void 0!==a?a:f.key;return r.a.createElement(l.a,{handleWidth:!0,handleHeight:!1},({width:e})=>r.a.createElement(p.Provider,{value:{cardWidth:e}},r.a.createElement(o.a,{id:h+"-schedule-card-"+P,key:"schedule-card-"+P,ref:T?null:j,sx:[O.card,!T&&w,...Array.isArray(E)?E:[E]],onClick:y},b,r.a.createElement(i.a,{targetData:f,acceptsDragType:x}))))})},654:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a(0);const n=a.n(o).a.createContext({})},722:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(10),a(11);var o=a(6),n=a(217),r=a(78),l=a(3);const i={getDateString:function(e,t,a,i){const c=Object(n.d)(e,t);let s="";if(a&&c){const n=void 0!==i?function(e){const[t]=Object(o.a)([l.a.IInternationalization]),{common:a}=t.getLanguageFile(),n=t.formatNumber(e,{maxDecimals:1});let r=" ";r+=e>0?a.late+" +"+n:e<0?a.early+" "+n:a.onTime;return r}(i):"";s=r.a.getFormattedDateRangeAsString(e,t,a,!0,!0)+n}return s}}},844:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var o=a(0),n=a(2097);function r(e,t,a){const r=Object(o.useCallback)(()=>!a||a(e,{getItem:()=>({data:t})}),[e,a,t]);return Object(n.a)({item:{type:e,data:t},canDrag:r,collect:e=>({opacity:e.isDragging()?.5:1,cursor:r()?"grab":"auto"}),isDragging:e=>(null==t?void 0:t.key)===e.getItem().data.key})}},845:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a(198);class n{constructor(){this.daySeconds=86400,this.lineDates=[],this.getPeriodLines=(e,t,a)=>{const n=(t.getTime()-e.getTime())/1e3,r=[];let l=this.getStartPositionSeconds(e,t,a);for(;l<n;)switch(r.push(l/n*100),a){case o.a.WEEK:l+=this.daySeconds;break;case o.a.MONTH:l=n}return r}}getLines(e,t,a,n){const r=(t.getTime()-e.getTime())/1e3,l=[];this.lineDates=[];let i=this.getStartPositionSeconds(e,t,a);for(;i<r;){l.push(i/r*100);const t=new Date(e.getTime()+1e3*i);switch(this.lineDates.push(t),a){case o.a.WEEK:i+=7*this.daySeconds;break;case o.a.MONTH:const t=new Date(e.getTime()+1e3*i+1e3*this.daySeconds*14);i+=this.daysInMonth(t)*this.daySeconds}}if(n){const t=((new Date).getTime()-e.getTime())/1e3;l.push(t/r*100)}return this.lineDates.push(e),l}getLineDates(){return this.lineDates}getStartPositionSeconds(e,t,a){if(a===o.a.WEEK){let t=e.getDay()-1;return-1===t&&(t=6),(7-t)%7*this.daySeconds}{const t=e.getDate()-1,a=this.daysInMonth(e);return(a-t)%a*this.daySeconds}}daysInMonth(e){const t=e.getMonth(),a=e.getFullYear();return new Date(a,t+1,0).getDate()}}},862:function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var o=a(124),n=a(0),r=a.n(n),l=a(115),i=(a(10),a(11),a(2509)),c=a(2097),s=a(323),d=a(130),u=a(3),m=a(6),g=a(654),v=a(160),p=a(38),b=a(1244);const y=r.a.memo(e=>{const{targetData:t,acceptsDragType:a,dropZoneType:l,dropStyleArea:y}=e,[f]=Object(m.a)([u.a.IInternationalization]),{common:{dropHere:h}}=f.getLanguageFile(),C=Object(n.useContext)(b.a),E=Object(n.useContext)(g.a),D=t,O=E.canDrop?(e,t)=>E.canDrop({dropZoneType:l,dropTargetItem:D,item:e,monitor:t}):void 0,x=E.onDrop?(e,t)=>E.onDrop({dropZoneType:l,dropTargetItem:D,item:e,monitor:t}):void 0,[{canDrop:T,isOver:w},j]=Object(i.a)({accept:a,drop:x,canDrop:O,collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})}),[{isDragging:P}]=Object(c.a)({item:{type:o.b.VOYAGE_TYPES},collect:e=>({itemType:e.getItemType(),isDragging:e.isDragging(),monitor:e}),isDragging:e=>!!e.getItem().data.key}),L=w&&T,k=(({isOver:e,canDrop:t,height:a,isDragging:o})=>({dropZoneTarget:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},commitmentZone:{height:a||"50px",marginRight:3,marginLeft:21.75,border:"2px dashed "+p.b.navigator.primary,backgroundColor:e?t?v.a.schedulerBoard[6]:"indianred":v.a.schedulerBoard[6],zIndex:10},base:{height:"100%",width:"30px",position:"absolute",margin:"0px",zIndex:o?10:1},dropAfter:{float:"left",marginLeft:"1px"},dropBefore:{float:"right",marginRight:"1px"},dropTargetLine:{height:"100%",width:e&&t?"4px":0,background:e&&t?"black":"none",borderRadius:.75},emptyRow:{border:"2px dashed "+p.b.navigator.primary,backgroundColor:e?t?v.a.schedulerBoard[6]:"indianred":v.a.schedulerBoard[6]},textColor:{color:p.b.navigator.primary}}))({canDrop:T,isOver:w,height:C.height,isDragging:P});switch(l){case o.a.UNALLOCATED:return P&&T?r.a.createElement(s.a,{sx:Object.assign(Object.assign({},k.dropZoneTarget),k.commitmentZone),ref:j},r.a.createElement(d.a,{variant:"h1",sx:k.textColor},h)):r.a.createElement(n.Fragment,null);case o.a.AFTER_ALLOCATED:return r.a.createElement("div",{ref:j,style:Object.assign(Object.assign({},k.base),y)},r.a.createElement("div",{style:Object.assign(Object.assign({},k.dropTargetLine),k.dropAfter)}));case o.a.BEFORE_ALLOCATED:return r.a.createElement("div",{ref:j,style:Object.assign(Object.assign({},k.base),y)},r.a.createElement("div",{style:Object.assign(Object.assign({},k.dropTargetLine),k.dropBefore)}));case o.a.EMPTY_ROW:return r.a.createElement(s.a,{sx:Object.assign(Object.assign({},k.dropZoneTarget),L&&k.emptyRow),ref:j},L&&r.a.createElement(d.a,{variant:"h1",sx:k.textColor},h));case o.a.VESSEL_OPEN_POSITION:case o.a.CARGO_ONTO_ALLOCATED:return r.a.createElement("div",{ref:j},"Not supported")}});var f=a(156);const h={dropContainer:{position:"absolute",display:"flex",flexDirection:"column",height:"100%",width:"100%",left:0,top:0}};function C({targetData:e,acceptsDragType:t,leftDropStyleArea:a,rightDropStyleArea:n}){return e?Object(f.e)(e)?r.a.createElement("div",{style:h.dropContainer},r.a.createElement(y,{key:"scheduler-fpv-drop-target-onto-empty"+e.key,dropZoneType:o.a.EMPTY_ROW,acceptsDragType:o.b.VOYAGE_TYPES,targetData:e})):Object(l.b)(e)?r.a.createElement("div",{style:h.dropContainer},r.a.createElement(y,{key:"scheduler-fpv-drop-target-before"+e.key,dropZoneType:o.a.BEFORE_ALLOCATED,acceptsDragType:o.b.VOYAGE_TYPES,targetData:e,dropStyleArea:a}),r.a.createElement(y,{key:"scheduler-fpv-drop-target-after"+e.key,dropZoneType:o.a.AFTER_ALLOCATED,acceptsDragType:o.b.VOYAGE_TYPES,targetData:e,dropStyleArea:n})):null:r.a.createElement("div",{style:h.dropContainer},r.a.createElement(y,{key:`scheduler-${t}-drop-target-onto`,dropZoneType:o.a.UNALLOCATED,acceptsDragType:t,targetData:e}))}}}]);
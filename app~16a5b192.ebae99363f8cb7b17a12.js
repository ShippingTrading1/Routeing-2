(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1416:function(e,t,a){"use strict";a.d(t,"a",(function(){return Te}));a(109);var r=a(0),o=a.n(r),n=a(97),l=a(15),i=a(80),s=a(46),c=a(61),d=a(73),u=a(76),p=a(65),m=a(47),y=a(1),g=a(152),f=a(32),b=(a(1373),a(66)),C=a(30),E=a(41),O=a(27),T=a(88);const P={bunkerOrder:{bunkerOrderStatus:{statusTypeCode:"*",statusTypeDesc:"*"},portCall:{eventLogs:{event:{eventCode:"*"},eventLogDate:"*"},port:{portName:"*"},portCallSequence:"*",ownedByVoyage:{voyageHeader:{referenceNo:"*"}}},vessel:{vesselName:"*"}},bunkerType:{bunkerTypeDesc:"*"},isObjectActive:"*",maxQuantity:"*",minQuantity:"*"};var v=a(299),S=a(81),_=a(40),N=a(105),R=a(35),h=a(5),I=a(50),D=a(14),A=a(16),L=a(3);const k=D.a.get(L.a.IInternationalization),{model:G}=k.lang(),U={vessel:{field:G.vessel,groupCode:"BUNKER_ORDER_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"portCall.voyage.vessel.vesselName"},voyageReference:{field:G.voyageReference,groupCode:"BUNKER_ORDER_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"portCall.voyage.voyageHeader.referenceNo"},portName:{field:G.portName,groupCode:"BUNKER_ORDER_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"portCall.port.portName"},bunkerOrderStatus:{field:G.bunkerOrderStatus,groupCode:"BUNKER_ORDER_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"bunkerOrderStatus.statusTypeDesc"},externalReference:{field:G.externalReference,groupCode:"BUNKER_ORDER_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"externalReferenceNo"},supplier:{field:G.supplier,groupCode:"BUNKER_ORDER_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"bunkerSupplier%2B.businessPartnerName"},operator:{field:G.operator,groupCode:"BUNKER_ORDER_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"portCall%2B.voyage%2B.voyageHeader%2B.operator%2B.userName"}},j={vessel:{field:G.vessel,groupCode:"BUNKER_ORDER_LINE_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"bunkerOrder.portCall.voyage.vessel.vesselName"},voyageReference:{field:G.voyageReference,groupCode:"BUNKER_ORDER_LINE_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"bunkerOrder.portCall.voyage.voyageHeader.referenceNo"},portName:{field:G.portName,groupCode:"BUNKER_ORDER_LINE_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"bunkerOrder.portCall.port.portName"},bunkerOrderStatus:{field:G.bunkerOrderStatus,groupCode:"BUNKER_ORDER_LINE_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"bunkerOrder.bunkerOrderStatus.statusTypeDesc"},bunkerType:{field:G.bunkerType,groupCode:"BUNKER_ORDER_LINE_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"bunkerType%2B.bunkerTypeDesc"},minQty:{field:G.minQty,groupCode:"BUNKER_ORDER_LINE_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"minQuantity"},maxQty:{field:G.maxQty,groupCode:"BUNKER_ORDER_LINE_LIST_SORT_GROUP_CODE",operator:A.b.ASC,queryParamName:"maxQuantity"}},F=D.a.get(L.a.IInternationalization),{model:x}=F.getLanguageFile(),B=e=>{const t=e.bunkerOrder?e.bunkerOrder.portCall:null,a=Object(S.a)(e,"bunkerOrder.bunkerOrderStatus.statusTypeDesc","");return[g.b.getVesselName(e.bunkerOrder),g.b.getVoyageRef(e.bunkerOrder),g.b.getPortName(e.bunkerOrder),I.a.getEventLogDateFromPC(t,"ARR"),{rawValue:a,content:o.a.createElement(_.a,{label:a,priority:N.a.getStatusPriority(a,y.a.bunkerorderline)})},e.bunkerType?e.bunkerType.bunkerTypeDesc:"",e.minQuantity,e.maxQuantity]},w=[{content:x.vessel,contentType:h.a.TEXT,sortConfig:j.vessel},{content:x.voyageReference,contentType:h.a.TEXT,sortConfig:j.voyageReference},{content:x.portName,contentType:h.a.TEXT,sortConfig:j.portName},{content:x.eta,contentType:h.a.DATE,dateTimeFormatOptions:R.a.shortLocalizedDate},{alignHeaderContent:h.c.LEFT,content:x.bunkerOrderStatus,contentType:h.a.ELEMENT,sortConfig:j.bunkerOrderStatus},{content:x.bunkerType,contentType:h.a.TEXT,sortConfig:j.bunkerType},{content:x.minQty,contentType:h.a.NUMBER,sortConfig:j.minQty},{content:x.maxQty,contentType:h.a.NUMBER,sortConfig:j.maxQty}];var M=a(4),V=a(96);const q=D.a.get(L.a.IInternationalization),{model:K}=q.lang(),H=e=>{const t=[{field:"portCall.ownedByVoyage.vessel.key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.vessel,filterObjectValuePath:"key",typeaheadProps:{type:y.a.vessel,objectPaths:["vesselName"],shouldPreload:!0,includeDisabledQuery:!0},filters:t}},Y=e=>{const t=[{field:"portCall.port.key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.portName,filterObjectValuePath:"key",typeaheadProps:{type:y.a.port,objectPaths:["portName"],shouldPreload:!0,query:V.d},filters:t}},z=e=>{const t=[{field:"bunkerOrderStatus.key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.bunkerOrderStatus,filterObjectValuePath:"key",typeaheadProps:{type:y.a.statustype,objectPaths:["statusTypeDesc"],shouldPreload:!0,query:"filter=statusClass.statusClassCode(EQ)BO"},filters:t}},Q=e=>{const t=[{field:"bunkerSupplier.key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.supplier,filterObjectValuePath:"key",typeaheadProps:{type:y.a.businesspartner,objectPaths:["businessPartnerName"],shouldPreload:!0,includeDisabledQuery:!0},filters:t}},X=e=>{const t=[{field:"portCall.ownedByVoyage.voyageHeader.operator.key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.operator,filterObjectValuePath:"key",typeaheadProps:{type:y.a.user,objectPaths:["userName"]},filters:t}},W=e=>{const t=[{field:"portCall.ownedByVoyage.voyageHeader.referenceNo",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.voyageReference,filterObjectValuePath:"referenceNo",typeaheadProps:{type:y.a.voyageheader,objectPaths:["referenceNo"],shouldPreload:!1},filters:t}},$=e=>{const t=[{field:"key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.externalReference,filterObjectValuePath:"key",typeaheadProps:{type:y.a.bunkerorder,objectPaths:["externalReferenceNo"],shouldPreload:!1},filters:t}},Z=e=>{const t=[{field:"bunkerOrder.portCall.ownedByVoyage.vessel.key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.vessel,filterObjectValuePath:"key",typeaheadProps:{type:y.a.vessel,objectPaths:["vesselName"],shouldPreload:!0,includeDisabledQuery:!0},filters:t}},J=e=>{const t=[{field:"bunkerOrder.portCall.port.key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.portName,filterObjectValuePath:"key",typeaheadProps:{type:y.a.port,objectPaths:["portName"],shouldPreload:!0,query:V.d},filters:t}},ee=e=>{const t=[{field:"bunkerOrder.bunkerOrderStatus.key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.bunkerOrderStatus,filterObjectValuePath:"key",typeaheadProps:{type:y.a.statustype,objectPaths:["statusTypeDesc"],shouldPreload:!0,query:"filter=statusClass.statusClassCode(EQ)BO"},filters:t}},te=e=>{const t=[{field:"bunkerOrder.bunkerSupplier.key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.supplier,filterObjectValuePath:"key",typeaheadProps:{type:y.a.businesspartner,objectPaths:["businessPartnerName"],shouldPreload:!0,includeDisabledQuery:!0},filters:t}},ae=e=>{const t=[{field:"bunkerOrder.portCall.ownedByVoyage.voyageHeader.operator.key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.operator,filterObjectValuePath:"key",typeaheadProps:{type:y.a.user,objectPaths:["userName"],shouldPreload:!0},filters:t}},re=e=>{const t=[{field:"bunkerOrder.portCall.ownedByVoyage.voyageHeader.referenceNo",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.voyageReference,filterObjectValuePath:"referenceNo",typeaheadProps:{type:y.a.voyageheader,objectPaths:["referenceNo"],shouldPreload:!1},filters:t}},oe=e=>{const t=[{field:"bunkerOrder.externalReferenceNo",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.externalReference,filterObjectValuePath:"externalReferenceNo",typeaheadProps:{type:y.a.bunkerorder,objectPaths:["externalReferenceNo"],shouldPreload:!1},filters:t}},ne=e=>{const t=[{field:"bunkerType.key",filterGroupCode:e,operator:M.c.IN,type:M.d.STRING}];return{label:K.bunkerType,filterObjectValuePath:"key",typeaheadProps:{type:y.a.bunkertype,objectPaths:["bunkerTypeDesc"],shouldPreload:!0},filters:t}};function le(e,t){return[{field:"portName",filterGroupCode:"BUNKER_ORDER_LIST_FILTER_GROUP_CODE",operator:M.c.IN,queryParamName:"portCall.port.key",selectedObj:{portName:e.portName.toUpperCase(),key:e.key},type:M.d.STRING,value:e.key},{field:"referenceNo",filterGroupCode:"BUNKER_ORDER_LIST_FILTER_GROUP_CODE",operator:M.c.IN,queryParamName:"portCall.ownedByVoyage.voyageHeader.referenceNo",selectedObj:{referenceNo:t.toUpperCase(),key:t.toUpperCase()},type:M.d.STRING,value:t.toUpperCase()}]}const ie=D.a.get(L.a.IInternationalization),{model:se}=ie.getLanguageFile(),ce=e=>{const t=Object(S.a)(e,"bunkerOrderStatus.statusTypeDesc","");return[g.b.getVesselName(e),g.b.getVoyageRef(e),g.b.getPortName(e),I.a.getEventLogDateFromPC(e.portCall,"ARR"),{rawValue:t,content:o.a.createElement(_.a,{label:t,priority:N.a.getStatusPriority(t,y.a.bunkerorder)})},g.b.getExternalRef(e),g.b.getSupplierName(e),g.b.getOperatorName(e)]},de=[{content:se.vessel,contentType:h.a.TEXT,sortConfig:U.vessel},{content:se.voyageReference,contentType:h.a.TEXT,sortConfig:U.voyageReference},{content:se.portName,contentType:h.a.TEXT,sortConfig:U.portName},{content:se.eta,contentType:h.a.DATE,dateTimeFormatOptions:R.a.shortLocalizedDate},{alignHeaderContent:h.c.LEFT,content:se.bunkerOrderStatus,contentType:h.a.ELEMENT,sortConfig:U.bunkerOrderStatus},{content:se.externalReference,contentType:h.a.TEXT,sortConfig:U.externalReference},{content:se.supplier,contentType:h.a.TEXT,sortConfig:U.supplier},{content:se.operator,contentType:h.a.TEXT,sortConfig:U.operator}];var ue=a(33),pe=a(1275),me=a(95),ye=(a(10),a(11),a(6)),ge=a(24);function fe({reactKeyPrefix:e,filterGroupCode:t}){const[a]=Object(ye.a)([L.a.IInternationalization]),{common:r,model:n}=a.lang();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{reactKeyPrefix:e+"-vessel",configs:[H(t)],type:M.b.TYPEAHEAD,label:n.vessel,filterCode:t+"_VESSEL",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-port",configs:[Y(t)],type:M.b.TYPEAHEAD,label:n.port,filterCode:t+"_PORT",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-status",configs:[z(t)],type:M.b.TYPEAHEAD,label:r.status,filterCode:t+"_STATUS",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-supplier",configs:[Q(t)],type:M.b.TYPEAHEAD,label:n.supplier,filterCode:t+"_SUPPLIER",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-operator",configs:[X(t)],type:M.b.TYPEAHEAD,label:n.operator,filterCode:t+"_OPERATOR",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-voyage-reference",configs:[W(t)],type:M.b.TYPEAHEAD,label:n.voyageReference,filterCode:t+"_VOYAGE_REFERENCE",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-external-reference",configs:[$(t)],type:M.b.TYPEAHEAD,label:n.externalReference,filterCode:t+"_EXTERNAL_REFERENCE",clearOnMount:!1}))}function be({reactKeyPrefix:e,filterGroupCode:t}){const[a]=Object(ye.a)([L.a.IInternationalization]),{common:r,model:n}=a.lang();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ge.a,{reactKeyPrefix:e+"-vessel",configs:[Z(t)],type:M.b.TYPEAHEAD,label:n.vessel,filterCode:t+"_VESSEL",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-port",configs:[J(t)],type:M.b.TYPEAHEAD,label:n.port,filterCode:t+"_PORT",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-status",configs:[ee(t)],type:M.b.TYPEAHEAD,label:r.status,filterCode:t+"_STATUS",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-supplier",configs:[te(t)],type:M.b.TYPEAHEAD,label:n.supplier,filterCode:t+"_SUPPLIER",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-operator",configs:[ae(t)],type:M.b.TYPEAHEAD,label:n.operator,filterCode:t+"_OPERATOR",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-voyage-reference",configs:[re(t)],type:M.b.TYPEAHEAD,label:n.voyageReference,filterCode:t+"_VOYAGE_REFERENCE",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-external-reference",configs:[oe(t)],type:M.b.TYPEAHEAD,label:n.externalReference,filterCode:t+"_EXTERNAL_REFERENCE",clearOnMount:!1}),o.a.createElement(ge.a,{reactKeyPrefix:e+"-bunker-type",configs:[ne(t)],type:M.b.TYPEAHEAD,label:n.bunkerType,filterCode:t+"_BUNKER_TYPE",clearOnMount:!1}))}const Ce="doc-modules-bunker-orders-pages-bunker-orders";class Ee extends o.a.PureComponent{constructor(e){let t;super(e),this.internationalization=new T.a,this.lang=this.internationalization.getLanguageFile(),this.applyQueryParamFilters=!1,this.onClickCreateNewBunkerOrder=()=>{this.setState({showCreateBunkerOrderModal:!0})},this.onCloseCreateBunkerOrderModal=()=>{this.setState({preSelectedPortCallKey:void 0,showCreateBunkerOrderModal:!1})},this.onClickCard=e=>{O.a.openDrawer(e,l.a.bunkerOrderDrawer,this.props.location,this.props.history)},e.history.location.pathname.includes("/create-bunker-order/")&&(t=e.history.location.pathname.split("/").pop()),this.state=Object.assign(Object.assign({},e.state),{preSelectedPortCallKey:t?Number(t):void 0,queryFilterParams:void 0,showCreateBunkerOrderModal:void 0!==t,enableBulkUpdate:!1}),this.applyQueryParamFilters=!!e.location&&!!e.location.search,this.onCreateBunkerOrder=this.onCreateBunkerOrder.bind(this),this.enableBulkUpdates=this.enableBulkUpdates.bind(this)}componentDidMount(){if(this.applyQueryParamFilters){const e=this.props.location.search,t=g.b.parseQueryParams(e,"portKey"),a=t?parseInt(t,10):void 0;a&&g.b.getPortFromKey(a).then(t=>{const a=g.b.parseQueryParams(e,"voyRef");t&&a&&(this.applyQueryParamFilters=!1,this.setState({queryFilterParams:le(t,a)}),this.props.history.push(ue.a.bunkerOrders.url))})}}onCreateBunkerOrder(){s.a.next()}enableBulkUpdates(){this.setState({enableBulkUpdate:!this.state.enableBulkUpdate})}render(){const{preSelectedPortCallKey:e,showCreateBunkerOrderModal:t,user:a,queryFilterParams:r,enableBulkUpdate:n}=this.state,{bo:l}=this.lang,s=(this.enableBulkUpdates,this.lang.common.bulkUpdate,me.a.BUNKER_ORDER_CONTRIBUTOR,[{id:"orders",label:l.orders,content:()=>o.a.createElement(c.a,{listId:"BUNKER_ORDER_LIST",reactKeyPrefix:Ce+"-orders-list",tableHeaders:de,getColSpec:ce,tsmodelType:y.a.bunkerorder,fields:v.c,onClickItem:this.onClickCard,defaultFilters:r,defaultSorts:[],sortOptions:Object.values(U),appendKeySort:!0,enableBulkUpdate:n,quickFilters:o.a.createElement(fe,{reactKeyPrefix:Ce+"-orders-list-filters",filterGroupCode:"BUNKER_ORDER_LIST_FILTER_GROUP_CODE"}),quickFiltersGroupCode:"BUNKER_ORDER_LIST_FILTER_GROUP_CODE",tableCustomisation:{disableCardSorting:!0,disableSorting:!1}})},{id:"requirements",label:l.requirements,content:()=>o.a.createElement(c.a,{listId:"BUNKER_ORDER_LINE_LIST",reactKeyPrefix:Ce+"-order-lines-list",tableHeaders:w,getColSpec:B,tsmodelType:y.a.bunkerorderline,fields:P,onClickItem:void 0,defaultSorts:[],sortOptions:Object.values(j),appendKeySort:!0,enableBulkUpdate:n,quickFilters:o.a.createElement(be,{reactKeyPrefix:Ce+"-order-lines-list-filters",filterGroupCode:"BUNKER_ORDER_LINE_LIST_FILTER_GROUP_CODE"}),quickFiltersGroupCode:"BUNKER_ORDER_LINE_LIST_FILTER_GROUP_CODE",tableCustomisation:{disableCardSorting:!0,disableSorting:!1}})}]),u=[{onClick:this.onClickCreateNewBunkerOrder,text:l.createBunkerOrder,disabled:!Object(b.a)([C.a.CreateBunkerOrderACTION],a)}];return o.a.createElement(d.a,{reactKeyPrefix:Ce+"-page",createObject:u,tabs:this.applyQueryParamFilters?void 0:s},t&&o.a.createElement(pe.a,{reactKeyPrefix:Ce+"-create-bo-modal",onCloseModalOnCreate:this.onCreateBunkerOrder,onClose:this.onCloseCreateBunkerOrderModal,preSelectedPortCallKey:e,openDrawerAfterCreate:!0}),o.a.createElement(i.a,null))}}const Oe={authorizationType:E.a.PERMISSION,authorizedPermissions:ue.a.bunkerOrders.authorizedPermissions,behaviorOnAuthorizationFail:p.a.REDIRECT_NO_AUTHORIZATION},Te=Object(u.a)(Oe,Object(m.a)(e=>({user:Object(f.a)(e)}),Object(n.k)(Ee)))},1650:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));a(59),a(1002),a(10),a(11);var r,o,n,l,i,s=a(9),c=a(31),d=a(83),u=a(589),p=a(29),m=a(7),y=a(84),g=a(32),f=a(3),b=a(90),C=a(48),E=a(205),O=a(104),T=a(4),P=a(815),v=a(1),S=a(16),_=a(264),N=function(e,t,a,r){var o,n=arguments.length,l=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,a,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(n<3?o(l):n>3?o(t,a,l):o(t,a))||l);return n>3&&l&&Object.defineProperty(t,a,l),l},R=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(e,t){return function(a,r){t(a,r,e)}},I=function(e,t,a,r){return new(a||(a=Promise))((function(o,n){function l(e){try{s(r.next(e))}catch(e){n(e)}}function i(e){try{s(r.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((r=r.apply(e,t||[])).next())}))};let D=class{constructor(e,t,a,r,o){this.store=e,this.documentApi=t,this.tsmodelApi=a,this.tsModelActions=r,this.http=o}getAuthorization(){var e;return null!==(e=Object(g.a)(this.store.getState()).authdata)&&void 0!==e?e:""}refreshBunkerTransactions(e){return I(this,void 0,void 0,(function*(){try{yield this.documentApi.refreshBunkerTransactions(this.getAuthorization(),e)}catch(e){y.a.error(e)}}))}getBasicHeader(){return{headers:new Headers({authorization:this.getAuthorization(),"content-type":"application/json"})}}postBunkerTransactions(e,t){const a=e.map(e=>e.key),r={invoicingStatus:"RFP"};this.http.put(`${C.a.API_BASE_URL}/Document/bulkUpdate?key=${a.join("&key=")}`,JSON.stringify(r),this.getBasicHeader()).then(()=>{this.tsModelActions.addMultipleAction(e.map(({key:e,documentLines:t})=>new E.a(Object.assign({key:e,documentLines:t.map(({key:e})=>Object.assign({key:e},r))},r))))}).finally(t)}getFilterString(e){return[{field:"key",queryParamName:"documentLines.voyage.key",filterGroupCode:"",operator:T.c.EQUALS,type:T.d.NUMBER,value:e},{field:"accountCode",filterGroupCode:"",operator:T.c.IN,queryParamName:"account.accountCode",type:T.d.STRING,value:["FOS","DOS","DOC","FOC","FLS","DLS","DLC","FLC"]},{field:"statusTypeCode",filterGroupCode:"",operator:T.c.EQUALS,queryParamName:"invoicingStatus.statusTypeCode",type:T.d.STRING,value:"PEN"},{field:"voyage",filterGroupCode:"",operator:T.c.NOT_NULL,queryParamName:"documentLines.voyage",type:T.d.STRING,value:""}]}getSorts(){return[{field:"key",groupCode:_.a,operator:S.b.DESC,queryParamName:"key"}]}loadBunkerTransactions(e,t,a){return I(this,void 0,void 0,(function*(){const r=[...this.getFilterString(e),...t];return this.tsmodelApi.getMultiple({type:v.a.document,fields:P.a,filters:r,authdata:this.getAuthorization(),sorts:this.getSorts()}).then(e=>e).catch(()=>[]).finally(a)}))}};D=N([Object(s.injectable)(),h(0,Object(s.inject)(m.a.Store)),h(1,Object(s.inject)(d.a.IDocumentApi)),h(2,Object(s.inject)(d.a.ITSModelApi)),h(3,Object(s.inject)(m.a.ITSModelActionsAsync)),h(4,Object(s.inject)(f.a.IHttp)),R("design:paramtypes",["function"==typeof(r=void 0!==c.Store&&c.Store)?r:Object,"function"==typeof(o=void 0!==u.IDocumentApi&&u.IDocumentApi)?o:Object,"function"==typeof(n=void 0!==O.ITSModelApi&&O.ITSModelApi)?n:Object,"function"==typeof(l=void 0!==p.ITSModelActionsAsync&&p.ITSModelActionsAsync)?l:Object,"function"==typeof(i=void 0!==b.IHttp&&b.IHttp)?i:Object])],D)},1876:function(e,t,a){"use strict";a.d(t,"a",(function(){return De}));a(10),a(11);var r=a(0),o=a.n(r),n=a(73),l=a(33),i=a(3),s=a(80),c=a(1),d=a(76),u=a(41),p=a(65),m=a(7),y=a(435),g=a(97),f=a(61),b=a(14),C=a(16);const E=b.a.get(i.a.IInternationalization),{model:O}=E.lang(),T=(O.createdDate,C.b.DESC,{default:{createdDate:{field:O.createdDate,groupCode:"TEMPLATE_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"voyageHeader.key"},vessel:{field:O.vessel,groupCode:"TEMPLATE_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"vessel%2B.vesselName"},referenceNumber:{field:O.referenceNumber,groupCode:"TEMPLATE_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"voyageHeader%2B.referenceNo"},trade:{field:O.trade,groupCode:"TEMPLATE_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"voyageHeader.leg%2B.legDesc"},voyageStatus:{field:O.voyageStatus,groupCode:"TEMPLATE_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"voyageHeader.voyageStatus%2B.statusTypeDesc"},charterer:{field:O.charterer,groupCode:"TEMPLATE_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"cargos.charterer%2B.businessPartnerName"},commodity:{field:O.commodity,groupCode:"TEMPLATE_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"cargos%2B.commodity%2B.commodityName"}}});var P=a(15),v=a(27),S=a(81),_=a(40),N=a(105),R=a(5),h=a(58),I=a(60);function D(e){const t=I.a.getPerformanceCargo(e.cargos),a=h.a.getFirstLoadCargoPort(t.cargoPorts),r=h.a.getFirstDischargeCargoPort(t.cargoPorts),n=Object(S.a)(e,"voyageHeader.leg.legDesc",""),l=Object(S.a)(e,"vessel.vesselName",""),i=Object(S.a)(e,"voyageHeader.referenceNo",""),s=Object(S.a)(t,"commodity.commodityName",""),d=e.isTc?Object(S.a)(e,"tcs[0].charterer.businessPartnerName",""):Object(S.a)(t,"charterer.businessPartnerName",""),u=e.isTc?Object(S.a)(e,"tcs[0].deliveryPort.portName",""):Object(S.a)(a,"port.portName",""),p=e.isTc?Object(S.a)(e,"tcs[0].redeliveryPort.portName",""):Object(S.a)(r,"port.portName",""),m=I.a.getVoyageType(e),y=Object(S.a)(e,"voyageHeader.voyageStatus.statusTypeDesc","");return[l,i,n,m,{textContent:y,content:o.a.createElement(_.a,{label:y,priority:N.a.getStatusPriority(y,c.a.voyage)})},d,s,u,p]}const A=e=>{const{model:t}=e.getLanguageFile();return[{content:t.vessel,contentType:R.a.TEXT,sortConfig:T.default.vessel},{content:t.referenceNumber,contentType:R.a.TEXT,sortConfig:T.default.referenceNumber},{content:t.trade,contentType:R.a.TEXT,sortConfig:T.default.trade},{content:t.voyageType,contentType:R.a.TEXT},{alignHeaderContent:R.c.LEFT,content:t.voyageStatus,contentType:R.a.ELEMENT,sortConfig:T.default.voyageStatus},{content:t.charterer,contentType:R.a.TEXT,sortConfig:T.default.charterer},{content:t.commodity,contentType:R.a.TEXT,sortConfig:T.default.commodity},{content:t.loadPort,contentType:R.a.TEXT},{content:t.dischargePort,contentType:R.a.TEXT}]};var L=a(24),k=a(4);const G=b.a.get(i.a.IInternationalization),{model:U}=G.lang(),j=()=>{const e={field:"vessel.key",filterGroupCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE",operator:k.c.IN,type:k.d.STRING};return[{label:U.vessel,filterObjectValuePath:"key",typeaheadProps:{type:c.a.vessel,objectPaths:["vesselName"],includeDisabledQuery:!0},filters:[e]}]},F=()=>{const e={field:"voyageHeader.leg.key",filterGroupCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE",operator:k.c.IN,type:k.d.STRING};return[{label:U.trade,filterObjectValuePath:"key",typeaheadProps:{type:c.a.leg,objectPaths:["legDesc"]},filters:[e]}]},x=()=>{const e={field:"voyageHeader.pattern.key",filterGroupCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE",operator:k.c.IN,type:k.d.STRING};return[{label:U.pattern,filterObjectValuePath:"key",typeaheadProps:{type:c.a.pattern,objectPaths:["patternDesc"]},filters:[e]}]},B=()=>{const e={field:"voyageHeader.referenceNo",filterGroupCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE",operator:k.c.IN,type:k.d.STRING};return[{label:U.referenceNumber,filterObjectValuePath:"referenceNo",typeaheadProps:{type:c.a.voyageheader,objectPaths:["referenceNo"]},filters:[e]}]},w=()=>{const e={field:"portCallsFromVoyage.port.portAreas.area.key",filterGroupCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE",operator:k.c.IN,type:k.d.STRING};return[{label:U.areaDescription,filterObjectValuePath:"key",typeaheadProps:{type:c.a.area,objectPaths:["areaDescription"]},filters:[e]}]};function M({reactKeyPrefix:e}){const t=b.a.get(i.a.IInternationalization),{model:a}=t.lang();return o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,{reactKeyPrefix:e+"-vessel",configs:j(),type:k.b.TYPEAHEAD,label:a.vessel,filterCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE_VESSEL",clearOnMount:!1}),o.a.createElement(L.a,{reactKeyPrefix:e+"-trade",configs:F(),type:k.b.TYPEAHEAD,label:a.trade,filterCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE_TRADE",clearOnMount:!1}),o.a.createElement(L.a,{reactKeyPrefix:e+"-pattern",configs:x(),type:k.b.TYPEAHEAD,label:a.pattern,filterCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE_PATTERN",clearOnMount:!1}),o.a.createElement(L.a,{reactKeyPrefix:e+"-reference-no",configs:B(),type:k.b.TYPEAHEAD,label:a.referenceNumber,filterCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE_REFERENCE_NO",clearOnMount:!1}),o.a.createElement(L.a,{reactKeyPrefix:e+"-area",configs:w(),type:k.b.TYPEAHEAD,label:a.areaDescription,filterCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE_AREA",clearOnMount:!1}))}const V=e=>[{field:"key",filterGroupCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE",operator:k.c.IN,queryParamName:"scenarios.key",type:k.d.NUMBER,value:e},{field:"isTemplate",filterGroupCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE",operator:k.c.EQUALS,queryParamName:"voyageHeader.isTemplate",type:k.d.BOOLEAN,value:!0}],q={cargos:{cargoPorts:{reasonForCall:{reasonForCall:"*"},cargoPortSequence:"*",port:{portName:"*"}},coaLine:{coa:"*"},charterer:{businessPartnerName:"*"},commodity:{commodityName:"*"}},portCallsFromVoyage:{port:{portName:"*",portAreas:{area:{areaCode:"*",areaDescription:"*"},areaReport:{areaReportCode:"*",areaReportName:"*"}}},portCallSequence:"*",reasonForCall:{reasonForCall:"*"}},isTc:"*",tcs:{charterer:{businessPartnerName:"*"},deliveryPort:{portName:"*"},redeliveryPort:{portName:"*"}},vessel:{vesselName:"*"},voyageHeader:{referenceNo:"*",leg:{legDesc:"*"},voyageStatus:{statusTypeDesc:"*"}}};var K=a(6);function H({reactKeyPrefix:e,selectedScenario:t}){const[a]=Object(K.a)([i.a.IInternationalization]),n=Object(g.g)(),l=Object(g.h)(),s=Object(r.useCallback)(e=>{v.a.openDrawer(e,P.a.voyageDrawer,l,n)},[n,l]),d=Object(r.useMemo)(()=>o.a.createElement(M,{reactKeyPrefix:e+"-quick-filters"}),[]);return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(f.a,{quickFilters:d,quickFiltersGroupCode:"TEMPLATE_VOYAGES_LIST_FILTER_GROUP_CODE",getColSpec:D,tsmodelType:c.a.voyage,fields:q,listId:"TEMPLATE_VOYAGES_LIST_ID",defaultSorts:Object.values(T.default),defaultFilters:V(t.key),sortOptions:Object.values(T.default),tableCustomisation:{disableSorting:!1,disableCardSorting:!0},reactKeyPrefix:e+"-list",tableHeaders:A(a),onClickItem:s}))}const Y={dlPrice:"*",doAtSea:"*",doInPort:"*",doInPortWorking:"*",doPrice:"*",flPrice:"*",foBallast:"*",foInPort:"*",foInPortWorking:"*",foLoaded:"*",foPrice:"*",speedBallast:"*",speedLoaded:"*",vessel:{vesselName:"*"},voyageHeader:{referenceNo:"*",templateVoyageHeader:{referenceNo:"*"},voyageStatus:{statusTypeDesc:"*"}}};var z=a(92);const Q=b.a.get(i.a.IInternationalization),{model:X}=Q.lang(),W={default:{vessel:{field:X.vessel,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"vessel.vesselName"},templateReference:{field:X.templateReference,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"voyageHeader%2B.templateVoyageHeader%2B.referenceNo"},voyageStartDate:{field:X.voyageStartDate,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"voyageHeader.voyageStartDate"}},optional:{vessel:{field:X.vessel,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"vessel.vesselName"},templateReference:{field:X.templateReference,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"voyageHeader%2B.templateVoyageHeader%2B.referenceNo"},voyageReference:{field:X.voyageReference,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"voyageHeader%2B.referenceNo"},voyageStartDate:{field:X.voyageStartDate,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"voyageHeader.voyageStartDate"},speedBallast:{field:X.speedBallast,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"speedBallast"},speedLaden:{field:X.speedLaden,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"speedLaden"},foBallast:{field:X.foBallast,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"foBallast"},foLaden:{field:X.foLaden,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"foLaden"},foPortIdle:{field:X.foPortIdle,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"foPortIdle"},foPortWorking:{field:X.foPortWorking,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"foPortWorking"},doPortIdle:{field:X.doPortIdle,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"doPortIdle"},doPortWorking:{field:X.doPortWorking,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"doPortWorking"},doAtSea:{field:X.doAtSea,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"doAtSea"},foPrice:{field:X.foPrice,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"foPrice"},doPrice:{field:X.doPrice,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"doPrice"},flPrice:{field:X.flPrice,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"flPrice"},dlPrice:{field:X.dlPrice,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"dlPrice"},voyageStatus:{field:X.voyageStatus,groupCode:"BUDGETED_VOYAGES_LIST_SORTS_GROUP_CODE",operator:C.b.ASC,queryParamName:"voyageHeader%2B.voyageStatus%2B.statusTypeDesc"}}};function $(e){const t=Object(S.a)(e,"vessel.vesselName",""),a=Object(S.a)(e,"voyageHeader.templateVoyageHeader.referenceNo",""),r=Object(S.a)(e,"voyageHeader.referenceNo",""),n=Object(S.a)(e,"voyageHeader.voyageStatus.statusTypeDesc","");return[t,a,r,e.speedBallast,e.speedLoaded,e.foBallast,e.foLoaded,e.foInPort,e.foInPortWorking,e.doInPort,e.doInPortWorking,e.doAtSea,e.foPrice,e.doPrice,e.flPrice,e.dlPrice,{rawValue:n,content:o.a.createElement(_.a,{label:n,priority:N.a.getStatusPriority(n,c.a.voyage)})}]}const Z=e=>{const{model:t}=e.getLanguageFile();return[{content:t.vessel,contentType:R.a.TEXT,sortConfig:W.optional.vessel},{content:t.templateReference,contentType:R.a.TEXT,sortConfig:W.optional.templateReference},{content:t.voyageReference,contentType:R.a.TEXT,sortConfig:W.optional.voyageReference},{content:t.speedBallast,contentType:R.a.NUMBER,sortConfig:W.optional.speedBallast,numberFormatOptions:z.b.format2},{content:t.speedLaden,contentType:R.a.NUMBER,sortConfig:W.optional.speedLaden,numberFormatOptions:z.b.format2},{content:t.foBallast,contentType:R.a.NUMBER,sortConfig:W.optional.foBallast,numberFormatOptions:z.b.format2},{content:t.foLaden,contentType:R.a.NUMBER,sortConfig:W.optional.foLaden,numberFormatOptions:z.b.format2},{content:t.foPortIdle,contentType:R.a.NUMBER,sortConfig:W.optional.foPortIdle,numberFormatOptions:z.b.format2},{content:t.foPortWorking,contentType:R.a.NUMBER,sortConfig:W.optional.foPortWorking,numberFormatOptions:z.b.format2},{content:t.doPortIdle,contentType:R.a.NUMBER,sortConfig:W.optional.doPortIdle,numberFormatOptions:z.b.format2},{content:t.doPortWorking,contentType:R.a.NUMBER,sortConfig:W.optional.doPortWorking,numberFormatOptions:z.b.format2},{content:t.doAtSea,contentType:R.a.NUMBER,sortConfig:W.optional.doAtSea,numberFormatOptions:z.b.format2},{content:t.foPrice,contentType:R.a.NUMBER,sortConfig:W.optional.foPrice,numberFormatOptions:z.b.format2},{content:t.doPrice,contentType:R.a.NUMBER,sortConfig:W.optional.doPrice,numberFormatOptions:z.b.format2},{content:t.flPrice,contentType:R.a.NUMBER,sortConfig:W.optional.flPrice,numberFormatOptions:z.b.format2},{content:t.dlPrice,contentType:R.a.NUMBER,sortConfig:W.optional.dlPrice,numberFormatOptions:z.b.format2},{alignHeaderContent:R.c.LEFT,content:t.voyageStatus,contentType:R.a.ELEMENT,sortConfig:W.optional.voyageStatus}]},J=b.a.get(i.a.IInternationalization),{model:ee}=J.lang(),te=e=>{const t={field:"vessel.key",filterGroupCode:e,operator:k.c.IN,type:k.d.STRING};return[{label:ee.vessel,filterObjectValuePath:"key",typeaheadProps:{type:c.a.vessel,objectPaths:["vesselName"],includeDisabledQuery:!0},filters:[t]}]},ae=e=>{const t={field:"voyageHeader.leg.key",filterGroupCode:e,operator:k.c.IN,type:k.d.STRING};return[{label:ee.trade,filterObjectValuePath:"key",typeaheadProps:{type:c.a.leg,objectPaths:["legDesc"]},filters:[t]}]},re=e=>{const t={field:"voyageHeader.referenceNo",filterGroupCode:e,operator:k.c.IN,type:k.d.STRING};return[{label:ee.referenceNumber,filterObjectValuePath:"referenceNo",typeaheadProps:{type:c.a.voyageheader,objectPaths:["referenceNo"]},filters:[t]}]},oe=e=>{const t={field:"portCallsFromVoyage.port.portAreas.area.key",filterGroupCode:e,operator:k.c.IN,type:k.d.STRING};return[{label:ee.areaDescription,filterObjectValuePath:"key",typeaheadProps:{type:c.a.area,objectPaths:["areaDescription"]},filters:[t]}]},ne=e=>{const t={field:"voyageHeader.templateVoyageHeader.referenceNo",filterGroupCode:e,operator:k.c.IN,type:k.d.STRING};return[{label:ee.templateReference,filterObjectValuePath:"referenceNo",typeaheadProps:{type:c.a.voyageheader,objectPaths:["referenceNo"]},filters:[t]}]},le=e=>{const t={field:"voyageHeader.voyageStatus.statusTypeDesc",filterGroupCode:e,operator:k.c.IN,type:k.d.STRING};return[{label:ee.voyageStatus,filterObjectValuePath:"statusTypeDesc",typeaheadProps:{type:c.a.statustype,objectPaths:["statusTypeDesc"],query:"filter=statusClass.statusClassCode(EQ)VOY&filter=statusTypeDesc(NE)Scheduled",itemsToShow:8},filters:[t]}]};function ie({reactKeyPrefix:e,filterGroupCode:t}){const a=b.a.get(i.a.IInternationalization),{model:r}=a.lang();return o.a.createElement(o.a.Fragment,null,o.a.createElement(L.a,{reactKeyPrefix:e+"-vessel",configs:te(t),type:k.b.TYPEAHEAD,label:r.vessel,filterCode:t+"_VESSEL",clearOnMount:!1}),o.a.createElement(L.a,{reactKeyPrefix:e+"-template-reference-no",configs:ne(t),type:k.b.TYPEAHEAD,label:r.templateReference,filterCode:t+"_TEMPLATE_REFERENCE",clearOnMount:!1}),o.a.createElement(L.a,{reactKeyPrefix:e+"-voyage-reference-no",configs:re(t),type:k.b.TYPEAHEAD,label:r.voyageReference,filterCode:t+"_VOYAGE_REFERENCE_NO",clearOnMount:!1}),o.a.createElement(L.a,{reactKeyPrefix:e+"-trade",configs:ae(t),type:k.b.TYPEAHEAD,label:r.trade,filterCode:t+"_TRADE",clearOnMount:!1}),o.a.createElement(L.a,{reactKeyPrefix:e+"-voyage-status",configs:le(t),type:k.b.TYPEAHEAD,label:r.voyageStatus,filterCode:t+"_VOYAGE_STATUS",clearOnMount:!1}),o.a.createElement(L.a,{reactKeyPrefix:e+"-area",configs:oe(t),type:k.b.TYPEAHEAD,label:r.areaDescription,filterCode:t+"_AREA",clearOnMount:!1}))}const se=e=>[{field:"key",filterGroupCode:ce,operator:k.c.IN,queryParamName:"scenarios.key",type:k.d.NUMBER,value:e},{field:"isTemplate",filterGroupCode:ce,operator:k.c.EQUALS,queryParamName:"voyageHeader.isTemplate",type:k.d.BOOLEAN,value:!1}],ce="BUDGETED_VOYAGES_LIST_FILTER_GROUP_CODE",de=ce;function ue({reactKeyPrefix:e,selectedScenario:t,enableBulkUpdate:a}){const[n]=Object(K.a)([i.a.IInternationalization]),l=Object(g.g)(),s=Object(g.h)(),d=Object(r.useCallback)(e=>{v.a.openDrawer(e,P.a.voyageDrawer,s,l)},[l,s]),u=Object(r.useMemo)(()=>o.a.createElement(ie,{reactKeyPrefix:e+"-quick-filters",filterGroupCode:de}),[e]);return o.a.createElement(o.a.Fragment,null,t&&o.a.createElement(f.a,{quickFilters:u,quickFiltersGroupCode:de,getColSpec:$,tsmodelType:c.a.voyage,defaultSorts:Object.values(W.default),defaultFilters:se(t.key),sortOptions:Object.values(W.optional),fields:Y,listId:"BUDGETED_VOYAGES_LIST_ID",reactKeyPrefix:e+"-list",tableHeaders:Z(n),tableCustomisation:{responsive:!1,disableCardSorting:!0,disableSorting:!1},onClickItem:d,enableBulkUpdate:a}))}var pe=a(1249),me=a(21),ye=a(47),ge=a(243),fe=a(102),be=a(246),Ce=a(130),Ee=a(272),Oe=a.n(Ee),Te=a(213),Pe=a(187),ve=a(179);const Se=Object(Te.a)(Object(Pe.a)(e=>({selectorContainer:{display:"flex",alignItems:"center"},textContainer:{marginLeft:0}})));const _e=Object(ye.a)(e=>{const t=pe.a.get(e);return{scenario:me.a.getTSModelBuilt(e,c.a.scenario,t||0,ve.a),selectedScenario:t}},Object(K.b)([i.a.IInternationalization,m.a.ISelectedBudgetScenarioActions,m.a.ITSModelActionsAsync],(function(e){const{dispatchAction:t,reactKeyPrefix:a,callback:n,deps:[l,i,s],state:{scenario:d,selectedScenario:u}}=e,{common:p,model:m}=l.getLanguageFile(),[y,g]=Object(r.useState)(null),f=Se(e),b=Object(r.useCallback)(e=>g(e.currentTarget),[g]),C=Object(r.useCallback)(()=>g(null),[g]);Object(r.useEffect)(()=>{u&&s.loadSingleAction({type:c.a.scenario,key:u,fields:ve.a,callback:e=>{e&&t(i.setAction(null))}})},[u]);const E=Object(r.useCallback)(e=>{n&&n(e),t(i.setAction(e.key)),C()},[n,t,C,i]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:f.selectorContainer},o.a.createElement("div",{className:f.textContainer},o.a.createElement(Ce.a,null,d?""+d.scenarioName:`${p.select} ${m.budget}`)),o.a.createElement(be.a,{onClick:b},o.a.createElement(Oe.a,{fontSize:"small"}))),o.a.createElement(ge.a,{reactKeyPrefix:a+"-action-menu",anchorEl:y,open:!!y,onCloseActionMenu:C,showCloseButton:!1,paddingTop:!0},o.a.createElement(fe.b,{onChange:E,defaultSelectedOptions:d,isClearable:!1,shouldPreload:!0,type:c.a.scenario,objectPaths:["scenarioName"],label:m.name,reactKeyPrefix:a+"-budget-scenario-selector",fields:ve.a,formatGroupLabel:void 0,query:"sort=scenarioName(ASI)&filter=isBudget(EQ)1"})))})));var Ne=a(190),Re=a(95);const he={authorizationType:u.a.PERMISSION,authorizedPermissions:l.a.budgets.authorizedPermissions,behaviorOnAuthorizationFail:p.a.REDIRECT_NO_AUTHORIZATION};function Ie(e){var t;const{deps:[a,l,i],state:{scenario:c}}=e;Object(d.b)(he);const{common:u,model:p,voyages:m}=a.getLanguageFile(),[g,f]=Object(r.useState)(!1),[b,C]=Object(r.useState)(void 0),E=Object(r.useCallback)(e=>{f(e)},[]),O=Object(r.useCallback)(()=>{const e={onClick:E,text:u.bulkUpdate,authorizedRoles:[Re.a.VOYAGE_CONTRIBUTOR]};C(e)},[u.bulkUpdate,E]),T=Object(r.useCallback)(()=>{C(void 0)},[]),P=Object(r.useCallback)(e=>{e&&(V(e.key).forEach(e=>l.dispatch(i.putFilterAction(e))),se(e.key).forEach(e=>l.dispatch(i.putFilterAction(e))))},[i,l]),[v,S]=Object(r.useState)(!1),_=Object(r.useCallback)(()=>S(!v),[v]),N=[{onClick:_,text:m.createTemplateVoyage}],R=Object(r.useMemo)(()=>[{id:"template-voyages",label:p.templateVoyages,content:()=>o.a.createElement(H,{selectedScenario:c,reactKeyPrefix:"doc-modules-budgets-page-template-voyages"}),onActivate:()=>T()},{id:"budgeted-voyages",label:m.budgetedVoyages,content:()=>o.a.createElement(ue,{selectedScenario:c,reactKeyPrefix:"doc-modules-budgets-page-budgeted-voyages",enableBulkUpdate:g}),onActivate:()=>O()}],[g,T,p.templateVoyages,c,O,m.budgetedVoyages]);return o.a.createElement(n.a,{middleContent:o.a.createElement(_e,{callback:P,reactKeyPrefix:"doc-modules-budgets-page-budget-scenario-selector"}),reactKeyPrefix:"doc-modules-budgets-page",createObject:c?N:void 0,tabs:R,primaryAction:b},v&&o.a.createElement(y.a,{closeModal:_,showModal:v,createVoyageType:Ne.a.TEMPLATE,reactKeyPrefix:"doc-modules-budgets-page-create-template-voyage",scenarioKey:null==c?void 0:c.key,budgetVersionKey:null===(t=null==c?void 0:c.budgetVersion)||void 0===t?void 0:t.key}),o.a.createElement(s.a,null))}const De=Object(ye.a)(e=>{const t=pe.a.get(e);return{scenario:me.a.getTSModelBuilt(e,c.a.scenario,t||0,ve.a)}},Object(K.b)([i.a.IInternationalization,m.a.Store,m.a.IFilterActions],Object(g.k)(Object(r.memo)(Ie))))},1878:function(e,t,a){"use strict";a.d(t,"a",(function(){return je}));a(10),a(11);var r=a(0),o=a.n(r),n=a(97),l=a(122),i=a(46),s=a(73),c=a(76),d=a(65),u=a(6),p=a(47),m=a(33),y=a(240),g=a(7),f=a(41),b=a(3),C=a(61),E=a(1),O=a(81),T=a(40),P=a(105),v=a(5),S=a(14),_=a(64),N=a(58),R=a(123),h=a(487),I=a(16),D=a(88);const A=new D.a,{model:L}=A.getLanguageFile(),k={default:{createdDate:{field:L.createdDate,groupCode:"UNALLOCATED_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.DESC,queryParamName:"key"}},optional:{createdDate:{field:L.createdDate,groupCode:"UNALLOCATED_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.DESC,queryParamName:"key"},cargoReference:{field:L.cargoReference,groupCode:"UNALLOCATED_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"cargoReference"},charterer:{field:L.charterer,groupCode:"UNALLOCATED_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"charterer%2B.businessPartnerName"},commodity:{field:L.commodity,groupCode:"UNALLOCATED_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"commodity%2B.commodityName"},trade:{field:L.trade,groupCode:"UNALLOCATED_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"leg%2B.legDesc"},cargoStatus:{field:L.cargoStatus,groupCode:"UNALLOCATED_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"bookingStatus%2B.statusTypeDesc"}}},G=e=>({vessel:{field:L.vessel,groupCode:e,operator:I.b.ASC,queryParamName:"voyage%2B.vessel%2B.vesselName"},voyageReference:{field:L.voyageReference,groupCode:e,operator:I.b.ASC,queryParamName:"voyage%2B.voyageHeader%2B.referenceNo"},createdBy:{field:L.createdBy,groupCode:e,operator:I.b.ASC,queryParamName:"createdBy.userName"},cargoType:{field:L.cargoType,groupCode:e,operator:I.b.ASC,queryParamName:"cargoType.cargoTypeCode"}}),U={default:{createdDate:{field:L.createdDate,groupCode:"CARGO_LIST_SORT_GROUP_CODE",operator:I.b.DESC,queryParamName:"key"}},optional:{createdDate:{field:L.createdDate,groupCode:"CARGO_LIST_SORT_GROUP_CODE",operator:I.b.DESC,queryParamName:"key"},cargoReference:{field:L.cargoReference,groupCode:"CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"cargoReference"},charterer:{field:L.charterer,groupCode:"CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"charterer%2B.businessPartnerName"},commodity:{field:L.commodity,groupCode:"CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"commodity%2B.commodityName"},trade:{field:L.trade,groupCode:"CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"leg%2B.legDesc"},cargoStatus:{field:L.cargoStatus,groupCode:"CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"bookingStatus%2B.statusTypeDesc"}}},j=S.a.get(b.a.IInternationalization),{model:F}=j.getLanguageFile();function x(e,t,a){var r;const n=N.a.getFirstLoadCargoPort(e.cargoPorts)||new _.a({}),l=N.a.getFirstDischargeCargoPort(e.cargoPorts)||new _.a({}),{cargoReference:i}=e,s=Object(O.a)(n,"port.portName",""),c=Object(O.a)(l,"port.portName",""),d=Object(O.a)(e,"charterer.businessPartnerName",""),u=R.a.formatNumber(e.cargoQuantity,{minDecimals:3,maxDecimals:3,locale:t.isoCode}),p=Object(O.a)(e,"cargoMeasurement.measurementCode",""),m=Object(O.a)(e,"commodity.commodityName",""),y=Object(O.a)(e,"bookingStatus.statusTypeDesc",""),g=o.a.createElement(T.a,{label:y,priority:P.a.getStatusPriority(y,E.a.cargo)}),f=Object(O.a)(e,"createdBy.userName",""),b=Object(O.a)(e,"voyage.voyageHeader.referenceNo",""),C=Object(O.a)(e,"voyage.vessel.vesselName",""),v=Object(O.a)(e,"leg.legDesc",""),S=o.a.createElement(h.a,{cargo:e});return[i,s,c,d,`${u} ${p}`,m,...a?[C,b]:[],v,{rawValue:y,content:g},{rawValue:null===(r=e.cargoType)||void 0===r?void 0:r.cargoTypeName,content:S},f]}function B(e){const t=[];return t.push({content:F.cargoReference,contentType:v.a.TEXT,sortConfig:e?U.optional.cargoReference:k.optional.cargoReference},{content:F.loadPort,contentType:v.a.TEXT},{content:F.dischargePort,contentType:v.a.TEXT},{content:F.charterer,contentType:v.a.TEXT,sortConfig:e?U.optional.charterer:k.optional.charterer},{content:F.cargoQuantity,contentType:v.a.TEXT},{content:F.commodity,contentType:v.a.TEXT,sortConfig:e?U.optional.commodity:k.optional.commodity}),e&&t.push({content:F.vessel,contentType:v.a.TEXT,sortConfig:G("CARGO_LIST_SORT_GROUP_CODE").vessel},{content:F.voyageReference,contentType:v.a.TEXT,sortConfig:G("CARGO_LIST_SORT_GROUP_CODE").voyageReference}),t.push({content:F.trade,contentType:v.a.TEXT,sortConfig:e?U.optional.trade:k.optional.trade},{alignHeaderContent:v.c.LEFT,content:F.cargoStatus,contentType:v.a.ELEMENT,sortConfig:e?U.optional.cargoStatus:k.optional.cargoStatus},{alignHeaderContent:v.c.LEFT,content:F.cargoType,contentType:v.a.ELEMENT,sortConfig:G(e?"CARGO_LIST_SORT_GROUP_CODE":"UNALLOCATED_CARGO_LIST_SORT_GROUP_CODE").cargoType},{content:F.createdBy,contentType:v.a.TEXT,sortConfig:G(e?"CARGO_LIST_SORT_GROUP_CODE":"UNALLOCATED_CARGO_LIST_SORT_GROUP_CODE").voyageReference}),t}var w=a(4),M=a(96);const V=S.a.get(b.a.IInternationalization),{common:q,model:K}=V.getLanguageFile(),H=(e,t,a)=>{const r=[{field:"key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:a}],o=K.reference;return{label:o,filterObjectValuePath:"key",typeaheadProps:{label:a?o:void 0,type:E.a.cargo,objectPaths:["cargoReference"],query:t.concat("&filter=cargoReference(NOTNULL)")},filters:r}},Y=(e,t)=>{const a=[{field:"cargoPorts.port.key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=K.port;return{label:r,filterObjectValuePath:"key",typeaheadProps:{label:t?r:void 0,type:E.a.port,objectPaths:["portName"],shouldPreload:!0,query:M.d},filters:a}},z=(e,t)=>{const a=[{field:"cargoPorts.reasonForCall.key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=K.reasonForCall;return{label:r,filterObjectValuePath:"key",typeaheadProps:{label:t?r:void 0,type:E.a.reasonforcall,objectPaths:["reasonForCallDesc"],shouldPreload:!0},filters:a}},Q=(e,t)=>{const a=[{field:"charterer.key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=K.charterer;return{label:r,filterObjectValuePath:"key",typeaheadProps:{label:t?r:void 0,type:E.a.businesspartner,objectPaths:["businessPartnerName"],shouldPreload:!0,query:M.b,includeDisabledQuery:!0},filters:a}},X=(e,t)=>{const a=[{field:"commodity.key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=K.commodity;return{label:r,filterObjectValuePath:"key",typeaheadProps:{label:t?r:void 0,type:E.a.commodity,objectPaths:["commodityName"],shouldPreload:!0,includeDisabledQuery:!0},filters:a}},W=(e,t)=>{const a=[{field:"voyage.vessel.key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=K.vessel;return{label:r,filterObjectValuePath:"key",typeaheadProps:{label:t?r:void 0,type:E.a.vessel,objectPaths:["vesselName"],shouldPreload:!0,includeDisabledQuery:!0},filters:a}},$=(e,t)=>{const a=[{field:"voyage.voyageHeader.key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=K.voyageReference;return{label:r,filterObjectValuePath:"key",typeaheadProps:{label:t?r:void 0,type:E.a.voyageheader,objectPaths:["referenceNo"],query:"filter=referenceNo(NOTNULL)"},filters:a}},Z=(e,t)=>{const a=[{field:"leg.key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=K.trade;return{label:r,filterObjectValuePath:"key",typeaheadProps:{label:t?r:void 0,type:E.a.leg,objectPaths:["legDesc"],shouldPreload:!0},filters:a}},J=(e,t)=>{const a=[{field:"bookingStatus.key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=q.status;return{label:r,filterObjectValuePath:"key",typeaheadProps:{label:t?r:void 0,type:E.a.statustype,objectPaths:["statusTypeDesc"],shouldPreload:!0,query:"filter=statusClass.statusClassCode(EQ)BKG"},filters:a}};var ee=a(24);function te(e,t,a){const r=S.a.get(b.a.IInternationalization),{common:n,model:l}=r.lang();return{reference:o.a.createElement(ee.a,{reactKeyPrefix:e+"-reference",configs:[H(t,a)],type:w.b.TYPEAHEAD,label:l.reference,filterCode:t+"_REFERENCE",clearOnMount:!1,key:"reference"}),port:o.a.createElement(ee.a,{reactKeyPrefix:e+"-port",configs:[Y(t)],type:w.b.TYPEAHEAD,label:l.port,filterCode:t+"_PORT",clearOnMount:!1,key:"port"}),reasonForCall:o.a.createElement(ee.a,{reactKeyPrefix:e+"-reason-for-call",configs:[z(t)],type:w.b.TYPEAHEAD,label:l.reasonForCall,filterCode:t+"_REASON_FOR_CALL",clearOnMount:!1,key:"reason-for-call"}),charterer:o.a.createElement(ee.a,{reactKeyPrefix:e+"-charterer",configs:[Q(t)],type:w.b.TYPEAHEAD,label:l.charterer,filterCode:t+"_CHARTERER",clearOnMount:!1,key:"charterer"}),commodity:o.a.createElement(ee.a,{reactKeyPrefix:e+"-commodity",configs:[X(t)],type:w.b.TYPEAHEAD,label:l.commodity,filterCode:t+"_COMMODITY",clearOnMount:!1,key:"commodity"}),vessel:o.a.createElement(ee.a,{reactKeyPrefix:e+"-vessel",configs:[W(t)],type:w.b.TYPEAHEAD,label:l.vessel,filterCode:t+"_VESSEL",clearOnMount:!1,key:"vessel"}),voyageReference:o.a.createElement(ee.a,{reactKeyPrefix:e+"-voyage-reference",configs:[$(t)],type:w.b.TYPEAHEAD,label:l.voyageReference,filterCode:t+"_VOYAGE_REFERENCE",clearOnMount:!1,key:"voyage-reference"}),trade:o.a.createElement(ee.a,{reactKeyPrefix:e+"-trade",configs:[Z(t)],type:w.b.TYPEAHEAD,label:l.trade,filterCode:t+"_TRADE",clearOnMount:!1,key:"trade"}),status:o.a.createElement(ee.a,{reactKeyPrefix:e+"-status",configs:[J(t)],type:w.b.TYPEAHEAD,label:n.status,filterCode:t+"_STATUS",clearOnMount:!1,key:"status"}),more:o.a.createElement(ee.a,{reactKeyPrefix:e+"-more",configs:[Z(t,"trade"),J(t,"status")],type:w.b.TYPEAHEAD,label:n.more,filterCode:t+"_MORE",clearOnMount:!1,key:"more"})}}const ae={bookingStatus:{statusTypeDesc:"*"},cargoMeasurement:{measurementCode:"*"},cargoPorts:{cargoPortSequence:"*",port:{portName:"*"},reasonForCall:{reasonForCall:"*"}},cargoType:{cargoTypeCode:"*",cargoTypeName:"*"},cargoQuantity:"*",cargoReference:"*",charterer:{businessPartnerName:"*"},coaLine:"*",commodity:{commodityName:"*",commodityMeasurement:{measurementCode:"*"}},createdById:"*",createdDate:"*",isObjectActive:"*",leg:{legDesc:"*"},voyage:{vessel:{vesselName:"*"},voyageHeader:{leg:{legDesc:"*"},referenceNo:"*"}},reletOfCargo:"*",placeOfOrigin:"*",finalDestination:"*",scenarios:{scenarioCode:"*"},tsOfCargoPort:{cargo:{voyage:{key:"*"}},key:"*",reasonForCall:{reasonForCall:"*"}}},re=["filter=voyage.voyageHeader.isTemplate(EQ)0","filter=isTemplate(EQ)0","filter=scenarios.scenarioCode(EQ)MASTER"].join("&");function oe(e){const{reactKeyPrefix:t,enableBulkUpdate:a,onClickItem:n}=e,[l]=Object(u.a)([b.a.IInternationalization]),{common:i}=l.lang(),s=te(t+"-filters","CARGO_LIST_FILTER_GROUP_CODE",re),c=Object(r.useCallback)(e=>(t,a)=>x(t,a,e),[]);return o.a.createElement(C.a,{getColSpec:c(!0),onClickItem:n,reactKeyPrefix:t+"-cargo",listId:"CARGO_LIST",tsmodelType:E.a.cargo,queryStr:re,fields:ae,quickFilters:o.a.createElement(r.Fragment,null,[s.reference,s.port,s.reasonForCall,s.charterer,s.commodity,s.vessel,s.voyageReference,s.more]),quickFiltersGroupCode:"CARGO_LIST_FILTER_GROUP_CODE",sortOptions:Object.values(U.optional),defaultSorts:Object.values(U.default),tableHeaders:B(!0),enableBulkUpdate:a,searchPaths:["voyage.voyageHeader.referenceNo","voyage.vessel.vesselName","charterer%2B.businessPartnerName"],searchPlaceholder:i.searchVoyageVesselChartererPlaceHolder,tableCustomisation:{disableCardSorting:!0,disableSorting:!1}})}var ne=a(23),le=a(74),ie=a(21);const se={actualQuantity:"*",cargo:{cargoPorts:{cargoPortSequence:"*",reasonForCall:{reasonForCall:"*"},port:{portName:"*"}},cargoReference:"*",charterer:{businessPartnerName:"*"},voyage:{vessel:{vesselName:"*"},voyageHeader:{referenceNo:"*"}}},commodity:{commodityName:"*"},subCargoMeasurement:{measurementCode:"*"}},ce=()=>{const e=l.k;return e.cargo.subCargos="*",e},de=S.a.get(b.a.IInternationalization),{model:ue}=de.getLanguageFile(),pe=(e,t)=>{const a=[{field:"cargo.voyage.vessel.key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=ue.vessel;return{label:r,filterObjectValuePath:"key",typeaheadProps:{label:t?r:void 0,type:E.a.vessel,objectPaths:["vesselName"],shouldPreload:!0,includeDisabledQuery:!0},filters:a}},me=(e,t)=>{const a=[{field:"cargo.voyage.voyageHeader.key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=ue.voyageReference;return{label:r,filterObjectValuePath:"key",typeaheadProps:{label:t?r:void 0,type:E.a.voyageheader,objectPaths:["referenceNo"],query:"filter=referenceNo(NOTNULL)"},filters:a}},ye=(e,t)=>{const a=[{field:"commodity.key",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=ue.commodity;return{label:r,filterObjectValuePath:"key",typeaheadProps:{label:t?r:void 0,type:E.a.commodity,objectPaths:["commodityName"],shouldPreload:!0,includeDisabledQuery:!0},filters:a}},ge=(e,t)=>{const a=[{field:"cargo.cargoReference",filterGroupCode:e,operator:w.c.IN,type:w.d.STRING,optionCode:t}],r=ue.cargoReference;return{label:r,filterObjectValuePath:"cargoReference",typeaheadProps:{label:t?r:void 0,type:E.a.cargo,objectPaths:["cargoReference"]},filters:a}};const fe=S.a.get(b.a.IInternationalization),{model:be}=fe.getLanguageFile();function Ce(e,t){var a,r,o,n,l,i,s,c,d,u,p,m,y,g,f;const{cargo:b}=e,C=N.a.getFirstLoadCargoPort(null!==(a=null==b?void 0:b.cargoPorts)&&void 0!==a?a:[])||new _.a({}),E=N.a.getFirstDischargeCargoPort(null!==(r=null==b?void 0:b.cargoPorts)&&void 0!==r?r:[])||new _.a({}),T=Object(O.a)(C,"port.portName",""),P=Object(O.a)(E,"port.portName",""),v=R.a.formatNumber(e.actualQuantity,{minDecimals:3,maxDecimals:3,locale:t.isoCode}),S=null!==(n=null===(o=e.subCargoMeasurement)||void 0===o?void 0:o.measurementCode)&&void 0!==n?n:"";return[T,P,null!==(i=null===(l=null==b?void 0:b.charterer)||void 0===l?void 0:l.businessPartnerName)&&void 0!==i?i:"",`${v} ${S}`,null!==(c=null===(s=null==e?void 0:e.commodity)||void 0===s?void 0:s.commodityName)&&void 0!==c?c:"",null!==(p=null===(u=null===(d=null==b?void 0:b.voyage)||void 0===d?void 0:d.vessel)||void 0===u?void 0:u.vesselName)&&void 0!==p?p:"",null!==(g=null===(y=null===(m=null==b?void 0:b.voyage)||void 0===m?void 0:m.voyageHeader)||void 0===y?void 0:y.referenceNo)&&void 0!==g?g:"",null!==(f=null==b?void 0:b.cargoReference)&&void 0!==f?f:""]}const Ee=new D.a,{model:Oe}=Ee.getLanguageFile(),Te={default:[{field:Oe.createdDate,groupCode:"SUB_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.DESC,queryParamName:"key"}],optional:[{field:Oe.createdDate,groupCode:"SUB_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.DESC,queryParamName:"key"},{field:Oe.cargoReference,groupCode:"SUB_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"cargo.cargoReference"},{field:Oe.charterer,groupCode:"SUB_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"cargo.charterer%2B.businessPartnerName"},{field:Oe.commodity,groupCode:"SUB_CARGO_LIST_SORT_GROUP_CODE",operator:I.b.ASC,queryParamName:"commodity%2B.commodityName"}]};var Pe=a(1293);const ve=["filter=cargo.isTemplate(EQ)0","filter=cargo.scenarios.scenarioCode(EQ)MASTER"].join("&"),Se=o.a.memo(e=>{var t;const[a,n]=Object(u.a)([b.a.IInternationalization,g.a.ICargoController]),{common:l}=a.lang(),{reactKeyPrefix:i}=e,[s,c]=Object(r.useState)(!1),[d,p]=Object(r.useState)(0),m=Object(r.useCallback)(()=>{c(!1),p(0)},[]),y=Object(r.useCallback)(e=>{n.loadSubCargo(e,ce()),p(e),c(!0)},[n]),f=Object(ne.a)(ie.a.getTSModelBuilt,E.a.subcargo,d,ce()),O=function(e,t,a){const r=S.a.get(b.a.IInternationalization),{model:n}=r.lang();return{vessel:o.a.createElement(ee.a,{reactKeyPrefix:e+"-vessel",configs:[pe(t)],type:w.b.TYPEAHEAD,label:n.vessel,filterCode:t+"_VESSEL",clearOnMount:!1,key:"vessel"}),voyageReference:o.a.createElement(ee.a,{reactKeyPrefix:e+"-voyage-reference",configs:[me(t)],type:w.b.TYPEAHEAD,label:n.voyageReference,filterCode:t+"_VOYAGE_REFERENCE",clearOnMount:!1,key:"voyage-reference"}),commodity:o.a.createElement(ee.a,{reactKeyPrefix:e+"-commodity",configs:[ye(t)],type:w.b.TYPEAHEAD,label:n.commodity,filterCode:t+"_COMMODITY",clearOnMount:!1,key:"commodity"}),cargoReference:o.a.createElement(ee.a,{reactKeyPrefix:e+"-cargo-reference",configs:[ge(t)],type:w.b.TYPEAHEAD,label:n.cargoReference,filterCode:t+"_CARGO_REFERENCE",clearOnMount:!1,key:"cargo-reference"})}}(i+"-sub-cargo-filters","SUB_CARGO_LIST_FILTER_GROUP_CODE");return o.a.createElement(o.a.Fragment,null,o.a.createElement(C.a,{getColSpec:Ce,reactKeyPrefix:i+"-list",listId:"SUBCARGO_LIST_ID",tsmodelType:E.a.subcargo,fields:se,tableHeaders:[{content:be.loadPort,contentType:v.a.TEXT},{content:be.dischargePort,contentType:v.a.TEXT},{content:be.charterer,contentType:v.a.TEXT},{content:be.quantity,contentType:v.a.TEXT,alignHeaderContent:v.c.RIGHT},{content:be.commodity,contentType:v.a.TEXT},{content:be.vessel,contentType:v.a.TEXT},{content:be.voyageReference,contentType:v.a.TEXT},{content:be.cargoReference,contentType:v.a.TEXT}],enableBulkUpdate:!1,queryStr:ve,onClickItem:y,quickFilters:o.a.createElement(o.a.Fragment,null,[O.vessel,O.voyageReference,O.commodity,O.cargoReference]),quickFiltersGroupCode:"SUB_CARGO_LIST_FILTER_GROUP_CODE",sortOptions:Te.optional,defaultSorts:Te.default,searchPaths:["cargo.voyage.voyageHeader.referenceNo","cargo.voyage.vessel.vesselName","cargo.charterer.businessPartnerName"],searchPlaceholder:l.searchVoyageVesselChartererPlaceHolder}),s&&o.a.createElement(Pe.a,{selectedSubCargo:f,cargo:null!==(t=null==f?void 0:f.cargo)&&void 0!==t?t:new le.a({}),showModal:s,closeModal:m,reactKeyPrefix:i+"-create-edit",shouldRefreshList:!0}))}),_e=["filter=voyage(NULL)","filter=isTemplate(EQ)0","filter=scenarios.scenarioCode(EQ)MASTER"].join("&");function Ne(e){const{reactKeyPrefix:t,enableBulkUpdate:a,onClickItem:n}=e,[l]=Object(u.a)([b.a.IInternationalization]),{common:i}=l.lang(),s=te(t+"-filters","UNALLOCATED_CARGO_LIST_FILTER_GROUP_CODE",_e),c=Object(r.useCallback)(e=>(t,a)=>x(t,a,e),[]);return o.a.createElement(C.a,{getColSpec:c(!1),onClickItem:n,reactKeyPrefix:t+"-cargo",listId:"UNALLOCATED_CARGO_LIST_ID",tsmodelType:E.a.cargo,queryStr:_e,fields:ae,quickFilters:o.a.createElement(o.a.Fragment,null,[s.reference,s.port,s.reasonForCall,s.charterer,s.commodity,s.trade,s.status]),quickFiltersGroupCode:"UNALLOCATED_CARGO_LIST_FILTER_GROUP_CODE",sortOptions:Object.values(k.optional),defaultSorts:Object.values(k.default),tableHeaders:B(!1),enableBulkUpdate:a,searchPaths:["cargoPorts.port.portName","charterer%2B.businessPartnerName"],searchPlaceholder:i.searchChartererPortsPlaceHolder,tableCustomisation:{disableCardSorting:!0,disableSorting:!1}})}var Re=a(15),he=a(80),Ie=a(27),De=a(456),Ae=a(534),Le=a(225);const ke="doc-modules-cargoes-pages-cargo-list";class Ge extends o.a.PureComponent{constructor(e){super(e),this.state={showCreateNewDialog:!1,showCreateFromTemplateDialog:!1,cargoTemplateType:void 0,enableBulkUpdate:!1,showSubCargoModal:!1},this.onToggleCreateNew=this.onToggleCreateNew.bind(this),this.onToggleCreateFromTemplate=this.onToggleCreateFromTemplate.bind(this),this.openDrawer=this.openDrawer.bind(this),this.openDrawerAndSetAsSelected=this.openDrawerAndSetAsSelected.bind(this)}openDrawer(e){Ie.a.openDrawer(e,Re.a.cargoDrawer,this.props.location,this.props.history)}onToggleCreateNew(){this.setState({showCreateNewDialog:!this.state.showCreateNewDialog})}onToggleCreateFromTemplate(e){this.setState({showCreateFromTemplateDialog:!this.state.showCreateFromTemplateDialog,cargoTemplateType:e})}openDrawerAndSetAsSelected(e){const[,t]=this.props.deps;e&&(t.setAction(y.a,e.key),this.openDrawer(e.key),i.a.next())}pageTabs(){const{enableBulkUpdate:e}=this.state,[t]=this.props.deps,{common:a,cargoes:r}=t.getLanguageFile();return[{id:"allocated",label:a.allocated,content:()=>o.a.createElement(oe,{reactKeyPrefix:ke+"-allocated",enableBulkUpdate:e,onClickItem:this.openDrawer})},{id:"unallocated",label:a.unallocated,content:()=>o.a.createElement(Ne,{reactKeyPrefix:ke+"-unallocated",enableBulkUpdate:e,onClickItem:this.openDrawer})},{id:"sub-cargoes",label:r.subCargoes,content:()=>o.a.createElement(Se,{reactKeyPrefix:ke+"-sub-cargoes"})}]}render(){const{showCreateNewDialog:e,showCreateFromTemplateDialog:t,cargoTemplateType:a}=this.state,[r]=this.props.deps,n=r.getLanguageFile(),i=[{onClick:this.onToggleCreateNew,text:n.cargoes.createCargo},{onClick:this.onToggleCreateFromTemplate.bind(null,Le.c.Coa),text:n.cargoes.createCargoFromCoaTemplate}];return o.a.createElement(s.a,{reactKeyPrefix:ke+"-page",createObject:i,tabs:this.pageTabs(),hideCreateForTab:[2]},e&&o.a.createElement(Ae.a,{reactKeyPrefix:ke+"-create-cargo",showModal:e,onCloseModal:this.onToggleCreateNew,callback:this.openDrawerAndSetAsSelected}),t&&void 0!==a?o.a.createElement(De.a,{reactKeyPrefix:ke+"-create-cargo-from-template",showDialog:t,closeDialog:this.onToggleCreateFromTemplate.bind(null,void 0),type:a,overrideReturnFields:l.b}):null,o.a.createElement(he.a,null))}}const Ue={authorizationType:f.a.PERMISSION,authorizedPermissions:m.a.cargoes.authorizedPermissions,behaviorOnAuthorizationFail:d.a.REDIRECT_NO_AUTHORIZATION},je=Object(c.a)(Ue,Object(p.a)(()=>{},Object(u.b)([b.a.IInternationalization,g.a.ISimpleReducerActions],Object(n.k)(Ge))))},1886:function(e,t,a){"use strict";a.d(t,"a",(function(){return Ce}));a(10),a(11),a(158);var r=a(710),o=a(2489),n=a(0),l=a.n(n),i=a(24),s=a(73),c=a(198),d=a(1822),u=a(6),p=a(23),m=a(4),y=a(1),g=a(21),f=a(94),b=a(7),C=a(3),E=a(209),O=a(42);const T=l.a.memo(e=>{var t;const{freeCapacityFixed:a,freeCapacityTotal:r,dwt:o,weightFixed:n,weightTotal:i}=e,[s]=Object(u.a)([C.a.IInternationalization]),c=Object(p.a)(O.a.getUserLocale),d={maxDecimals:0,locale:null!==(t=null==c?void 0:c.isoCode)&&void 0!==t?t:"default"},m=[{primaryTitle:{text:s.lang().cargoes.freeCapacity},primaryText:{text:`${s.formatNumber(r,d)} ${s.lang().common.mt}`,tooltip:s.lang().common.total},secondaryTitle:{text:s.lang().cargoes.fixedCapacity},secondaryText:{text:`${s.formatNumber(a,d)} ${s.lang().common.mt}`,tooltip:s.lang().common.fixed}},{primaryTitle:{text:s.lang().common.deadweight},primaryText:{text:`${s.formatNumber(o,d)} ${s.lang().common.mt}`,tooltip:s.lang().common.total},secondaryText:{text:"",tooltip:""}},{primaryTitle:{text:s.lang().model.weight},primaryText:{text:`${s.formatNumber(i,d)} ${s.lang().common.mt}`,tooltip:s.lang().common.total},secondaryTitle:{text:s.lang().model.fixedWeight},secondaryText:{text:`${s.formatNumber(n,d)} ${s.lang().common.mt}`,tooltip:s.lang().common.fixed}}];return l.a.createElement(E.a,{data:m,breakpoints:{xs:12,sm:8,md:6,lg:3,xl:3},reactKeyPrefix:"doc-modules-capacity-plans-pages-tile-group"})});var P=a(214),v=a(2379),S=a(2380),_=a(2530),N=a(213),R=a(187),h=a(272),I=a.n(h),D=a(37),A=a(58),L=a(60),k=a(50),G=a(132);const U=new Map;function j(e,t,a){var n,l,i,s,c,d,u,p,m,y,g;const f=new Map,b=new Map,C=new Set,E=e.filter(e=>function(e,t){var a,n;if(null===(a=null==e?void 0:e.voyage)||void 0===a?void 0:a.portCallsFromVoyage){const a=k.a.getFirstLoadPortCall(null===(n=null==e?void 0:e.voyage)||void 0===n?void 0:n.portCallsFromVoyage);let l=k.a.getEventLogDateFromPC(a,"ARR");l&&(l=new Date(l));const i=new Date(t.getFullYear(),t.getMonth(),1),s=Object(r.a)(Object(o.a)(t));if(l&&l>=i&&l<=s)return!0}}(e,t)?e:null);for(const e of E)if(Object(G.e)([e],a).length>0){const t=null===(n=e.voyage)||void 0===n?void 0:n.cargos;if(null==t?void 0:t.length)for(const e of t){const t=A.a.getLegKey(e);if(t){C.add(t.toString());const a=A.a.getLeg(e);a&&U.set(t,a)}}else{const t=null===(i=null===(l=null==e?void 0:e.voyage)||void 0===l?void 0:l.voyageHeader)||void 0===i?void 0:i.leg,a=null==t?void 0:t.legDesc;t&&a&&(C.add(t.key.toString()),U.set(t.key,a))}const a={current:e,previous:null===(c=L.a.getFirstLoadPortCall((null===(s=e.voyage)||void 0===s?void 0:s.portCallsFromVoyage)||[]).previousPortCall)||void 0===c?void 0:c.voyage,openDate:L.a.getFirstLoadPortArrival(null!==(u=null===(d=e.voyage)||void 0===d?void 0:d.portCallsFromVoyage)&&void 0!==u?u:[]),key:e.key};b.set(e.key,a)}for(const t of C)if(t){const a=new Map;for(const r of e){const e=null===(p=null==r?void 0:r.voyage)||void 0===p?void 0:p.cargos,o=b.get(r.key);if(null==e?void 0:e.length)for(const n of e)(null===(m=A.a.getLegKey(n))||void 0===m?void 0:m.toString())===t&&o&&a.set(r.key,o);else{const e=null===(g=null===(y=null==r?void 0:r.voyage)||void 0===y?void 0:y.voyageHeader)||void 0===g?void 0:g.leg;(null==e?void 0:e.key.toString())===t&&o&&a.set(r.key,o)}}f.set(t,a)}return f}function F(e){return Array.from(e.entries()).reduce((e,[t,a])=>{var r;const o=x(a),n=o+(null!==(r=e.trades.get(t))&&void 0!==r?r:0);return e.trades.set(t,n),e.totalDWT+=o,e},{totalDWT:0,trades:new Map})}function x(e){return Array.from(e.values()).reduce((e,t)=>{var a;return e+((null===(a=t.current.vessel)||void 0===a?void 0:a.dwtSummer)||0)},0)}function B(e,t,a,r,o){var n,l,i,s,c;const{model:d,cargoes:u}=e.getLanguageFile(),p=o?x(o):0,m=p-(null!==(n=null==a?void 0:a.totals.fixed.weight)&&void 0!==n?n:0)-(null!==(l=null==a?void 0:a.totals.notFixed.weight)&&void 0!==l?l:0),y=p-(null!==(i=null==a?void 0:a.totals.fixed.weight)&&void 0!==i?i:0),g={maxDecimals:0};let f="";return t&&(f=(null==U?void 0:U.get(parseInt(t)))?null==U?void 0:U.get(parseInt(t)):""),[{label:d.trade,value:f||""},{label:d.totalDwt,value:e.formatNumber(p,g)},{label:d.weightFixed,value:e.formatNumber(null!==(s=null==a?void 0:a.totals.fixed.weight)&&void 0!==s?s:0,g)},{label:d.weightNotFixed,value:e.formatNumber(null!==(c=null==a?void 0:a.totals.notFixed.weight)&&void 0!==c?c:0,g)},{label:u.capacityAll,value:e.formatNumber(m,g)},{label:u.capacityFixed,value:e.formatNumber(y,g)}]}var w=a(2476),M=a(26),V=a(2521),q=a(2517),K=a(2518),H=a(2519),Y=a(2520),z=a(2522),Q=a(2524);const X=Object(N.a)(Object(R.a)(e=>({root:{padding:e.spacing(1)},fullWidth:{width:"100%"},leftBorder:{borderLeft:"1px solid "+e.palette.grey[300]},noCellBorders:{"& th,td":{border:"none"}},footer:{paddingTop:e.spacing(1),borderTop:"1px solid "+e.palette.grey[300],"& *":{color:e.palette.common.black,fontSize:"unset"}},body:{"& td":{textTransform:"uppercase"}},greyText:{color:e.palette.grey[600]}})));var W=a(2477);function $(e,t,a,r,o){if(!e)return[];const n="fixed"===t?void 0:a.greyText;return Object(W.a)(Object.values(e[t]),["chartererName"]).map((e,i)=>l.a.createElement(V.a,{key:`charterer-cargo-aggregation-${i}-${t}`,className:Object(M.default)(n,a.body)},l.a.createElement(q.a,{className:n},e.chartererName),l.a.createElement(q.a,{align:"right",className:n},r.formatNumber(e.weight,o)),l.a.createElement(q.a,{align:"right",className:n},r.formatNumber(e.volume,o))))}const Z=l.a.memo(e=>{var t,a,r,o,n,i,s,c,d;const m=X({}),{cargoAggregation:y,reactKeyPrefix:g}=e,[f]=Object(u.a)([C.a.IInternationalization]),b=Object(p.a)(O.a.getUserLocale),E={maxDecimals:0,locale:null!==(t=null==b?void 0:b.isoCode)&&void 0!==t?t:"default"};return l.a.createElement("div",{className:m.root},l.a.createElement(K.a,null,l.a.createElement(H.a,{id:g,className:m.noCellBorders,size:"small"},l.a.createElement(Y.a,null,l.a.createElement(V.a,null,l.a.createElement(q.a,null,f.lang().model.charterer),l.a.createElement(q.a,{align:"right"},f.lang().model.weight," (",f.lang().common.mt,")"),l.a.createElement(q.a,{align:"right"},f.lang().model.volume," (",f.lang().common.m3,")"))),l.a.createElement(z.a,null,$(y,"fixed",m,f,E),$(y,"notFixed",m,f,E)),l.a.createElement(Q.a,{className:m.footer},l.a.createElement(V.a,null,l.a.createElement(q.a,null,f.lang().common.fixed),l.a.createElement(q.a,{align:"right"},f.formatNumber(null!==(a=null==y?void 0:y.totals.fixed.weight)&&void 0!==a?a:0,E)),l.a.createElement(q.a,{align:"right"},f.formatNumber(null!==(r=null==y?void 0:y.totals.fixed.volume)&&void 0!==r?r:0,E))),l.a.createElement(V.a,null,l.a.createElement(q.a,{className:m.greyText},f.lang().common.notFixed),l.a.createElement(q.a,{align:"right",className:m.greyText},f.formatNumber(null!==(o=null==y?void 0:y.totals.notFixed.weight)&&void 0!==o?o:0,E)),l.a.createElement(q.a,{align:"right",className:m.greyText},f.formatNumber(null!==(n=null==y?void 0:y.totals.notFixed.volume)&&void 0!==n?n:0,E))),l.a.createElement(V.a,null,l.a.createElement(q.a,null,f.lang().common.total),l.a.createElement(q.a,{align:"right"},f.formatNumber((null!==(i=null==y?void 0:y.totals.notFixed.weight)&&void 0!==i?i:0)+(null!==(s=null==y?void 0:y.totals.fixed.weight)&&void 0!==s?s:0),E)),l.a.createElement(q.a,{align:"right"},f.formatNumber((null!==(c=null==y?void 0:y.totals.notFixed.volume)&&void 0!==c?c:0)+(null!==(d=null==y?void 0:y.totals.fixed.volume)&&void 0!==d?d:0),E)))))))});const J=l.a.memo(e=>{var t;const a=X({}),{fleetPlanVoyageData:r,reactKeyPrefix:o}=e,[n]=Object(u.a)([C.a.IInternationalization]),i=Object(p.a)(O.a.getUserLocale),s={maxDecimals:0,locale:null!==(t=null==i?void 0:i.isoCode)&&void 0!==t?t:"default"},c=r.reduce((e,t)=>{var a,r;return e+(null!==(r=null===(a=t.current.vessel)||void 0===a?void 0:a.dwtSummer)&&void 0!==r?r:0)},0);return l.a.createElement("div",{className:Object(M.default)(a.root,a.fullWidth,a.leftBorder)},l.a.createElement(K.a,null,l.a.createElement(H.a,{id:o,className:a.noCellBorders,size:"small"},l.a.createElement(Y.a,null,l.a.createElement(V.a,null,l.a.createElement(q.a,null,n.lang().model.vessel),l.a.createElement(q.a,{align:"right"},n.lang().model.dwt," (",n.lang().common.mt,")"),l.a.createElement(q.a,null,n.lang().cargoes.openDate),l.a.createElement(q.a,null,n.lang().cargoes.openPort),l.a.createElement(q.a,null,n.lang().cargoes.previousTrade))),l.a.createElement(z.a,null,function(e,t,a,r){return Object(W.a)(e,["openDate"]).map(e=>{var o,n,i,s,c,d,u,p;const m=L.a.getFirstLoadPortArrival(null!==(n=null===(o=e.current.voyage)||void 0===o?void 0:o.portCallsFromVoyage)&&void 0!==n?n:[]),y=L.a.getFirstLoadPort(null!==(s=null===(i=e.current.voyage)||void 0===i?void 0:i.portCallsFromVoyage)&&void 0!==s?s:[]);return l.a.createElement(V.a,{key:e.key,className:Object(M.default)(t.body)},l.a.createElement(q.a,null,null===(c=e.current.vessel)||void 0===c?void 0:c.vesselName),l.a.createElement(q.a,{align:"right"},e.current.vessel&&a.formatNumber(e.current.vessel.dwtSummer,r)),l.a.createElement(q.a,null,m&&a.formatDate(m,r)),l.a.createElement(q.a,null,y.portName),l.a.createElement(q.a,null,null===(p=null===(u=null===(d=e.previous)||void 0===d?void 0:d.voyageHeader)||void 0===u?void 0:u.leg)||void 0===p?void 0:p.legDesc))})}(r,a,n,s)),l.a.createElement(Q.a,{className:a.footer},l.a.createElement(V.a,null,l.a.createElement(q.a,null,n.lang().common.total),l.a.createElement(q.a,{align:"right"},n.formatNumber(c,s)),l.a.createElement(q.a,{colSpan:3}))))))}),ee=Object(N.a)(Object(R.a)(e=>({root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2)},expansionPanelDetails:{borderTop:"1px solid "+e.palette.grey[300]},tableContainer:{display:"flex",flexWrap:"nowrap",[e.breakpoints.down("sm")]:{flexWrap:"wrap","& > *":{width:"100%","&:last-child":{borderLeft:"none",borderTop:"1px solid "+e.palette.grey[500]}}}}})));function te(e){const{cargoAggregationData:t,vesselAggregationData:a,reactKeyPrefix:r}=e,[o]=Object(u.a)([C.a.IInternationalization]),n=ee({}),i=(Object(p.a)(O.a.getUserLocale),{xs:6,sm:4,md:4,lg:2,xl:2}),s=Object(w.a)(Object.keys(t),Array.from(a.keys())).map(e=>{var s;return l.a.createElement(P.a,{key:"trade-"+e,item:!0,xs:12},l.a.createElement(v.a,null,l.a.createElement(S.a,{expandIcon:l.a.createElement(I.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},l.a.createElement(D.a,{reactKeyPrefix:r+"h-list",items:B(o,e,t[e],0,null==a?void 0:a.get(e)),breakpoints:i})),l.a.createElement(_.a,{className:Object(M.default)(n.expansionPanelDetails,n.tableContainer)},l.a.createElement(Z,{reactKeyPrefix:r+"cargo-data",cargoAggregation:t[e]}),l.a.createElement(J,{fleetPlanVoyageData:Array.from((null===(s=null==a?void 0:a.get(e))||void 0===s?void 0:s.values())||[]),reactKeyPrefix:r+"vessel-data"}))))});return l.a.createElement(P.a,{className:n.root,container:!0,justifyContent:"center",spacing:2},s)}var ae,re=a(2490);!function(e){e.FIXED="Clean Fix",e.NOTFIXED="Indication"}(ae||(ae={}));const oe=e=>{var t;return(null===(t=e.charterer)||void 0===t?void 0:t.businessPartnerName.trim())||"Missing data"};function ne(e){return e.reduce((e,t)=>{const a=(e=>{var t,a,r,o,n;return null!==(a=null===(t=e.leg)||void 0===t?void 0:t.key)&&void 0!==a?a:null===(n=null===(o=null===(r=e.voyage)||void 0===r?void 0:r.voyageHeader)||void 0===o?void 0:o.leg)||void 0===n?void 0:n.key})(t),r=function(e){var t;switch(null===(t=e.bookingStatus)||void 0===t?void 0:t.statusTypeDesc){case ae.FIXED:return"fixed";default:return"notFixed"}}(t),o=(e=>{var t;return null===(t=e.charterer)||void 0===t?void 0:t.key})(t);return a&&o&&r&&(e[a]=Object(re.a)(e[a],{totals:{fixed:{volume:0,weight:0},notFixed:{volume:0,weight:0}},fixed:{},notFixed:{}}),e[a].totals[r].volume+=t.volume,e[a].totals[r].weight+=t.weight,e[a][r][o]=Object(re.a)(e[a][r][o],{chartererName:oe(t),volume:0,weight:0}),e[a][r][o].volume+=t.volume,e[a][r][o].weight+=t.weight),e},{})}var le=a(456),ie=a(80),se=a(534),ce=a(27),de=a(15),ue=a(97),pe=a(165),me=a(225);const ye={charterer:{businessPartnerName:"*"},weight:"*",volume:"*",leg:{legDesc:"*"},laycanFrom:"*",bookingStatus:{statusTypeCode:"*",statusTypeDesc:"*"},isTemplate:"*",voyage:{voyageHeader:{leg:{legDesc:"*"}}}},ge={vessel:{vesselName:"*",dwtSummer:"*"},sequence:"*",voyage:{portCallsFromVoyage:{port:{portName:"*"},previousPortCall:{voyage:{voyageHeader:{leg:{legDesc:"*"}}}},portCallSequence:"*",isFirstLoadPort:"*",reasonForCall:{reasonForCall:"*"},eventLogs:{eventLogDate:"*",event:{eventCode:"*"}}},voyageHeader:{leg:{legDesc:"*"}},cargos:ye}},fe={field:"voyage.voyageHeader.leg.key",filterGroupCode:"CAPACITY_PLAN_QUICK_FILTERS",operator:m.c.IN,type:m.d.STRING},be=new Date;function Ce(){var e;const[t]=Object(u.a)([C.a.IInternationalization]),{model:{trade:a}}=t.getLanguageFile(),[E,O]=Object(n.useState)(be),[P,v]=Object(n.useState)(!1),[S,_]=Object(n.useState)(!1),[N,R]=Object(n.useState)(void 0),h=Object(ue.g)(),I=Object(ue.h)(),D=Object(p.a)(g.a.getTSModelsBuilt,y.a.fleetplanvoyage,ge,"capacity_plan_vessel_data"),A=Object(p.a)(g.a.getTSModelsBuilt,y.a.cargo,ye,"capacity_plan_cargo_data")||[],L=null!==(e=Object(p.a)(f.a.getFiltersByGroupCode,"CAPACITY_PLAN_QUICK_FILTERS"))&&void 0!==e?e:[];Object(n.useEffect)(()=>{!function(e,t){const[a,n,l]=Object(u.a)([b.a.ITSModelActions,b.a.KeySetActions,b.a.Store]),i=new Date(e.getFullYear(),e.getMonth(),1),s=Object(r.a)(Object(o.a)(e)),c=[...t];c.push({field:"fleetPlan.fleetPlanCode",filterGroupCode:"TRADE_VESSEL_GROUP_CODE",operator:m.c.EQUALS,queryParamName:"fleetPlan.fleetPlanCode",type:m.d.STRING,value:"MASTER"}),c.push({field:"vessel",filterGroupCode:"TRADE_VESSEL_GROUP_CODE",operator:m.c.NOT_NULL,queryParamName:"vessel",type:m.d.STRING,value:""}),c.push({field:"voyage.voyageHeader.leg",filterGroupCode:"TRADE_VESSEL_GROUP_CODE",operator:m.c.NOT_NULL,type:m.d.STRING,value:""}),c.push({field:"voyage.portCallsFromVoyage.eventLogs.event.eventCode",filterGroupCode:"TRADE_VESSEL_GROUP_CODE",operator:m.c.EQUALS,queryParamName:"voyage.portCallsFromVoyage.eventLogs.event.eventCode",type:m.d.STRING,value:"ARR"}),c.push({field:"voyage.portCallsFromVoyage.eventLogs.eventLogDate",filterGroupCode:"TRADE_VESSEL_GROUP_CODE",operator:m.c.GREATER_THAN_OR_EQUAL,queryParamName:"voyage.portCallsFromVoyage.eventLogs.eventLogDate",type:m.d.DATE,value:i}),c.push({field:"voyage.portCallsFromVoyage.eventLogs.eventLogDate",filterGroupCode:"TRADE_VESSEL_GROUP_CODE",operator:m.c.LESS_THAN_OR_EQUAL,queryParamName:"voyage.portCallsFromVoyage.eventLogs.eventLogDate",type:m.d.DATE,value:s}),c.push({field:"voyage.portCallsFromVoyage.reasonForCall.reasonForCall",filterGroupCode:"TRADE_VESSEL_GROUP_CODE",operator:m.c.EQUALS,queryParamName:"voyage.portCallsFromVoyage.reasonForCall.reasonForCall",type:m.d.STRING,value:"L"}),l.dispatch(n.setKeysAction({identifier:"capacity_plan_vessel_data",keys:[]})),a.loadMultipleAction({fields:ge,filters:c,type:y.a.fleetplanvoyage,identifier:"capacity_plan_vessel_data"})}(E,L),function(e,t){const[a,n,l]=Object(u.a)([b.a.ITSModelActions,b.a.KeySetActions,b.a.Store]),i=new Date(e.getFullYear(),e.getMonth(),1),s=Object(r.a)(Object(o.a)(e)),c=[];c.push(Object(pe.a)(m.c.GROUP_START,"TRADE_CARGO_GROUP_CODE","CP_CARGO_GROUP_START")),c.push({field:"voyage.voyageHeader.leg",filterGroupCode:"TRADE_CARGO_GROUP_CODE",operator:m.c.NOT_NULL,queryParamName:"voyage%2B.voyageHeader%2B.leg",type:m.d.STRING,value:""}),c.push(Object(pe.a)(m.c.OR,"TRADE_CARGO_GROUP_CODE","CP_CARGO_OR")),c.push({field:"voyage",filterGroupCode:"TRADE_CARGO_GROUP_CODE",operator:m.c.NULL,type:m.d.STRING,value:""}),c.push({field:"leg",filterGroupCode:"TRADE_CARGO_GROUP_CODE",operator:m.c.NOT_NULL,type:m.d.STRING,value:""}),t.length>0&&(c.unshift(...t),c.push(...t));c.push(Object(pe.a)(m.c.GROUP_END,"TRADE_CARGO_GROUP_CODE","CP_CARGO_GROUP_END")),c.push({field:"isTemplate",filterGroupCode:"TRADE_CARGO_GROUP_CODE",operator:m.c.EQUALS,queryParamName:"isTemplate",type:m.d.BOOLEAN,value:!1}),c.push({field:"laycanFrom",filterGroupCode:"TRADE_CARGO_GROUP_CODE",operator:m.c.GREATER_THAN_OR_EQUAL,queryParamName:"laycanFrom",type:m.d.DATE,value:i}),c.push({field:"laycanFrom",filterGroupCode:"TRADE_CARGO_GROUP_CODE",operator:m.c.LESS_THAN_OR_EQUAL,queryParamName:"laycanFrom",type:m.d.DATE,value:s}),c.push({field:"scenarios.scenarioCode",filterGroupCode:"TRADE_CARGO_GROUP_CODE",operator:m.c.EQUALS,queryParamName:"scenarios.scenarioCode",type:m.d.STRING,value:"MASTER"}),l.dispatch(n.setKeysAction({identifier:"capacity_plan_cargo_data",keys:[]})),a.loadMultipleAction({fields:ye,filters:c,type:y.a.cargo,identifier:"capacity_plan_cargo_data"})}(E,L)},[E,L]);const k=Object(n.useMemo)(()=>j(D||[],E,L),[D,E,L]),G=Object(n.useMemo)(()=>ne(A),[A]),U=Object(n.useMemo)(()=>function(e,t){const[a,r]=function(e,t){return[ne(e),F(t)]}(t,e),o=Object.values(a).reduce((e,t)=>e+t.totals.fixed.weight,0),n=Object.values(a).reduce((e,t)=>e+(t.totals.fixed.weight+t.totals.notFixed.weight),0),l=r.totalDWT-o,i=r.totalDWT-n,s=F(e).totalDWT;return{freeCapacityFixed:l,freeCapacityTotal:i,dwt:s,weightFixed:o,weightTotal:n}}(k,A),[k,A]),{freeCapacityFixed:x,freeCapacityTotal:B,dwt:w,weightFixed:M,weightTotal:V}=U,q=Object(n.useMemo)(()=>[{label:a,filterObjectValuePath:"key",typeaheadProps:{type:y.a.leg,objectPaths:["legDesc"]},filters:[fe]}],[a]),K=Object(n.useCallback)(()=>v(!P),[P]),H=Object(n.useCallback)(e=>{_(!S),R(e)},[S]),Y=[{onClick:K,text:t.lang().cargoes.createCargo},{onClick:()=>H(me.c.Coa),text:t.lang().cargoes.createCargoFromCoaTemplate}],z=Object(n.useCallback)(e=>{ce.a.openDrawer(e.key,de.a.cargoDrawer,I,h)},[h,I]);return l.a.createElement(s.a,{reactKeyPrefix:"doc-modules-capacity-plans-pages-page",createObject:Y},P&&l.a.createElement(se.a,{reactKeyPrefix:"doc-modules-capacity-plans-page-create-cargo",showModal:P,onCloseModal:K,callback:z}),S&&void 0!==N&&l.a.createElement(le.a,{reactKeyPrefix:"doc-modules-capacity-plans-page-create-cargo-from-template",showDialog:S,closeDialog:()=>H(void 0),type:N}),l.a.createElement("div",null,l.a.createElement(i.a,{reactKeyPrefix:"doc-modules-capacity-plans-pages-quick-filter",configs:q,type:m.b.TYPEAHEAD,label:a,filterCode:"CAPACITY_PLAN_QUICK_FILTERS"+a})),l.a.createElement(d.a,{reactKeyPrefix:"doc-modules-capacity-plans-pages-time-unit-navigator",date:E,timeUnit:c.a.MONTH,onChangeDate:O}),l.a.createElement(T,{freeCapacityFixed:x,freeCapacityTotal:B,dwt:w,weightFixed:M,weightTotal:V}),l.a.createElement(te,{reactKeyPrefix:"doc-modules-capacity-plans-pages-trade-list",vesselAggregationData:k,cargoAggregationData:G}),l.a.createElement(ie.a,null))}},1892:function(e,t,a){"use strict";a.d(t,"a",(function(){return Pe}));a(10),a(11);var r=a(0),o=a.n(r),n=a(97),l=a(76),i=a(65),s=a(6),c=a(33),d=a(41),u=a(3),p=a(15),m=a(80),y=a(27),g=a(2500),f=a(61),b=a(4),C=a(205),E=a(1),O=a(112),T=a(815),P=(a(59),a(2483)),v=a(892),S=a(35),_=a(20),N=a(94),R=a(5),h=a(67),I=a(201),D=a(114),A=a(323);function L(e){const{documents:t,userLocale:a,reactKeyPrefix:n,onConfirmPost:l}=e,[i]=Object(s.a)([u.a.IInternationalization]),{model:c,common:d,menu:p}=i.getLanguageFile(),m=Object(r.useMemo)(()=>t.map(f),[t]),y=[{content:c.documentNo,contentType:R.a.TEXT},{content:c.documentDate,contentType:R.a.DATE},{content:c.account,contentType:R.a.TEXT},{content:c.documentLineText,contentType:R.a.TEXT,textLengthFactor:10,wrap:!0},{content:c.quantity,contentType:R.a.NUMBER,numberFormatOptions:{minDecimals:3,maxDecimals:3}},{content:c.currency,contentType:R.a.TEXT},{content:c.unitPrice,contentType:R.a.NUMBER,numberFormatOptions:{minDecimals:2,maxDecimals:2}},{content:d.amount,contentType:R.a.NUMBER,numberFormatOptions:{minDecimals:2,maxDecimals:2}}],g=Object(r.useMemo)(()=>[{disabled:Object(v.a)(t),label:d.post,onClick:e=>{Object(D.a)(d.postBunkerTransactions,d.postBunkerTransactionsConfirmation,d.post).then(a=>{if(a){const a=t.filter(t=>e.includes(t.key));l(a)}})},reactKeyPrefix:n+"-primary-actions"}],[d.post,d.postBunkerTransactions,d.postBunkerTransactionsConfirmation,t,l,n]);return o.a.createElement(A.a,{sx:{my:2}},o.a.createElement(h.a,{data:m,headers:y,reactKeyPrefix:n+"-table",userLocale:a,title:p.bunkerTransactions,selectable:!0,selectedActions:g,preSelectAll:!0,keepSelectedWhenDataChanges:!0,customisation:{disableSorting:!0}}));function f(e){var t,a,r;const{documentLines:o,account:n,documentNo:l,documentDate:i,documentCurrency:s}=e,{documentLineText:c,quantity:d,unitPrice:u,documentAmount:p}=null!==(t=o[0])&&void 0!==t?t:new I.a({});return{content:[l,i,null!==(a=null==n?void 0:n.accountDesc)&&void 0!==a?a:"",null!=c?c:"",d,null!==(r=null==s?void 0:s.currencyCode)&&void 0!==r?r:"",u,p],id:e.key}}}var k=a(2383);function G({reactKeyPrefix:e,count:t}){return o.a.createElement(o.a.Fragment,null,o.a.createElement(A.a,{sx:{paddingTop:2,paddingBottom:2},display:"flex",justifyContent:"flex-start"},o.a.createElement(k.a,{variant:"rectangular",width:180,height:34,sx:{borderRadius:1}})),[...Array(t).keys()].map(t=>o.a.createElement(k.a,{sx:{marginBottom:2,borderRadius:1},key:`${e}-${t}`,variant:"rectangular",height:72})))}var U=a(47),j=a(42),F=function(e,t,a,r){return new(a||(a=Promise))((function(o,n){function l(e){try{s(r.next(e))}catch(e){n(e)}}function i(e){try{s(r.throw(e))}catch(e){n(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,i)}s((r=r.apply(e,t||[])).next())}))};function x(e){var t,a,r,o,n,l;return[null!==(r=null===(a=null===(t=e.documentLines[0])||void 0===t?void 0:t.businessPartner)||void 0===a?void 0:a.businessPartnerName)&&void 0!==r?r:"unknown-partner",null!==(l=null===(n=null===(o=e.documentLines[0])||void 0===o?void 0:o.documentCurrency)||void 0===n?void 0:n.currencyCode)&&void 0!==l?l:"unknown-currency"].join("-")}const B=Object(U.a)(e=>{var t;return{filters:N.a.getFiltersByGroupCode(e,O.a),userLocale:null!==(t=j.a.getUserLocale(e))&&void 0!==t?t:S.f[0]}},({voyageKey:e,reactKeyPrefix:t,state:{filters:a,userLocale:n}})=>{const[l]=Object(s.a)([_.a.IBunkerTransactionController]),[i,c]=Object(r.useState)([]),d=Object(r.useRef)(!0),u=Object(r.useCallback)(()=>F(void 0,void 0,void 0,(function*(){var t;const r=yield l.loadBunkerTransactions(e,null!=a?a:[],()=>d.current=!1);c(Object.values(null!==(t=Object(P.a)(r,x))&&void 0!==t?t:[]))})),[l,a,e]),p=Object(r.useCallback)(t=>F(void 0,void 0,void 0,(function*(){d.current=!0,t&&(yield l.refreshBunkerTransactions(e)),yield u(),d.current=!1})),[l,u,e]),m=Object(r.useCallback)(e=>l.postBunkerTransactions(e,p),[l,p]),y=Object(r.useMemo)(()=>i.map(a=>!Object(v.a)(a)&&o.a.createElement(L,{reactKeyPrefix:`${t}_pending_bunker_transactions_${e}_${a[0].key}`,documents:a,onConfirmPost:m,userLocale:n})),[i,e,m,t,n]);return Object(r.useEffect)(()=>{p(!0)},[p]),o.a.createElement(o.a.Fragment,null,d.current?o.a.createElement(G,{count:Math.max(i.length,1),reactKeyPrefix:t+"-skeleton"}):o.a.createElement(o.a.Fragment,null,y))});var w=a(105),M=a(40);const[V]=Object(s.a)([u.a.IInternationalization]),{model:q}=V.lang();function K(e){var t,a,r,n,l,i,s,c,d,u,p,m;const[{voyage:y}]=e.documentLines,g=null!==(r=null===(a=null===(t=null==y?void 0:y.voyageHeader)||void 0===t?void 0:t.voyageStatus)||void 0===a?void 0:a.statusTypeDesc)&&void 0!==r?r:"";return[null!==(l=null===(n=null==y?void 0:y.voyageHeader)||void 0===n?void 0:n.referenceNo)&&void 0!==l?l:"",null!==(s=null===(i=null==y?void 0:y.vessel)||void 0===i?void 0:i.vesselName)&&void 0!==s?s:"",null!==(u=null===(d=null===(c=null==y?void 0:y.voyageHeader)||void 0===c?void 0:c.operator)||void 0===d?void 0:d.userName)&&void 0!==u?u:"",null!==(m=null===(p=null==y?void 0:y.voyageHeader)||void 0===p?void 0:p.voyageEndDate)&&void 0!==m?m:new Date(0),{rawValue:g,content:o.a.createElement(M.a,{label:g,priority:w.a.getStatusPriority(g,E.a.voyage)})}]}const H=[{content:q.voyage,contentType:R.a.TEXT},{content:q.vessel,contentType:R.a.TEXT},{content:q.responsibleOperator,contentType:R.a.TEXT},{content:q.voyageEnd,contentType:R.a.DATE,dateTimeFormatOptions:S.a.shortLocalizedDate},{alignHeaderContent:R.c.LEFT,content:q.voyageStatus,contentType:R.a.ELEMENT}];var Y=a(264);const z=[{field:"accountCode",filterGroupCode:"",operator:b.c.IN,queryParamName:"account.accountCode",type:b.d.STRING,value:["FOS","DOS","DOC","FOC","FLS","DLS","DLC","FLC"]},{field:"statusTypeCode",filterGroupCode:"",operator:b.c.EQUALS,queryParamName:"invoicingStatus.statusTypeCode",type:b.d.STRING,value:"PEN"},{field:"voyage",filterGroupCode:"",operator:b.c.NOT_NULL,queryParamName:"documentLines.voyage",type:b.d.STRING,value:""}],Q=({reactKeyPrefix:e})=>{const t=Object(r.useCallback)(t=>o.a.createElement(B,{voyageKey:t,reactKeyPrefix:e+"-pending-bunker-transactions-"+t}),[e]);return o.a.createElement(f.a,{reactKeyPrefix:e+"-list",tsmodelType:E.a.document,listId:"PENDING_BUNKER_TRANSACTIONS_LIST_ID",getColSpec:K,fields:T.b,tableHeaders:H,queryFilters:z,defaultSorts:Y.e,renderCollapsibleRow:t,quickFiltersGroupCode:O.a,selectorMiddleware:X,tableCustomisation:{responsive:!1},pageItemLimit:400})};function X(e){return Object(g.a)(e,"documentLines[0].voyage.key").map(({documentLines:e})=>{var t,a,r;return new C.a({documentLines:e,key:null!==(r=null===(a=null===(t=e[0])||void 0===t?void 0:t.voyage)||void 0===a?void 0:a.key)&&void 0!==r?r:-1})})}const[W]=Object(s.a)([u.a.IInternationalization]),{common:$,model:Z}=W.lang();function J(e){var t,a,r,n,l,i,s,c,d;const u=null!==(a=null===(t=e.invoicingStatus)||void 0===t?void 0:t.statusTypeDesc)&&void 0!==a?a:"",p=o.a.createElement(M.a,{label:u,priority:w.a.getStatusPriority(u,E.a.document)}),{documentLines:m,account:y,documentNo:g,documentDate:f,documentCurrency:b}=e,{documentLineText:C,quantity:O,unitPrice:T,documentAmount:P,voyage:v}=null!==(r=m[0])&&void 0!==r?r:new I.a({});return[null!=g?g:"",f,null!==(n=null==y?void 0:y.accountDesc)&&void 0!==n?n:"",null!==(i=null===(l=null==v?void 0:v.vessel)||void 0===l?void 0:l.vesselName)&&void 0!==i?i:"",null!==(c=null===(s=null==v?void 0:v.voyageHeader)||void 0===s?void 0:s.referenceNo)&&void 0!==c?c:"",null!=C?C:"",null!=O?O:0,null!==(d=null==b?void 0:b.currencyCode)&&void 0!==d?d:"",null!=T?T:0,P,{rawValue:u,content:p}]}function ee({reactKeyPrefix:e,onClick:t}){const a=[{field:"accountCode",filterGroupCode:"",operator:b.c.IN,queryParamName:"account.accountCode",type:b.d.STRING,value:"FOS,DOS,DOC,FOC,FLS,DLS,DLC,FLC"},{field:"statusTypeCode",filterGroupCode:"",operator:b.c.IN,queryParamName:"invoicingStatus.statusTypeCode",type:b.d.STRING,value:"RFP,POS"}];return o.a.createElement(f.a,{reactKeyPrefix:e,tsmodelType:E.a.document,listId:"POSTED_TRANSACTIONS_LIST_ID",getColSpec:J,fields:T.a,tableHeaders:(r=Y.b,[{content:Z.documentNo,contentType:R.a.TEXT,sortConfig:Object(Y.d)(r).documentNo},{content:Z.documentDate,contentType:R.a.DATE,sortConfig:Object(Y.d)(r).documentDate,dateTimeFormatOptions:S.a.shortLocalizedDate},{content:Z.account,contentType:R.a.TEXT,sortConfig:Object(Y.d)(r).account},{content:Z.vessel,contentType:R.a.TEXT,sortConfig:Object(Y.d)(r).vessel},{content:Z.voyageReference,contentType:R.a.TEXT,sortConfig:Object(Y.d)(r).voyage},{content:Z.documentLineText,contentType:R.a.TEXT,sortConfig:Object(Y.d)(r).documentLineText,textLengthFactor:10,wrap:!0},{content:Z.quantity,contentType:R.a.NUMBER,sortConfig:Object(Y.d)(r).quantity,numberFormatOptions:{minDecimals:3,maxDecimals:3}},{content:Z.currency,contentType:R.a.TEXT,sortConfig:Object(Y.d)(r).currency},{content:Z.unitPrice,contentType:R.a.NUMBER,sortConfig:Object(Y.d)(r).unitPrice,numberFormatOptions:{minDecimals:2,maxDecimals:2}},{content:$.amount,contentType:R.a.NUMBER,numberFormatOptions:{minDecimals:2,maxDecimals:2}},{content:$.status,contentType:R.a.ELEMENT,sortConfig:Object(Y.d)(r).status,alignHeaderContent:R.c.LEFT}]),sortOptions:Object.values(Object(Y.d)(Y.b)),queryFilters:a,defaultSorts:Object(Y.c)(Y.b),quickFiltersGroupCode:O.a,tableCustomisation:{disableCardSorting:!0,disableSorting:!1},onClickItem:t});var r}var te=a(73),ae=a(24),re=a(23),oe=a(14),ne=a(43),le=a(32),ie=a(423),se=a(488);const ce=oe.a.get(u.a.IInternationalization),{common:de,model:ue}=ce.lang(),pe=e=>[{label:de.myCreated,filters:Object(se.a)(O.a,"documentLines.voyage",e)}],me=()=>{const e={field:"invoicingStatus.key",filterGroupCode:O.a,operator:b.c.IN,type:b.d.STRING,optionCode:"statusFilter"};return[{label:de.status,filterObjectValuePath:"key",typeaheadProps:{type:E.a.statustype,objectPaths:["statusTypeDesc"],query:"filter=statusClass.statusClassCode(EQ)INV&filter=statusTypeCode(IN)(RFP,POS)",shouldPreload:!0},filters:[e]}]},ye=()=>{const e={field:"documentLines.voyage.vessel.key",filterGroupCode:O.a,operator:b.c.IN,type:b.d.STRING,filterCode:"VESSEL"};return[{label:ue.vessel,filterObjectValuePath:"key",typeaheadProps:{type:E.a.vessel,objectPaths:["vesselName"],includeDisabledQuery:!0},filters:[e]}]},ge=()=>{const e=ie.a;return[{label:ue.voyageReference,filterObjectValuePath:"referenceNo",typeaheadProps:{type:E.a.voyageheader,objectPaths:["referenceNo"],query:"filter=referenceNo(NOTNULL)&filter=voyage.fleetPlanVoyages.fleetPlan.fleetPlanCode(EQ)MASTER"},filters:[e]}]},fe=()=>{const e={field:"account.key",filterGroupCode:O.a,operator:b.c.IN,type:b.d.STRING,optionCode:"accountFilter"},t={field:"company.key",filterGroupCode:O.a,operator:b.c.IN,type:b.d.STRING,optionCode:"companyFilter"},a={field:"documentLines.voyage.voyageHeader.businessUnit.key",filterGroupCode:O.a,operator:b.c.IN,type:b.d.STRING,optionCode:"businessUnitFilter"};return[{filterObjectValuePath:"key",typeaheadProps:{label:ue.account,type:E.a.account,objectPaths:["accountDesc"],query:"filter=accountCode(IN)(FOS,DOS,DOC,FOC,FLS,DLS,DLC,FLC)"},filters:[e]},{filterObjectValuePath:"key",typeaheadProps:{label:ue.company,type:E.a.company,objectPaths:["companyName"],includeDisabledQuery:!0},filters:[t]},{filterObjectValuePath:"key",typeaheadProps:{label:ue.businessUnit,type:E.a.businessunit,objectPaths:["businessUnitName"],includeDisabledQuery:!0},filters:[a]}]};function be({reactKeyPrefix:e,showStatusFilter:t}){var a;const r=oe.a.get(u.a.IInternationalization),n=null!==(a=Object(re.a)(le.a))&&void 0!==a?a:new ne.a({}),{common:l,model:i}=r.lang();return o.a.createElement(o.a.Fragment,null,o.a.createElement(ae.a,{reactKeyPrefix:e+"-my-voyages",configs:pe(n.key),type:b.b.BOOLEAN,label:l.myVoyages,filterCode:"MY_VOYAGES",clearOnMount:!1}),o.a.createElement(ae.a,{reactKeyPrefix:e+"-voyage",configs:ge(),type:b.b.TYPEAHEAD,label:i.voyage,filterCode:"VOYAGE",clearOnMount:!1}),o.a.createElement(ae.a,{reactKeyPrefix:e+"-vessel",configs:ye(),type:b.b.TYPEAHEAD,label:i.vessel,filterCode:"VESSEL",clearOnMount:!1}),t&&o.a.createElement(ae.a,{reactKeyPrefix:e+"-status",configs:me(),type:b.b.TYPEAHEAD,label:l.status,filterCode:"STATUS",clearOnMount:!1}),o.a.createElement(ae.a,{reactKeyPrefix:e+"-more",configs:fe(),type:b.b.TYPEAHEAD,label:l.more,filterCode:"MORE",clearOnMount:!1}))}var Ce=a(236),Ee=a(7);const Oe="doc-modules-bunker-transactions-list",Te={authorizationType:d.a.PERMISSION,authorizedPermissions:c.a.bunkerTransactions.authorizedPermissions,behaviorOnAuthorizationFail:i.a.REDIRECT_NO_AUTHORIZATION};function Pe(){Object(l.b)(Te);const[e,t]=Object(r.useState)(!0),[a,i]=Object(s.a)([u.a.IInternationalization,Ee.a.IFilterActions]),c=Object(n.g)(),d=Object(n.h)(),{model:g}=a.getLanguageFile(),f=Object(r.useCallback)(e=>{y.a.openDrawer(e,p.a.bunkerTransactionDrawer,d,c)},[c,d]),b=Object(r.useCallback)(e=>{var t,a;const r=null!==(t=N.a.getFiltersByGroupCode(Ce.b.getState(),O.a))&&void 0!==t?t:[];e&&Ce.b.dispatch(i.removeFilterAction(null!==(a=r.find(e=>"statusFilter"===e.optionCode))&&void 0!==a?a:[]))},[i]),C=Object(r.useMemo)(()=>[{id:"posted",label:g.posted,content:()=>o.a.createElement(ee,{reactKeyPrefix:Oe+"-posted",onClick:f}),onActivate:()=>{t(!0)}},{id:"pending",label:g.pending,content:()=>o.a.createElement(Q,{reactKeyPrefix:Oe+"-pending"}),onActivate:()=>{b(!0),t(!1)}}],[g.pending,g.posted,f,b]);return o.a.createElement(te.a,{reactKeyPrefix:Oe+"-page",tabs:C,bottomRightContent:o.a.createElement(be,{reactKeyPrefix:Oe+"-filters",showStatusFilter:e})},o.a.createElement(m.a,null))}},1904:function(e,t,a){"use strict";a.d(t,"a",(function(){return le}));a(10),a(11);var r=a(0),o=a.n(r),n=a(97),l=a(717),i=a(15),s=a(80),c=a(46),d=a(61),u=a(51),p=a(73),m=a(76),y=a(65),g=a(6),f=a(47),b=a(99),C=a(1),E=a(89),O=a(7),T=a(1218),P=a(42),v=a(41),S=a(27),_=a(3);const N={addresses:{address1:"*",address2:"*",address3:"*",city:"*",country:{countryCode:"*",countryName:"*"},postalCode:"*"},businessPartnerCode:"*",businessPartnerName:"*",businessPartnerSort:"*",businessPartnerType:{businessPartnerType:"*",businessPartnerTypeDesc:"*"},isObjectActive:"*"};var R=a(5),h=a(14);const I=h.a.get(_.a.IInternationalization),{model:D}=I.getLanguageFile();function A(e){var t,a,r,o,n,l,i;const s=null!==(a=null===(t=e.addresses[0])||void 0===t?void 0:t.city)&&void 0!==a?a:"",c=null!==(n=null===(o=null===(r=e.addresses[0])||void 0===r?void 0:r.country)||void 0===o?void 0:o.countryName)&&void 0!==n?n:"";return[null!==(i=null===(l=e.businessPartnerType)||void 0===l?void 0:l.businessPartnerTypeDesc)&&void 0!==i?i:"",e.businessPartnerName,e.businessPartnerCode,s,c]}const L=[{content:D.businessPartnerType,contentType:R.a.TEXT},{content:D.businessPartnerName,contentType:R.a.TEXT},{content:D.businessPartnerCode,contentType:R.a.TEXT},{content:D.city,contentType:R.a.TEXT},{content:D.country,contentType:R.a.TEXT}];var k=a(16);const G=(new(a(88).a)).getLanguageFile(),U=[{field:G.model.businessPartnerName,groupCode:"BUSINESS_PARTNERS_LIST_SORT_GROUP_CODE",operator:k.b.ASC,queryParamName:"businessPartnerName"},{field:G.model.businessPartnerCode,groupCode:"BUSINESS_PARTNERS_LIST_SORT_GROUP_CODE",operator:k.b.ASC,queryParamName:"businessPartnerCode"}],j={field:G.model.businessPartnerName,groupCode:"BUSINESS_PARTNERS_LIST_SORT_GROUP_CODE",operator:k.b.ASC,queryParamName:"businessPartnerName"};var F=a(57),x=a(244),B=a(139),w=a(566),M=a(19),V=a(168),q=a(70);function K(e,t,a,r){const o=V.b.bind(null,t,C.a.address,"_addresses",a),n=V.b.bind(null,t,C.a.contactinfo,"_contactInfo",a),l=V.b.bind(null,t,C.a.www,"_www",a),i=new b.a(t),s=i.addresses.length>0?i.addresses[0]:new x.a({}),c=i.contactInfo.length>0?i.contactInfo[0]:new B.a({}),d=i.www.length>0?i.www[0]:new w.a({}),u=[{fieldName:"businessPartnerType",formControlProps:{required:!0},typeaheadProps:{shouldPreload:!0},onUpdateOverride:a.bind(null,"_businessPartnerType")},{fieldName:"businessPartnerName",textInputProps:{onInputChange:a.bind(null,"_businessPartnerName"),required:!0}},{fieldName:"businessPartnerSort",textInputProps:{onInputChange:a.bind(null,"_businessPartnerSort"),required:!0}},{fieldName:"businessPartnerCode",textInputProps:{letterCase:F.a.UPPERCASE,onInputChange:a.bind(null,"_businessPartnerCode"),required:!0,validation:q.b.BusinessPartnerCode}},{fieldName:"companyRegistrationNo",textInputProps:{onInputChange:a.bind(null,"_companyRegistrationNo")}},{fieldName:"vatNumber",textInputProps:{onInputChange:a.bind(null,"_vatNumber")}},{fieldName:"businessPartnerLink",onUpdateOverride:a.bind(null,"_businessPartnerLink")},{fieldName:"address1",overrideObject:s,overrideType:C.a.address,textInputProps:{onInputChange:o.bind(null,"_address1")}},{fieldName:"address2",overrideObject:s,overrideType:C.a.address,textInputProps:{onInputChange:o.bind(null,"_address2")}},{fieldName:"address3",overrideObject:s,overrideType:C.a.address,textInputProps:{onInputChange:o.bind(null,"_address3")}},{fieldName:"postalCode",overrideObject:s,overrideType:C.a.address,textInputProps:{onInputChange:o.bind(null,"_postalCode")}},{fieldName:"city",overrideObject:s,overrideType:C.a.address,textInputProps:{onInputChange:o.bind(null,"_city")}},{fieldName:"country",overrideObject:s,overrideType:C.a.address,typeaheadProps:{shouldPreload:!0},onUpdateOverride:o.bind(null,"_country")},{fieldName:"subdivision",overrideObject:s,overrideType:C.a.address,onUpdateOverride:o.bind(null,"_subdivision")},{fieldName:"phoneNo",overrideObject:c,overrideType:C.a.contactinfo,textInputProps:{onInputChange:n.bind(null,"_phoneNo")}},{fieldName:"mobileNo",overrideObject:c,overrideType:C.a.contactinfo,textInputProps:{onInputChange:n.bind(null,"_mobileNo")}},{fieldName:"faxNo",overrideObject:c,overrideType:C.a.contactinfo,textInputProps:{onInputChange:n.bind(null,"_faxNo")}},{fieldName:"email",overrideObject:c,overrideType:C.a.contactinfo,textInputProps:{letterCase:F.a.LOWERCASE,onInputChange:n.bind(null,"_email"),validation:q.b.Email}},{fieldName:"telexNo",overrideObject:c,overrideType:C.a.contactinfo,textInputProps:{onInputChange:n.bind(null,"_telexNo")}},{fieldName:"www",overrideObject:d,overrideType:C.a.www,textInputProps:{onInputChange:l.bind(null,"_www")}}];return Object(M.a)({disableUpdate:!0,fieldOptions:u,object:new b.a(t),type:C.a.businesspartner,updateResponseFields:void 0,userLocale:r,reactKeyPrefix:e})}var H=a(94),Y=a(33),z=a(95),Q=a(4),X=a(24),W=a(86);const $=h.a.get(_.a.IInternationalization),{model:Z}=$.lang(),J=e=>{const t={field:"key",filterGroupCode:e,operator:Q.c.IN,type:Q.d.STRING};return[{label:Z.businessPartnerName,filterObjectValuePath:"key",typeaheadProps:{type:C.a.businesspartner,objectPaths:W.b.businessPartner,includeDisabledQuery:!0},filters:[t]}]},ee=e=>{const t={field:"key",filterGroupCode:e,operator:Q.c.IN,type:Q.d.STRING};return[{label:Z.businessPartnerName,filterObjectValuePath:"key",typeaheadProps:{type:C.a.businesspartner,objectPaths:["businessPartnerCode"],includeDisabledQuery:!0},filters:[t]}]},te=e=>[{label:"",filters:[{field:"isObjectActive",filterGroupCode:e,operator:Q.c.NOT_EQUALS,type:Q.d.BOOLEAN,value:!0}]}],ae=e=>{const t={field:"businessPartnerType.key",filterGroupCode:e,operator:Q.c.IN,type:Q.d.STRING};return[{label:Z.businessPartnerType,filterObjectValuePath:"key",typeaheadProps:{type:C.a.businesspartnertype,objectPaths:["businessPartnerTypeDesc"]},filters:[t]}]};function re({reactKeyPrefix:e}){const t=h.a.get(_.a.IInternationalization),{common:a,model:r}=t.lang();return o.a.createElement(o.a.Fragment,null,o.a.createElement(X.a,{reactKeyPrefix:e+"-business-partner-type",configs:ae("BUSINESS_PARTNERS_LIST_FILTER_GROUP_CODE"),type:Q.b.TYPEAHEAD,label:r.businessPartnerType,filterCode:"BUSINESS_PARTNERS_LIST_FILTER_GROUP_CODE_BUSINESS_PARTNER_TYPE",clearOnMount:!1}),o.a.createElement(X.a,{reactKeyPrefix:e+"-business-partner-name",configs:J("BUSINESS_PARTNERS_LIST_FILTER_GROUP_CODE"),type:Q.b.TYPEAHEAD,label:r.businessPartnerName,filterCode:"BUSINESS_PARTNERS_LIST_FILTER_GROUP_CODE_BUSINESS_PARTNER_NAME",clearOnMount:!1}),o.a.createElement(X.a,{reactKeyPrefix:e+"-business-partner-code",configs:ee("BUSINESS_PARTNERS_LIST_FILTER_GROUP_CODE"),type:Q.b.TYPEAHEAD,label:r.businessPartnerCode,filterCode:"BUSINESS_PARTNERS_LIST_FILTER_GROUP_CODE_BUSINESS_PARTNER_CODE",clearOnMount:!1}),o.a.createElement(X.a,{reactKeyPrefix:e+"-disabled",configs:te("BUSINESS_PARTNERS_LIST_FILTER_GROUP_CODE"),type:Q.b.BOOLEAN,label:a.disabled,filterCode:"BUSINESS_PARTNERS_LIST_FILTER_GROUP_CODE_DISABLED"}))}class oe extends o.a.PureComponent{constructor(e){super(e),this.state=Object.assign(Object.assign({},e.state),{showCreateBusinessPartnerModal:!1,enableBulkUpdate:!1}),this.toggleVisibilityOfCreateModal=this.toggleVisibilityOfCreateModal.bind(this),this.onClickCard=this.onClickCard.bind(this),this.openDrawer=this.openDrawer.bind(this),this.overrideGetData=this.overrideGetData.bind(this),this.enableBulkUpdates=this.enableBulkUpdates.bind(this)}UNSAFE_componentWillReceiveProps(e){this.setState(Object.assign({},e.state))}toggleVisibilityOfCreateModal(){this.setState({showCreateBusinessPartnerModal:!this.state.showCreateBusinessPartnerModal})}onClickCard(e){S.a.openDrawer(e,i.a.businessPartnerDrawer,this.props.location,this.props.history)}openDrawer(e,t){e||(S.a.openDrawer(t.key,i.a.businessPartnerDrawer,this.props.location,this.props.history),c.a.next())}isConfirmButtonDisabled(e,t){return!(e._businessPartnerType&&e._businessPartnerName&&e._businessPartnerSort&&e._businessPartnerCode&&t._businessPartnerCode)}overrideGetData(e){return Object(E.d)(Object(E.a)(new b.a(e)))}enableBulkUpdates(){this.setState({enableBulkUpdate:!this.state.enableBulkUpdate})}render(){const{showCreateBusinessPartnerModal:e,enableBulkUpdate:t}=this.state,[a]=this.props.deps,r=a.getLanguageFile(),n=[{onClick:this.toggleVisibilityOfCreateModal,text:r.model.createBusinessPartner}];this.enableBulkUpdates,r.common.bulkUpdate,z.a.BUSINESS_PARTNERS_CONTRIBUTOR;return o.a.createElement(p.a,{reactKeyPrefix:"doc-modules-business-partners-pages-page",createObject:n},o.a.createElement(d.a,{getColSpec:A,onClickItem:this.onClickCard,reactKeyPrefix:"doc-modules-business-partners-pages-tsmodel-list",tsmodelType:C.a.businesspartner,listId:l.a,fields:N,sortOptions:U,defaultSorts:[j],tableHeaders:L,enableBulkUpdate:t,quickFilters:o.a.createElement(re,{reactKeyPrefix:"doc-modules-business-partners-pages-quickfilter"}),quickFiltersGroupCode:"BUSINESS_PARTNERS_LIST_FILTER_GROUP_CODE"}),e&&o.a.createElement(u.a,{modalProps:{reactKeyPrefix:"doc-modules-business-partners-pages-create-edit",maxWidth:"md",onCloseModal:this.toggleVisibilityOfCreateModal,open:this.state.showCreateBusinessPartnerModal,title:r.common.create+" "+r.model.businessPartner},getColSpec:K,isConfirmDisabled:this.isConfirmButtonDisabled,createProps:{callback:this.openDrawer,type:C.a.businesspartner},overrideGetData:this.overrideGetData,enableCopy:!1}),o.a.createElement(s.a,null))}}const ne={authorizationType:v.a.PERMISSION,authorizedPermissions:Y.a.businessPartners.authorizedPermissions,behaviorOnAuthorizationFail:y.a.REDIRECT_NO_AUTHORIZATION},le=Object(m.a)(ne,Object(f.a)(e=>{const t=P.a.getUserLocale(e),a=T.a.getSelectedBusinessPartner(e);return{filters:H.a.getFiltersByGroupCode(e,"BUSINESS_PARTNERS_LIST_FILTER_GROUP_CODE"),selectedBusinessPartner:a,userLocale:t}},Object(g.b)([_.a.IInternationalization,O.a.ITSModelActionsAsync,O.a.ISelectedBusinessPartnerActions,O.a.IFilterActions],Object(n.k)(oe))))},1929:function(e,t,a){"use strict";a.d(t,"a",(function(){return q}));a(10),a(11);var r=a(46),o=a(76),n=a(65),l=a(6),i=a(41),s=a(3),c=a(0),d=a.n(c),u=a(97),p=a(61),m=a(73),y=a(1),g=a(33);const f={businessUnitCode:"*",businessUnitName:"*"};var b=a(5),C=a(14);const E=C.a.get(s.a.IInternationalization),{common:O,model:T}=E.getLanguageFile(),P=[{content:T.name,contentType:b.a.TEXT},{content:O.code,contentType:b.a.TEXT}],v=e=>[e.businessUnitName,e.businessUnitCode];var S=a(24),_=a(4);const N=C.a.get(s.a.IInternationalization),{common:R,model:h}=N.lang(),I=e=>({label:R.disabled,filters:[{field:"isObjectActive",filterGroupCode:e,operator:_.c.NOT_EQUALS,queryParamName:"isObjectActive",type:_.d.BOOLEAN,value:!0}]}),D=({reactKeyPrefix:e,filterGroupCode:t})=>d.a.createElement(d.a.Fragment,null,d.a.createElement(S.a,{reactKeyPrefix:e+"-disabled",configs:[I(t)],type:_.b.BOOLEAN,label:R.disabled,filterCode:t+"_DISABLED"}));var A=a(16);const L=C.a.get(s.a.IInternationalization),{model:k,common:G}=L.getLanguageFile(),U="BUSINESS_UNITS_LIST_SORT_GROUP_CODE",j=[{field:k.name,groupCode:U,operator:A.b.ASC,queryParamName:"businessUnitName"}],F=[{field:k.name,groupCode:U,operator:A.b.ASC,queryParamName:"businessUnitName"},{field:G.code,groupCode:U,operator:A.b.ASC,queryParamName:"businessUnitCode"}];var x=a(15),B=a(2018),w=a(80),M=a(27);const V={authorizationType:i.a.PERMISSION,authorizedPermissions:g.a.businessUnits.authorizedPermissions,behaviorOnAuthorizationFail:n.a.REDIRECT_NO_AUTHORIZATION};function q(){Object(o.b)(V);const e=Object(u.g)(),t=Object(u.h)(),[a,n]=Object(c.useState)(!1),i=Object(c.useCallback)(()=>n(!a),[a]),[g]=Object(l.a)([s.a.IInternationalization]),b=[{onClick:i,text:g.lang().common.createBusinessUnit}],C=Object(c.useCallback)((a,o)=>{o&&(M.a.openDrawer(o.key,x.a.businessUnitDrawer,t,e),r.a.next())},[e,t]),E=Object(c.useCallback)(a=>{M.a.openDrawer(a,x.a.businessUnitDrawer,t,e)},[e,t]);return d.a.createElement(m.a,{reactKeyPrefix:"doc-modules-business-units-pages-list-page",createObject:b},a&&d.a.createElement(B.a,{reactKeyPrefix:"doc-modules-business-units-pages-list",showModal:a,closeModal:i,onCreate:C}),d.a.createElement(p.a,{fields:f,listId:"BUSINESS_UNITS_LIST_ID",reactKeyPrefix:"doc-modules-business-units-pages-list-tsmodel-list",defaultSorts:j,sortOptions:F,tsmodelType:y.a.businessunit,tableHeaders:P,getColSpec:v,quickFilters:d.a.createElement(D,{reactKeyPrefix:"doc-modules-business-units-pages-list-filters",filterGroupCode:"BUSINESS_UNITS_LIST_FILTER_GROUP_CODE"}),onClickItem:E,quickFiltersGroupCode:"BUSINESS_UNITS_LIST_FILTER_GROUP_CODE"}),d.a.createElement(w.a,null))}},1969:function(e,t,a){"use strict";a.d(t,"a",(function(){return U}));a(10),a(11);var r=a(0),o=a.n(r),n=a(97),l=a(15),i=a(80),s=a(61),c=a(73),d=a(76),u=a(65),p=a(6),m=a(4),y=a(1),g=(a(1373),a(41)),f=a(27),b=a(3);const C={businessPartnerName:"*"},E={portCallsFromVoyage:{eventLogs:{event:{eventCode:"*"},eventLogDate:"*"},port:{portName:"*"},portCallSequence:"*",reasonForCall:{reasonForCall:"*"}},vessel:{vesselName:"*"},voyageHeader:{referenceNo:"*"}},O={broker:C,cargos:{charterer:C,voyage:E},commissionContributorCount:"*",commissionContributors:{key:"*",percent:"*",user:{key:"*",userCode:"*",userName:"*"}},isObjectActive:"*",tcs:{charterer:C,voyages:E}};var T=a(81),P=a(40),v=a(5),S=a(14),_=a(60);const N=S.a.get(b.a.IInternationalization),{model:R}=N.getLanguageFile(),h=e=>{const t=Object(T.a)(e,"tcs[0]");let a=Object(T.a)(t,"voyages[0]");const r=Object(T.a)(e,"cargos[0]");r.voyage&&(a=r.voyage);let n="",l="",i="",s="",c="",d="";return a&&(n=a.vessel?a.vessel.vesselName:"",l=e.broker?e.broker.businessPartnerName:"",r&&r.charterer?c=r.charterer.businessPartnerName:t&&t.charterer&&(c=t.charterer.businessPartnerName),i=a.portCallsFromVoyage?_.a.getFirstLoadPort(a.portCallsFromVoyage).portName:"",s=a.portCallsFromVoyage?_.a.getLastDischargePort(a.portCallsFromVoyage).portName:"",d=e.commissionContributors?e.commissionContributors.length.toString():""),[{rawValue:d,content:o.a.createElement(P.a,{label:d,labelColour:P.b.DarkGrey})},n,l,i,s,c]},I=[{content:R.contributors,contentType:v.a.ELEMENT},{content:R.vessel,contentType:v.a.TEXT},{content:R.broker,contentType:v.a.TEXT},{content:R.loadPort,contentType:v.a.TEXT},{content:R.dischargePort,contentType:v.a.TEXT},{content:R.charterer,contentType:v.a.TEXT}];var D=a(33),A=a(95);const L=[[0,1,2,3,4,5]];class k extends o.a.PureComponent{constructor(e){super(e),this.state={enableBulkUpdate:!1},this.onClickCommissionCard=this.onClickCommissionCard.bind(this),this.enableBulkUpdates=this.enableBulkUpdates.bind(this)}getFilterOptions(){const[e]=this.props.deps;return[{field:"commissionContributorCount",filterGroupCode:"COMMISSION_LIST_FILTER_GROUP_CODE",isTSModelSelectorDisabled:!0,label:e.getLanguageFile().bc.commissionContributors,operator:m.c.IN,queryParamName:"commissionContributorCount",type:m.d.NUMBER}]}getDefaultFilter(){return[{field:"voyageStatus",filterGroupCode:"COMMISSION_LIST_FILTER_GROUP_CODE",operator:m.c.EQUALS,queryParamName:"cargos.voyage.voyageStatus",type:m.d.STRING,value:"A"}]}onClickCommissionCard(e){f.a.openDrawer(e,l.a.commissionDrawer,this.props.location,this.props.history)}enableBulkUpdates(){this.setState({enableBulkUpdate:!this.state.enableBulkUpdate})}render(){const{enableBulkUpdate:e}=this.state,[t]=this.props.deps,a=t.getLanguageFile();this.enableBulkUpdates,a.common.bulkUpdate,A.a.BROKER_COMMISSION_CONTRIBUTOR;return o.a.createElement(c.a,{reactKeyPrefix:"doc-modules-broker-commissions-pages-broker-contribution-page"},o.a.createElement(s.a,{getColSpec:h,filterOptions:this.getFilterOptions(),listId:"COMMISSION_LIST",tsmodelType:y.a.commission,fields:O,onClickItem:this.onClickCommissionCard,reactKeyPrefix:"doc-modules-broker-commissions-pages-broker-contribution-tsmodel-list",defaultFilters:this.getDefaultFilter(),filterValueOptions:L,tableHeaders:I,enableBulkUpdate:e}),o.a.createElement(i.a,null))}}const G={authorizationType:g.a.PERMISSION,authorizedPermissions:D.a.bc.authorizedPermissions,behaviorOnAuthorizationFail:u.a.REDIRECT_NO_AUTHORIZATION},U=Object(d.a)(G,Object(p.b)([b.a.IInternationalization],Object(n.k)(k)))},264:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return s})),a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return u}));var r=a(16);const o=new(a(88).a),{common:n,model:l}=o.getLanguageFile(),i="POSTED_BUNKER_TRANSACTIONS_LIST_SORT_GROUP_CODE",s="PENDING_BUNKER_TRANSACTIONS_LIST_SORT_GROUP_CODE",c=[{field:l.vessel,groupCode:s,operator:r.b.ASC,queryParamName:"documentLines.voyage.vessel.vesselName"},{field:l.voyageReference,groupCode:s,operator:r.b.DESC,queryParamName:"documentLines.voyage.fleetPlanVoyages.sequence"}],d=e=>[{field:l.createdDate,groupCode:e,operator:r.b.DESC,queryParamName:"key"}],u=e=>({account:{field:l.account,groupCode:e,operator:r.b.ASC,queryParamName:"account.accountDesc"},createdDate:{field:l.createdDate,groupCode:e,operator:r.b.ASC,queryParamName:"key"},currency:{field:l.currency,groupCode:e,operator:r.b.ASC,queryParamName:"documentCurrency%2B.currencyCode"},documentDate:{field:l.documentDate,groupCode:e,operator:r.b.ASC,queryParamName:"documentDate"},documentLineText:{field:l.documentLineText,groupCode:e,operator:r.b.ASC,queryParamName:"documentLines%2B.documentLineText"},quantity:{field:l.quantity,groupCode:e,operator:r.b.ASC,queryParamName:"documentLines.quantity"},unitPrice:{field:l.unitPrice,groupCode:e,operator:r.b.ASC,queryParamName:"documentLines.unitPrice"},documentNo:{field:l.documentNo,groupCode:e,operator:r.b.ASC,queryParamName:"documentNo"},status:{field:n.status,groupCode:e,operator:r.b.ASC,queryParamName:"invoicingStatus%2B.statusTypeDesc"},vessel:{field:l.vessel,groupCode:e,operator:r.b.ASC,queryParamName:"documentLines%2B.voyage%2B.vessel%2B.vesselName"},voyage:{field:l.voyage,groupCode:e,operator:r.b.ASC,queryParamName:"documentLines%2B.voyage%2B.voyageHeader.referenceNo"}})},815:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o}));const r={documentDate:"*",documentNo:"*",account:{accountDesc:"*"},documentCurrency:{currencyCode:"*"},invoicingStatus:{statusTypeDesc:"*"},documentLines:{documentLineText:"*",quantity:"*",unitPrice:"*",documentAmount:"*",voyage:{vessel:{vesselName:"*"},voyageHeader:{referenceNo:"*"}}}},o={documentLines:{voyage:{vessel:{vesselName:"*"},voyageHeader:{referenceNo:"*",operator:{userName:"*"},voyageEndDate:"*",voyageStatus:{statusTypeDesc:"*"}}}}}}}]);
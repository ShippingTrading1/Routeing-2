(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1887:function(e,t,a){"use strict";a.d(t,"a",(function(){return we}));a(10),a(11);var o=a(0),r=a.n(o),n=a(73),c=a(76),i=a(65),l=a(41),s=a(80),d=a(6),u=a(3),m=a(95),b=a(94),p=a(4),O=a(16),y=a(1),C=a(88);const f=new C.a,{model:E}=f.getLanguageFile(),g=e=>[{label:"version",filterObjectValuePath:"releaseNumber",typeaheadProps:{type:y.a.entityrelease,objectPaths:["releaseNumber"],query:"filter=entity(EQ)DbUpdate"},filters:[{field:"releaseNumber",filterGroupCode:e,queryParamName:"entityRelease.releaseNumber",operator:p.c.EQUALS,type:p.d.STRING}]}],T=[{field:E.sequence,groupCode:"DB_UPDATE_LIST_SORT_GROUP_CODE",operator:O.b.ASC,queryParamName:"sequence"}];var P=a(61),I=a(23),_=a(20),S=a(46),D=a(193),R=a(21),j=a(66),N=a(32),h=a(43),v=a(14),L=a(5);const A=v.a.get(u.a.IInternationalization),{model:U}=A.getLanguageFile(),M=e=>{var t;const{dbUpdate:a,sequence:o}=e;return[null!=o?o:"-",null!==(t=atob(a))&&void 0!==t?t:"-"]},k=[{content:U.sequence,contentType:L.a.NUMBER},{content:U.dbUpdate,contentType:L.a.TEXT}];var x=a(24),w=a(541),F=a(1230),G=a.n(F),q=(a(59),a(118),a(44)),K=a(848),B=a(742),z=a(983),Q=a(1580),V=a(214),H=a(212),Y=a(323),X=a(827),W=a.n(X);const Z=v.a.get(u.a.IInternationalization),{model:$}=Z.getLanguageFile(),J=[{content:$.sequence,flex:"1",contentType:H.a.TEXT},{content:$.dbUpdate,flex:"12",contentType:H.a.TEXT},{content:"",flex:"1",contentType:H.a.ELEMENT}];var ee=function(e,t,a,o){return new(a||(a=Promise))((function(r,n){function c(e){try{l(o.next(e))}catch(e){n(e)}}function i(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,i)}l((o=o.apply(e,t||[])).next())}))};function te(e){var t,a;const{reactKeyPrefix:n,open:c,onClose:i,dbUpdates:l,onResequence:s}=e,[m,b]=Object(d.a)([u.a.IInternationalization,_.a.IDbUpdateController]),{common:p,model:O}=m.getLanguageFile(),[y,C]=Object(o.useState)(l),[f,E]=Object(o.useState)([]),[g,T]=Object(o.useState)(!1),[P,I]=Object(o.useState)(!1),S=null!==(a=null===(t=Object(B.a)(l,"sequence"))||void 0===t?void 0:t.sequence)&&void 0!==a?a:1,D=Object(o.useMemo)(()=>function(e){return e.map(({key:e,dbUpdate:t,sequence:a},o)=>{var n;const c=o+1;return{content:[c!==a?`${c} (${a})`:a,null!==(n=atob(t))&&void 0!==n?n:"",r.a.createElement(Y.a,{key:e},r.a.createElement(W.a,null))],id:e}})}(y),[y]),R=Object(o.useCallback)((e,t)=>{E(a=>Object(z.a)(a.concat(e[t].id))),C(t=>[...t].sort((t,a)=>Object(Q.a)(e,{id:t.key})-Object(Q.a)(e,{id:a.key})))},[]),j=Object(o.useCallback)(()=>ee(this,void 0,void 0,(function*(){let e=S;for(const t of y.reverse())t.sequence&&t.dbUpdate&&f.includes(t.key)&&(T(!0),yield b.moveDbUpdate(t,e).then(()=>{s(t)})),e--;i()})),[b,y,S,f,T,i,s]);return r.a.createElement(q.a,{reactKeyPrefix:n+"-resequence-dbUpdate-modal",title:O.dbUpdateResequence,maxWidth:"md",open:c,onCloseModal:i,onConfirm:()=>I(!0),disableConfirmBtn:g,hideCancelBtn:g,fullWidth:!0,disableDraggable:!0},r.a.createElement(V.a,{container:!0,spacing:2},r.a.createElement(V.a,{item:!0,xs:12},r.a.createElement(K.a,{reactKeyPrefix:n+"-dbUpdate-list",headers:J,data:D,enableRowDragDrop:!0,onRowReorder:R,height:"100%",width:"100%"}))),P&&r.a.createElement(q.a,{reactKeyPrefix:n+"-resequence-confirmation-modal",title:p.warning,maxWidth:"sm",open:P,onCloseModal:()=>{I(!1)},onConfirm:j,disableConfirmBtn:g,hideCancelBtn:g},p.resequenceDbUpdateConfirmation))}var ae=a(97),oe=a(27),re=a(15),ne=a(48),ce=a(472),ie=a(51),le=a(12),se=a(89),de=a(503),ue=a(19),me=a(1396),be=a(2355),pe=a(2103),Oe=a(2375),ye=a(970),Ce=a(57),fe=a(70),Ee=a(38),ge=a(213),Te=a(187);const Pe=Object(ge.a)(e=>Object(Te.a)({listbox:{fontSize:"inherit","& :hover":{backgroundColor:e.palette.grey[100]+"!important"},"&:hover:not(:disabled):not(:focus-within)":{backgroundColor:e.palette.common.white+"!important"},"&:focus-within":{backgroundColor:e.palette.background.paper}}}));function Ie(e){const{entityRelease:t,i:a,options:n,controller:c,reactKeyPrefix:i,onBind:l}=e,[s,d]=Object(o.useState)(t),[u,m]=Object(o.useState)(!1),[b,p]=Object(o.useState)(!1),[O,y]=Object(o.useState)(""),C=Object(me.a)({ignoreCase:!0});Object(o.useEffect)(()=>{t&&l(t)},[t]);const f=Pe({}),{model:E,common:g,validation:T}=a.getLanguageFile(),P=Object(o.useCallback)(()=>{const e={releaseNumber:O,entity:"DbUpdate"};try{c.createEntityReleaseDbUpdate(e).then(e=>{e&&(y(""),d(e),m(!1),l(e))})}catch(e){throw e instanceof Error?new Error(e.message):new Error("API call failed")}},[c,O,l]),I=Object(o.useMemo)(()=>s&&null!==s&&s.key&&null!==s.key&&""===O,[O,s]);return r.a.createElement(o.Fragment,null,r.a.createElement(be.a,{id:i+"free-solo-release",options:n,value:s,disabled:!!t&&t.releaseNumber!==E.releaseNumber,classes:{listbox:f.listbox},disableClearable:!0,renderInput:e=>r.a.createElement(pe.a,Object.assign({},e,{fullWidth:!1,sx:{width:"12%",marginTop:"5px"},helperText:I?void 0:T.required,error:!I,label:E.entityRelease+" *",disabled:!!t&&t.releaseNumber!==E.releaseNumber})),getOptionLabel:e=>e.releaseNumber?e.releaseNumber:e.inputValue?e.inputValue:"object"==typeof e&&e.text?e.text:Object(ye.a)(e)?e:"",renderOption:(e,t)=>{const a=s&&t.key===s.key?Ee.b.navigator.secondary[1]:Ee.b.bergenRain.secondary[1];return t.releaseNumber?r.a.createElement("li",Object.assign({},e,{key:t.key,style:{backgroundColor:a}}),t.releaseNumber):t.inputValue?r.a.createElement("span",Object.assign({},e,{style:{backgroundColor:"white"}}),t.title):"object"==typeof t&&t.text?r.a.createElement("span",Object.assign({},e),t.text):Object(ye.a)(t)?t:""},onChange:(e,t)=>{"string"==typeof t?setTimeout(()=>{m(!0),y(t)}):t&&"object"==typeof t&&t.inputValue?(m(!0),y(t.inputValue),d(t)):(d(t),l(t))},filterOptions:(e,t)=>{const a=C(e,t);return void 0!==t.inputValue&&""!==t.inputValue&&a.push({inputValue:t.inputValue,title:g.add}),a}}),r.a.createElement(q.a,{reactKeyPrefix:i+"-free-solo-create-release",open:u,maxWidth:"xs",fullWidth:!0,title:g.createEntityRelease,onCloseModal:()=>{m(!1)},onConfirm:P,disableConfirmBtn:""===O||!b},r.a.createElement(Oe.a,{required:!0},E.releaseNumber),r.a.createElement(Ce.b,{value:O,reactKeyPrefix:i+NaN,onInputChange:(e,t)=>{p(t),y(e)},preValidateValue:!0,validation:fe.b.ReleaseNumber,sx:{width:"70%"}})))}function _e(e,t,a,o,n,c){const{model:i}=n.getLanguageFile(),l=Object(de.a)(c.entityReleases,"releaseNumber"),s={reactKeyPrefix:e,disableUpdate:!0,fieldOptions:[{fieldName:"dbUpdate",label:i.dbUpdate,formControlProps:{required:!0},onUpdateOverride:a.bind(null,"dbUpdate"),InputProps:{fullWidth:!0,multiline:!0}},{fieldName:"entityRelease",overrideComponent:r.a.createElement(Ie,{reactKeyPrefix:e,entityRelease:c.entityRelease,options:l,i:n,controller:c.controller,onBind:e=>a("entityRelease",e)})}],object:t,type:y.a.dbupdate,userLocale:o};return Object(ue.a)(s)}var Se=function(e,t,a,o){return new(a||(a=Promise))((function(r,n){function c(e){try{l(o.next(e))}catch(e){n(e)}}function i(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,i)}l((o=o.apply(e,t||[])).next())}))};function De(e){const{reactKeyPrefix:t,controller:a,open:n,i:c,onClose:i,entityRelease:l,erList:s,onOpenDrawer:d,onRefreshList:u}=e,{model:m,common:b}=c.getLanguageFile();const p=Object(o.useCallback)(e=>(e.dbUpdate=btoa(e.dbUpdate),Object(se.a)(e)),[]),O=Object(o.useCallback)(e=>Se(this,void 0,void 0,(function*(){var t,o,r;i();let n=void 0,c=void 0;const s=yield a.checkIfReleaseHasDbUpdate(null!==(o=null===(t=e.entityRelease)||void 0===t?void 0:t.releaseNumber)&&void 0!==o?o:"");s&&s.length>0?c=null===(r=Object(ce.a)(s))||void 0===r?void 0:r.key:n=null==l?void 0:l.releaseNumber;const m=yield a.createDbUpdate(e.dbUpdate,n?void 0:c,n);u(m),d(m.key)})),[a,l,i,d,u]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{modalProps:{reactKeyPrefix:t+"-create-db-update-modal",maxWidth:"lg",onCloseModal:i,open:n,title:m.createDbUpdate,confirmBtnName:b.create},breakpoints:le.e,contextData:{controller:a,entityRelease:l,entityReleases:s},isConfirmDisabled:function(e){return!e.dbUpdate||!e.entityRelease||e.entityRelease.releaseNumber===m.releaseNumber},getColSpec:_e,createProps:{type:y.a.dbupdate},overrideGetData:p,overrideOnConfirm:O}))}var Re=a(7),je=a(130),Ne=a(154);function he(e,t,a,o){const r={reactKeyPrefix:e,disableUpdate:!0,fieldOptions:[{fieldName:"releaseNumber",formControlProps:{required:!0},textInputProps:{characterRequirements:{maxLength:Ne.a.entityrelease.releaseNumber.limit},onInputChange:a.bind(null,"releaseNumber")}}],object:new D.a(t),type:y.a.entityrelease,userLocale:o};return Object(ue.a)(r)}var ve=a(83),Le=a(176);var Ae=function(e,t,a,o){return new(a||(a=Promise))((function(r,n){function c(e){try{l(o.next(e))}catch(e){n(e)}}function i(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,i)}l((o=o.apply(e,t||[])).next())}))};const Ue=Object(ge.a)(e=>Object(Te.a)({helperText:{color:e.palette.error.main}}));function Me(e){const{reactKeyPrefix:t,openModal:a,i:n,onClose:c,callback:i}=e,{model:l,common:s}=n.getLanguageFile(),d=Ue({}),[m,b]=Object(o.useState)(),p=Object(o.useCallback)(e=>Ae(this,void 0,void 0,(function*(){const t=yield function(e){const t=v.a.get(ve.a.ITSModelApi),a=v.a.get(Re.a.Store),o=v.a.get(u.a.IInternationalization),{validation:r,model:n}=o.getLanguageFile(),{authdata:c=""}=Object(N.a)(a.getState()),i=["filter=releaseNumber(EQ)"+encodeURIComponent(e),"filter=entity(EQ)DbUpdate","filter=isObjectActive(IN)(true,false)","limit=1","pageNumber=1"].join("&");return t.getMultiple({authdata:c,type:y.a.entityrelease,query:i}).then(e=>{const t=r.alreadyExists(n.releaseNumber.toLocaleLowerCase());return Object(Le.a)(!e.length,t)}).catch(()=>Object(Le.a)(!1,r.loadingError))}(e),a=function(e){const t=v.a.get(u.a.IInternationalization),{validation:a}=t.getLanguageFile(),o=fe.a.RELEASE_NUMBER.test(String(e));return Object(Le.a)(o,a.releaseNumberIncorrect)}(e);b({releaseNumberValidationResult:a,releaseNumberAvailableResult:t})})),[]),O=Object(o.useCallback)((e,t,a)=>("releaseNumber"===t&&""!==a&&p(a),new y.a.entityrelease.class(Object.assign(Object.assign({},e),{[t]:a}))),[p]);return r.a.createElement(ie.a,{modalProps:{reactKeyPrefix:t+"create-release-db-modal",confirmBtnName:s.create,maxWidth:"xs",onCloseModal:()=>{b(void 0),c()},open:a,title:l.createRelease},breakpoints:le.e,getColSpec:he,propertiesToSet:{entity:"DbUpdate"},createProps:{callback:i,type:y.a.entityrelease},overrideUpdateEntity:O,childrenAtBottom:!0,contextData:m,isConfirmDisabled:e=>function(e,t){const{releaseNumber:a}=t;return!e||!(e.releaseNumberValidationResult.valid&&a&&e.releaseNumberAvailableResult.valid)}(m,e)},r.a.createElement(je.a,{className:d.helperText},m&&!m.releaseNumberAvailableResult.valid?m.releaseNumberAvailableResult.helperText:"",m&&!m.releaseNumberValidationResult.valid?m.releaseNumberValidationResult.helperText:""))}var ke=a(473),xe=a(114);function we(){var e,t,a;const O=Object(o.useMemo)(()=>window.location.hostname.includes(ne.a.DATA_REPO_URL,0),[]),C=null!==(e=Object(I.a)(N.a))&&void 0!==e?e:new h.a({}),[f,E]=Object(o.useState)([]),v={authorizationType:l.a.ROLE,authorizedRoles:[m.a.DATAREPO,m.a.DB_UPDATE_CONTRIBUTOR],behaviorOnAuthorizationFail:i.a.REDIRECT_NO_AUTHORIZATION};Object(c.b)(v);const[L,A,U,F]=Object(d.a)([u.a.IInternationalization,_.a.IDataRepoActionsController,_.a.IDbUpdateController,Re.a.ITSModelActionsAsync]),{model:q,common:K}=L.lang(),B=O?new D.a({releaseNumber:q.releaseNumber}):void 0,[z,Q]=Object(o.useState)(B),[V,H]=Object(o.useState)(!1),[Y,X]=Object(o.useState)(!1),W=Object(ae.g)(),Z=Object(ae.h)(),$=null!==(t=Object(I.a)(b.a.getFiltersByGroupCode,"DB_UPDATE_LIST_FILTER_GROUP_CODE"))&&void 0!==t?t:[],[J,ee]=Object(o.useState)(!1);Object(o.useMemo)(()=>{const e=$.find(e=>"releaseNumber"===e.field);if(e){const[t]=e.selectedObj;t!==z&&Q(t)}else Q(B)},[$]),Object(o.useEffect)(()=>{F.loadMultipleAction({type:y.a.entityrelease,query:"filter=entity(EQ)DbUpdate&sort=releaseNumber(ASI)",fields:{releaseNumber:"*"},callback:(e,t)=>{t&&E(t)}})},[F]);const ce=Object(o.useCallback)(e=>{e&&S.a.next()},[]),ie=Object(o.useMemo)(()=>!Object(j.c)([m.a.DATAREPO,m.a.DB_UPDATE_CONTRIBUTOR],C),[C]),le=Object(o.useMemo)(()=>{if((null==z?void 0:z.releaseNumber)===q.releaseNumber)return"filter=entityRelease.releaseNumber(EQ)"+q.releaseNumber},[z,q.releaseNumber]),se=Object(o.useCallback)(e=>{oe.a.openDrawer(e,re.a.dbUpdateDrawer,Z,W)},[W,Z]),de=null!==(a=Object(I.a)(R.a.getTSModelsBuilt,y.a.dbupdate,w.a,"DB_UPDATE_LIST_ID"))&&void 0!==a?a:[],ue=Object(o.useCallback)(()=>H(!V),[V]),me=Object(o.useMemo)(()=>[{disabled:!1,icon:G.a,label:q.dbUpdateResequence,onClick:ue,reactKeyPrefix:"doc-modules-dbupdate-list-page-resequence-dbUpdates"}],[q.dbUpdateResequence,ue]),be=Object(o.useMemo)(()=>[{onClick:()=>{X(!0)},text:q.createDbUpdate,disabled:ie&&O}],[ie,O,q.createDbUpdate]),pe=Object(o.useMemo)(()=>[{onClick:()=>ee(!0),text:K.createEntityRelease}],[K.createEntityRelease]),Oe=Object(o.useCallback)(()=>{Object(xe.a)(q.dbUpdatesRun,q.dbUpdatesAreYouSureToRun,K.run,K.cancel).then(e=>{e&&U.runDbUpdates()})},[q.dbUpdatesRun,q.dbUpdatesAreYouSureToRun,K.run,K.cancel,U]),ye=Object(o.useMemo)(()=>r.a.createElement(ke.a,{key:"doc-modules-dbupdate-list-page-run-db-updates-button",variant:"outlined",color:"primary",disabled:ie,onClick:Oe},q.dbUpdatesRun),[ie,q.dbUpdatesRun,Oe]);return r.a.createElement(n.a,{reactKeyPrefix:"doc-modules-dbupdate-list-page",createObject:O?be:void 0,secondaryActions:O?pe:void 0},Y&&O&&r.a.createElement(De,{reactKeyPrefix:"doc-modules-dbupdate-list-page",controller:A,open:Y,entityRelease:z,i:L,onClose:()=>X(!1),erList:f,onOpenDrawer:se,onRefreshList:ce}),J&&O&&r.a.createElement(Me,{reactKeyPrefix:"doc-modules-dbupdate-list-page",openModal:J,i:L,onClose:()=>ee(!1)}),r.a.createElement(P.a,{getColSpec:M,tsmodelType:y.a.dbupdate,quickFilters:O?r.a.createElement(x.a,{reactKeyPrefix:"doc-modules-dbupdate-list-page-version",configs:g("DB_UPDATE_LIST_FILTER_GROUP_CODE"),type:p.b.TYPEAHEAD,label:z?null==z?void 0:z.releaseNumber:q.releaseNumber,filterCode:"DB_UPDATE_LIST_FILTER_GROUP_CODEVERSION",clearOnMount:!1}):void 0,fields:w.b,quickFiltersGroupCode:"DB_UPDATE_LIST_FILTER_GROUP_CODE",listId:"DB_UPDATE_LIST_ID",reactKeyPrefix:"doc-modules-dbupdate-list-page-tsmodel-list",tableHeaders:k,defaultSorts:T,primaryActions:O?me:[],tableCustomisation:{responsive:!1,disableToolbar:!1},onClickItem:se,queryStr:O?le:void 0,topLeftElements:ye}),V&&O&&r.a.createElement(te,{reactKeyPrefix:"doc-modules-dbupdate-list-page",open:V,dbUpdates:de,onClose:ue,onResequence:ce}),r.a.createElement(s.a,null))}},1896:function(e,t,a){"use strict";a.d(t,"a",(function(){return je}));a(10),a(11);var o=a(0),r=a.n(o),n=a(97),c=a(15),i=a(80),l=a(61),s=a(73),d=a(76),u=a(65),m=a(6),b=a(1),p=a(7),O=a(41),y=a(27),C=a(3),f=a(87);const E=Object(f.a)(["charterer.businessPartnerName","coaDate","coaQuantity","coaStatus.statusTypeDesc","contractNo"]);var g=a(81),T=a(40),P=a(105),I=a(35),_=a(5),S=a(14),D=a(16),R=a(88);const j=new R.a,{model:N}=j.getLanguageFile(),{coa:h}=j.getLanguageFile(),v={charterer:{field:N.charterer,groupCode:"COA_LIST_SORT_GROUP_CODE",operator:D.b.ASC,queryParamName:"charterer%2B.businessPartnerName"},coaDate:{field:h.coaDate,groupCode:"COA_LIST_SORT_GROUP_CODE",operator:D.b.ASC,queryParamName:"coaDate"},coaNumber:{field:h.coaNumber,groupCode:"COA_LIST_SORT_GROUP_CODE",operator:D.b.ASC,queryParamName:"contractNo"},totalCoaQty:{field:h.totalCoaQty,groupCode:"COA_LIST_SORT_GROUP_CODE",operator:D.b.ASC,queryParamName:"coaQuantity"},commodity:{field:N.commodity,groupCode:"COA_LIST_SORT_GROUP_CODE",operator:D.b.ASC,queryParamName:"commodity%2B.commodityName"},coaStatus:{field:h.coaStatus,groupCode:"COA_LIST_SORT_GROUP_CODE",operator:D.b.ASC,queryParamName:"coaStatus%2B.statusTypeDesc"}},L=[{field:N.charterer,groupCode:"COA_LIST_SORT_GROUP_CODE",operator:D.b.ASC,queryParamName:"charterer%2B.businessPartnerName"},{field:h.coaDate,groupCode:"COA_LIST_SORT_GROUP_CODE",operator:D.b.ASC,queryParamName:"coaDate"}],A=S.a.get(C.a.IInternationalization),{model:U,common:M,coa:k}=A.getLanguageFile();function x(e){const t=Object(g.a)(e,"coaStatus.statusTypeDesc",M.na),a=Object(g.a)(e,"charterer.businessPartnerName",""),o=r.a.createElement(T.a,{label:t,priority:P.a.getStatusPriority(t,b.a.coa)});return[a,e.coaDate,e.contractNo,e.coaQuantity,{rawValue:t,content:o}]}const w=[{content:U.charterer,contentType:_.a.TEXT,sortConfig:v.charterer},{content:k.coaDate,contentType:_.a.DATE,sortConfig:v.coaDate,dateTimeFormatOptions:I.a.shortLocalizedDate},{content:k.coaNumber,contentType:_.a.TEXT,sortConfig:v.coaNumber},{content:k.totalCoaQty,contentType:_.a.NUMBER,sortConfig:v.totalCoaQty,numberFormatOptions:{maxDecimals:3,minDecimals:3}},{alignHeaderContent:_.c.LEFT,content:k.coaStatus,contentType:_.a.ELEMENT,sortConfig:v.coaStatus}];var F=a(46),G=a(51),q=a(64),K=a(74),B=a(257),z=a(334),Q=a(101),V=a(151),H=a(57),Y=a(70),X=a(19),W=a(168),Z=a(85),$=a(86),J=a(1383),ee=a(888),te=a(96),ae=a(28);const oe=(new R.a).getLanguageFile();var re=a(89),ne=a(273),ce=a(134),ie=a(148),le=a(353),se=a(240);function de(e){const{showDialog:t,closeDialog:a,openDrawer:n,reactKeyPrefix:c}=e,[i,l,s,d]=Object(m.a)([C.a.IInternationalization,p.a.Store,p.a.ISelectedCoaActions,p.a.ISimpleReducerActions]),[u,O]=Object(o.useState)(!1),{common:y,model:f}=i.getLanguageFile(),E=Object(ne.a)({companyRequired:!0,businessUnitRequired:!0}),T=Object(o.useCallback)((e,t)=>{t&&(d.setAction(se.a,t.key),n(t.key),l.dispatch(s.setAction(t.key)),F.a.next())},[n,s,d,l]);return r.a.createElement(G.a,{modalProps:{reactKeyPrefix:c,maxWidth:"md",onCloseModal:a,open:t,title:`${y.create} ${f.coa}`,confirmBtnName:y.create},getColSpec:(e,t,a,o)=>function(e,t,a,o,r,n){var c;const i=Array.isArray(t.coaLines)&&t.coaLines[0]?new B.a(t.coaLines[0]):new B.a({}),l=Array.isArray(i.cargos)&&i.cargos[0]?new K.a(i.cargos[0]):new K.a({}),{common:s}=n.getLanguageFile(),d=t.expiryDate&&t.commencementDate?Object(J.a)(t.expiryDate,t.commencementDate)||Object(ee.a)(t.expiryDate,t.commencementDate):void 0,u=oe.validation.expiryAfterCommencement,m=Object(g.a)(t,"coaLines",""),p=Object(g.a)(m[0],"cargos",""),O=Object(g.a)(p[0],"cargoPorts",""),y=Array.isArray(O)&&O.length>0?O[0]:new q.a({}),C=Array.isArray(O)&&O.length>0?O[1]:new q.a({}),f=null!==(c=null==r?void 0:r.filter(e=>{var a,o,r;return e.company===(null===(a=null==t?void 0:t.company)||void 0===a?void 0:a.key)&&e.businessUnit===(null!==(r=null===(o=null==t?void 0:t.businessUnit)||void 0===o?void 0:o.key)&&void 0!==r?r:void 0)})[0])&&void 0!==c?c:null,E=W.b.bind(null,t,b.a.coaline,"coaLines",a),T=W.b.bind(null,i,b.a.cargo,"cargos",E),P={disableUpdate:!0,fieldOptions:[{fieldName:"charterer",formControlProps:{required:!0},typeaheadProps:{shouldPreload:!0,objectPaths:$.b.businessPartner,query:te.b,fields:$.a.businessPartner},onUpdateOverride:a.bind(null,"charterer")},{fieldName:"contractNo",formControlProps:{required:!0},label:oe.coa.coaNumber,textInputProps:{validation:Y.b.ContractNo,letterCase:H.a.UPPERCASE,onInputChange:a.bind(null,"contractNo")}},{fieldName:"coaDate",formControlProps:{required:!0},dateInputProps:{validation:[{type:Z.a.DATE}]},onUpdateOverride:a.bind(null,"coaDate")},{fieldName:"commencementDate",formControlProps:{required:!0},formHelperText:d?u:void 0,dateInputProps:{validation:[{type:Z.a.DATE}],error:d},onUpdateOverride:a.bind(null,"commencementDate")},{fieldName:"expiryDate",formControlProps:{required:!0},formHelperText:d?u:void 0,dateInputProps:{validation:[{type:Z.a.DATE}],error:d},onUpdateOverride:a.bind(null,"expiryDate")},{fieldName:"commodity",overrideType:b.a.cargo,overrideObject:l,typeaheadProps:{shouldPreload:!0},onUpdateOverride:T.bind(null,"commodity")},{fieldName:"currency",formControlProps:{required:!0},onUpdateOverride:e=>a("currency",Array.isArray(e)&&e.length>0?e[0]:e),typeaheadProps:{objectPaths:["currencyCode"],shouldPreload:!0}},{fieldName:"company",formControlProps:{required:!0},label:s.companyBusinessUnit,typeaheadProps:{options:r,defaultSelectedOptions:f,resolver:e=>null==e?void 0:e.label},onUpdateOverride:a.bind(null,"companyBusinessUnit")},{fieldName:"charteringResponsible",formControlProps:{required:!0},label:oe.model.responsibleCharterer,onUpdateOverride:a.bind(null,"charteringResponsible")},{fieldName:"freightRate",numberInputProps:{onChange:a.bind(null,"firstDischargeCargoPortFreightRate"),maskSettings:ae.a.mask19},overrideType:b.a.cargoport,overrideObject:C},{fieldName:"port",formControlProps:{required:!0},label:oe.model.loadPort,overrideObject:y,overrideType:b.a.cargoport,typeaheadProps:{defaultSelectedOptions:y?y.port:void 0,query:te.d},onUpdateOverride:a.bind(null,"firstLoadCargoPort")},{fieldName:"port",formControlProps:{required:!0},label:oe.model.dischargePort,overrideObject:C,overrideType:b.a.cargoport,typeaheadProps:{defaultSelectedOptions:C?C.port:void 0,query:te.d},onUpdateOverride:a.bind(null,"firstDischargeCargoPort")},{fieldName:"coaQuantity",label:oe.coa.totalCoaQty,overrideType:b.a.coa,numberInputProps:{maskSettings:ae.a.mask1},onUpdateOverride:a.bind(null,"coaQuantity")}],object:new z.a(t),type:b.a.coa,userLocale:o,reactKeyPrefix:e};return Object(X.a)(P)}(e,t,a,o,null!=E?E:[],i),overrideUpdateEntity:(e,t,a,o)=>{const r=new z.a(e);if("firstLoadCargoPort"===t){Object(g.a)(ue(r),"[0]",new q.a({port:a})).port=a}else if("firstDischargeCargoPort"===t){Object(g.a)(ue(r),"[1]",new q.a({port:a})).port=a}else if("firstDischargeCargoPortFreightRate"===t){Object(g.a)(ue(r),"[1]",new q.a({port:a})).freightRate=a}else"companyBusinessUnit"===t?(r.company=a.company?new ce.a({key:a.company}):null,r.businessUnit=a.businessUnit?new ie.a({key:a.businessUnit}):null):("contractNo"===t&&"boolean"==typeof o&&O(o),r[t]=a);return r},propertiesToSet:be(),isConfirmDisabled:e=>{const t=Object(g.a)(e,"expiryDate",null),a=Object(g.a)(e,"commencementDate",null),o=!!t&&!!a&&(Object(J.a)(t,a)||Object(ee.a)(t,a));return function(e,t,a){var o;const{charterer:r,coaDate:n,contractNo:c,commencementDate:i,expiryDate:l,currency:s,businessUnit:d,company:u,charteringResponsible:m}=e,b=e.coaLines[0].cargos[0].cargoPorts[0].port,[,p]=e.coaLines[0].cargos[0].cargoPorts;return!(r&&n&&t&&c&&i&&l&&s&&d&&u&&m&&(null==b?void 0:b.key)&&(null===(o=p.port)||void 0===o?void 0:o.key)&&a)}(e,u,!o)},createProps:{callback:T,type:b.a.coa,fields:le.a},enableCopy:!1,overrideGetData:me})}function ue(e){const t=Object(g.a)(e,"coaLines",""),a=Object(g.a)(t[0],"cargos","");return Object(g.a)(a[0],"cargoPorts","")}function me(e){var t;const a=Object(re.a)(new z.a(e));a.coaStatus="DRA";for(const o of a.coaLines){if(Array.isArray(o.cargos))for(const r of o.cargos)r.freightCurrency=null!==(t=a.currency)&&void 0!==t?t:"USD",r.cargoMeasurement="MT",r.stowageUnit="MT",r.volumeMeasurement="CBM",r.weightMeasurement="MT",r.weightUnit="MT",r.isTemplate=!0,r.charterer=e.charterer.key;e.coaQuantity&&(o.cargoQuantity=e.coaQuantity)}return Array.isArray(Object(g.a)(a,"coaLines[0].cargos[0].cargoPorts"))&&(a.coaLines[0].cargos[0].cargoPorts[0].reasonForCall="L",a.coaLines[0].cargos[0].cargoPorts[1].reasonForCall="D",a.coaLines[0].terminationDate=a.expiryDate),a}function be(){const e=new Q.a({currencyCode:"USD"}),t=new V.a({measurementCode:"MT"}),a=new q.a({reasonForCall:{reasonForCall:"L"},cargoPortSequence:1}),o=new q.a({reasonForCall:{reasonForCall:"D"},cargoPortSequence:1}),r=new K.a({freightCurrency:e,cargoMeasurement:t,cargoPorts:[a,o]}),n=new B.a({cargos:[r]});return new z.a({coaLines:[n]})}var pe=a(33),Oe=a(95),ye=a(4),Ce=a(24);const fe=S.a.get(C.a.IInternationalization),{model:Ee,coa:ge}=fe.lang(),Te=e=>{const t={field:"charterer.key",filterGroupCode:e,operator:ye.c.IN,type:ye.d.STRING};return[{label:Ee.businessPartner,filterObjectValuePath:"key",typeaheadProps:{type:b.a.businesspartner,objectPaths:["businessPartnerName"],includeDisabledQuery:!0},filters:[t]}]},Pe=e=>{const t={field:"contractNo",filterGroupCode:e,operator:ye.c.IN,type:ye.d.STRING};return[{label:Ee.contractNo,filterObjectValuePath:"contractNo",typeaheadProps:{type:b.a.coa,objectPaths:["contractNo"],query:"filter=contractNo(NOTNULL)"},filters:[t]}]},Ie=e=>{const t={field:"coaLines.cargos.commodity.key",filterGroupCode:e,operator:ye.c.IN,type:ye.d.STRING};return[{label:Ee.commodity,filterObjectValuePath:"key",typeaheadProps:{type:b.a.commodity,objectPaths:["commodityName"],includeDisabledQuery:!0},filters:[t]}]},_e=e=>{const t={field:"coaStatus.statusTypeDesc",filterGroupCode:e,operator:ye.c.IN,type:ye.d.STRING};return[{label:ge.coaStatus,filterObjectValuePath:"statusTypeDesc",typeaheadProps:{type:b.a.statustype,objectPaths:["statusTypeDesc"],query:"filter=statusClass.statusClassCode(EQ)COA",itemsToShow:10},filters:[t]}]};function Se({reactKeyPrefix:e}){const t=S.a.get(C.a.IInternationalization),{model:a,coa:o}=t.lang();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce.a,{reactKeyPrefix:e+"-business-partner",configs:Te("COA_LIST_FILTER_GROUP_CODE"),type:ye.b.TYPEAHEAD,label:a.businessPartner,filterCode:"COA_LIST_FILTER_GROUP_CODE_BUSINESS_PARTNER",clearOnMount:!1}),r.a.createElement(Ce.a,{reactKeyPrefix:e+"-contract-no",configs:Pe("COA_LIST_FILTER_GROUP_CODE"),type:ye.b.TYPEAHEAD,label:a.contractNo,filterCode:"COA_LIST_FILTER_GROUP_CODE_CONTRACT_NO",clearOnMount:!1}),r.a.createElement(Ce.a,{reactKeyPrefix:e+"-commodity",configs:Ie("COA_LIST_FILTER_GROUP_CODE"),type:ye.b.TYPEAHEAD,label:a.commodity,filterCode:"COA_LIST_FILTER_GROUP_CODE_COMMODITY",clearOnMount:!1}),r.a.createElement(Ce.a,{reactKeyPrefix:e+"-coa-status",configs:_e("COA_LIST_FILTER_GROUP_CODE"),type:ye.b.TYPEAHEAD,label:o.coaStatus,filterCode:"COA_LIST_FILTER_GROUP_CODE_COA_STATUS",clearOnMount:!1}))}function De(e){const{deps:[t]}=e,{common:a,model:n}=t.getLanguageFile(),[d,u]=Object(o.useState)(!1),[m,p]=Object(o.useState)(!1),O=Object(o.useRef)(m),C=Object(o.useCallback)(t=>{y.a.openDrawer(t,c.a.coaDrawer,e.location,e.history)},[e.location,e.history]),f=Object(o.useCallback)(e=>{C(e)},[C]),g=Object(o.useCallback)(()=>u(!d),[d]);Object(o.useCallback)(()=>{p(!O.current)},[O,p]);Object(o.useEffect)(()=>{O.current=m},[m]);t.lang().common.bulkUpdate,Oe.a.COA_CONTRIBUTOR;const T=[{onClick:g,text:`${a.create} ${n.coa}`}];return r.a.createElement(s.a,{reactKeyPrefix:"doc-modules-coa-pages-page",createObject:T},r.a.createElement(l.a,{quickFilters:r.a.createElement(Se,{reactKeyPrefix:"doc-modules-coa-pages-quickfilter"}),quickFiltersGroupCode:"COA_LIST_FILTER_GROUP_CODE",getColSpec:x,onClickItem:f,reactKeyPrefix:"doc-modules-coa-pages-coa-list",listId:"COA_LIST",tsmodelType:b.a.coa,fields:E,sortOptions:Object.values(v),defaultSorts:L,appendKeySort:!0,tableHeaders:w,enableBulkUpdate:m,tableCustomisation:{disableCardSorting:!0,disableSorting:!1}}),d&&r.a.createElement(de,{reactKeyPrefix:"doc-modules-coa-pages-create-coa",showDialog:d,closeDialog:g,openDrawer:C}),r.a.createElement(i.a,null))}const Re={authorizationType:O.a.PERMISSION,authorizedPermissions:pe.a.coa.authorizedPermissions,behaviorOnAuthorizationFail:u.a.REDIRECT_NO_AUTHORIZATION},je=Object(d.a)(Re,Object(m.b)([C.a.IInternationalization,p.a.ISimpleReducerActions],Object(n.k)(Object(o.memo)(De))))},1956:function(e,t,a){"use strict";a.d(t,"a",(function(){return Q}));a(10),a(11);var o=a(0),r=a.n(o),n=a(97),c=a(5),i=a(3),l=a(35),s=a(1325),d=a(14);const u=d.a.get(i.a.IInternationalization),{model:m,common:b}=u.getLanguageFile(),p=[{content:m.percentage,contentType:c.a.NUMBER},{content:b.fromDate,contentType:c.a.DATE,dateTimeFormatOptions:l.a.shortLocalizedDate},{content:m.withinEUEEA,contentType:c.a.ELEMENT}];var O=a(67),y=a(73),C=a(80),f=a(578),E=a(6),g=a(1),T=a(7),P=a(21),I=a(2035),_=a(46),S=a(100),D=a.n(S),R=a(15),j=a(27),N=a(23),h=a(42),v=a(33),L=a(41),A=a(65),U=a(76);const M=d.a.get(i.a.IInternationalization),{model:k,common:x}=M.getLanguageFile();const w=[{content:k.percentage,contentType:c.a.NUMBER},{content:x.year,contentType:c.a.TEXT}];var F=a(1073);const G={authorizationType:L.a.PERMISSION,authorizedPermissions:v.a.euEtsCompliance.authorizedPermissions,behaviorOnAuthorizationFail:A.a.REDIRECT_NO_AUTHORIZATION};function q({reactKeyPrefix:e,userLocale:t,phaseInPercentages:a,i:c,onToggle:i}){Object(U.b)(G);const{common:l,model:s}=c.getLanguageFile(),d=Object(n.g)(),u=Object(n.h)(),m=Object(o.useMemo)(()=>a?a.map(e=>function(e){const{key:t,percentage:a,year:o}=e;return{content:[a,o],id:t}}(null!=e?e:new F.a({}))):[],[a]),b=[{disabled:!1,icon:D.a,iconButtonProps:{color:"primary","aria-label":l.create},label:l.create,onClick:()=>{i()},reactKeyPrefix:e+"-create-button-action"}],p=Object(o.useCallback)(e=>j.a.openDrawer(e,R.a.phaseInPercentageDrawer,u,d),[u,d]);return r.a.createElement(O.a,{title:s.phaseInList,reactKeyPrefix:e,userLocale:t,primaryActions:b,data:m,headers:w,onRowClick:p,pagination:{enabled:!0,rowsPerPage:[5]},customisation:{responsive:!0}})}var K=a(582),B=a(202),z=a(2036);const Q=({reactKeyPrefix:e})=>{var t,a;const c=Object(n.g)(),l=Object(n.h)(),[d,u]=Object(E.a)([i.a.IInternationalization,T.a.ITSModelActions]),[m,b]=Object(o.useState)(!1),S=Object(o.useCallback)(()=>b(!m),[m]),v=Object(o.useCallback)((e,t)=>{t&&_.a.next()},[]);Object(o.useEffect)(()=>{u.loadMultipleAction({fields:f.a,type:g.a.compliancepercentage}),u.loadMultipleAction({fields:K.a,type:g.a.phaseinpercentage})},[u]);const L=null!==(t=Object(N.a)(P.a.getTSModelsBuilt,g.a.compliancepercentage,f.a))&&void 0!==t?t:[],{model:A,common:U}=d.getLanguageFile(),M=null!==(a=Object(N.a)(P.a.getTSModelsBuilt,g.a.phaseinpercentage,K.a))&&void 0!==a?a:[],k=Object(o.useMemo)(()=>p,[]),x=Object(N.a)(h.a.getUserLocale),w=Object(o.useMemo)(()=>L.map(e=>(e=>{const{key:t,fromDate:a,isInsideEu:o,percentage:n}=e;return{content:[n,a,{rawValue:o,content:r.a.createElement(s.a,{checked:o,color:"primary",disabled:!0})}],id:t}})(e)),[L]),[F,G]=Object(o.useState)(!1),Q=Object(o.useCallback)(()=>G(!F),[F]),V=Object(o.useCallback)((e,t)=>{t&&_.a.next()},[]),H=[{disabled:!1,icon:D.a,iconButtonProps:{color:"primary","aria-label":U.create},label:U.create,onClick:()=>{Q()},reactKeyPrefix:e+"-create-button-action"}],Y=Object(o.useCallback)(e=>j.a.openDrawer(e,R.a.complianceDrawer,l,c),[l,c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{reactKeyPrefix:e+"-page"},r.a.createElement(C.a,null),r.a.createElement(I.a,{reactKeyPrefix:e,showModal:F,closeModal:Q,onCreate:V}),r.a.createElement(O.a,{title:A.complianceList,userLocale:x,primaryActions:H,headers:k,data:w,reactKeyPrefix:e+"-compliance-percentage-table",pagination:{enabled:!0,rowsPerPage:[5]},customisation:{responsive:!0},onRowClick:Y}),r.a.createElement(B.a,null),r.a.createElement(z.a,{reactKeyPrefix:e,showModal:m,closeModal:S,onCreate:v}),r.a.createElement(q,{reactKeyPrefix:e+"-phase-in-period-list",userLocale:x,onToggle:S,phaseInPercentages:M,i:d})))}},1970:function(e,t,a){"use strict";a.d(t,"a",(function(){return z}));a(10),a(11);var o=a(0),r=a.n(o),n=a(73),c=a(61),i=a(1),l=a(24),s=a(14),d=a(4),u=a(16),m=a(3);const b=s.a.get(m.a.IInternationalization),{model:p,common:O}=b.getLanguageFile(),y=[{field:p.name,groupCode:"COMMODITIES_LIST_SORT_GROUP_CODE",operator:u.b.ASC,queryParamName:"commodityName"}],C=[{field:p.name,groupCode:"COMMODITIES_LIST_SORT_GROUP_CODE",operator:u.b.ASC,queryParamName:"commodityName"},{field:O.code,groupCode:"COMMODITIES_LIST_SORT_GROUP_CODE",operator:u.b.ASC,queryParamName:"commodityCode"}],f=[{label:"",filters:[{field:"isObjectActive",filterGroupCode:"COMMODITIES_LIST_FILTER_GROUP_CODE",operator:d.c.NOT_EQUALS,queryParamName:"isObjectActive",type:d.d.BOOLEAN,value:"true"}]}],E=[{label:"",filterObjectValuePath:"key",typeaheadProps:{type:i.a.commodity,objectPaths:["commodityName"],includeDisabledQuery:!0},filters:[{field:"key",filterGroupCode:"COMMODITIES_LIST_FILTER_GROUP_CODE",operator:d.c.IN,type:d.d.STRING}]}];a(93);var g=a(5);const T=s.a.get(m.a.IInternationalization),{model:P,common:I}=T.getLanguageFile(),_=e=>[e.commodityName,e.commodityDesc,e.commodityCode],S=[{content:P.name,contentType:g.a.TEXT},{content:I.description,contentType:g.a.TEXT},{content:I.code,contentType:g.a.TEXT}];var D=a(294),R=a(6),j=a(46),N=a(2019),h=a(80),v=a(97),L=a(15),A=a(27),U=a(32),M=a(66),k=a(30),x=a(76),w=a(65),F=a(41),G=a(23),q=a(43),K=a(33);const B={authorizationType:F.a.PERMISSION,authorizedPermissions:K.a.commodities.authorizedPermissions,behaviorOnAuthorizationFail:w.a.REDIRECT_NO_AUTHORIZATION},z=()=>{var e;Object(x.b)(B);const[t,a]=Object(o.useState)(!1),s=Object(o.useCallback)(()=>a(!t),[t]),[u]=Object(R.a)([m.a.IInternationalization]),b=null!==(e=Object(G.a)(U.a))&&void 0!==e?e:new q.a({}),g=[{onClick:s,text:u.lang().common.createCommodity,disabled:!Object(M.a)([k.a.CommodityPOST],b)}],T=Object(v.g)(),P=Object(v.h)(),I=Object(o.useCallback)((e,t)=>{t&&(A.a.openDrawer(t.key,L.a.commodityDrawer,P,T),j.a.next())},[T,P]),w=Object(o.useCallback)(e=>{A.a.openDrawer(e,L.a.commodityDrawer,P,T)},[T,P]);return r.a.createElement(n.a,{reactKeyPrefix:"doc-modules-commodities-page",createObject:g},t&&r.a.createElement(N.a,{reactKeyPrefix:"doc-modules-commodities-create",showModal:t,closeModal:s,onCreate:I}),r.a.createElement(c.a,{fields:D.b,listId:"COMMODITIES_LIST_ID",reactKeyPrefix:"doc-modules-commodities-list",defaultSorts:y,sortOptions:C,tsmodelType:i.a.commodity,getColSpec:_,tableHeaders:S,quickFilters:(F="doc-modules-commodities",r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{reactKeyPrefix:F+"COMMODITIES_LIST_FILTER_GROUP_CODE_NAME",configs:E,type:d.b.TYPEAHEAD,label:p.name,filterCode:"COMMODITIES_LIST_FILTER_GROUP_CODE_NAME"}),r.a.createElement(l.a,{reactKeyPrefix:F+"COMMODITIES_LIST_FILTER_GROUP_CODE_DISABLED",configs:f,type:d.b.BOOLEAN,label:O.disabled,filterCode:"COMMODITIES_LIST_FILTER_GROUP_CODE_DISABLED"}))),quickFiltersGroupCode:"COMMODITIES_LIST_FILTER_GROUP_CODE",onClickItem:w}),r.a.createElement(h.a,null));var F}},1971:function(e,t,a){"use strict";a.d(t,"a",(function(){return G}));a(10),a(11);var o=a(0),r=a.n(o),n=a(73),c=a(61),i=a(1),l=a(80),s=(a(93),a(14)),d=a(3),u=a(5);const m=s.a.get(d.a.IInternationalization),{common:b}=m.getLanguageFile(),p=e=>[e.commodityGroupDesc,e.commodityGroupCode],O=[{content:b.description,contentType:u.a.TEXT},{content:b.code,contentType:u.a.TEXT}];var y=a(24),C=a(4),f=a(16);const E=s.a.get(d.a.IInternationalization),{common:g}=E.getLanguageFile(),T=[{field:g.description,groupCode:"COMMODITY_GROUPS_LIST_SORT_GROUP_CODE",operator:f.b.ASC,queryParamName:"commodityGroupDesc"}],P=[{label:g.disabled,filters:[{field:"isObjectActive",filterGroupCode:"COMMODITY_GROUPS_LIST_FILTER_GROUP_CODE",operator:C.c.NOT_EQUALS,queryParamName:"isObjectActive",type:C.d.BOOLEAN,value:!0}]}];var I=a(529),_=a(27),S=a(15),D=a(97),R=a(65),j=a(41),N=a(33),h=a(76),v=a(66),L=a(30),A=a(6),U=a(23),M=a(32),k=a(43),x=a(46),w=a(2020);const F={authorizationType:j.a.PERMISSION,authorizedPermissions:N.a.commodityGroups.authorizedPermissions,behaviorOnAuthorizationFail:R.a.REDIRECT_NO_AUTHORIZATION},G=()=>{var e;Object(h.b)(F);const[t]=Object(A.a)([d.a.IInternationalization]),[a,s]=Object(o.useState)(!1),u=null!==(e=Object(U.a)(M.a))&&void 0!==e?e:new k.a({}),m=Object(D.g)(),b=Object(D.h)(),f=Object(o.useCallback)(()=>s(!a),[a]),E=[{onClick:f,text:t.lang().common.createCommodityGroup,disabled:!Object(v.a)([L.a.CommodityGroupPOST],u)}],R=Object(o.useCallback)((e,t)=>{t&&(_.a.openDrawer(t.key,S.a.commodityGroupDrawer,b,m),x.a.next())},[m,b]),j=Object(o.useCallback)(e=>{_.a.openDrawer(e,S.a.commodityGroupDrawer,b,m)},[m,b]);return r.a.createElement(n.a,{reactKeyPrefix:"doc-modules-commodity-groups-page",createObject:E},a&&r.a.createElement(w.a,{reactKeyPrefix:"doc-modules-commodity-groups-create",showModal:a,closeModal:f,onCreate:R}),r.a.createElement(c.a,{fields:I.b,listId:"COMMODITY_GROUPS_LIST_ID",reactKeyPrefix:"doc-modules-commodity-groups-list",defaultSorts:T,tsmodelType:i.a.commoditygroup,getColSpec:p,tableHeaders:O,quickFilters:(N="doc-modules-commodity-groups",r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{reactKeyPrefix:N+"-quick-filter-disabled",configs:P,type:C.b.BOOLEAN,label:g.disabled,filterCode:"COMMODITY_GROUPS_LIST_FILTER_GROUP_CODE_DISABLED"}))),quickFiltersGroupCode:"COMMODITY_GROUPS_LIST_FILTER_GROUP_CODE",onClickItem:j}),r.a.createElement(l.a,null));var N}},1972:function(e,t,a){"use strict";a.d(t,"a",(function(){return G}));a(10),a(11);var o=a(0),r=a.n(o),n=a(73),c=a(61),i=a(1),l=(a(93),a(14)),s=a(3),d=a(5);const u=l.a.get(s.a.IInternationalization),{common:m}=u.getLanguageFile(),b=e=>[e.commodityClassDesc,e.commodityClassCode],p=[{content:m.description,contentType:d.a.TEXT},{content:m.code,contentType:d.a.TEXT}];var O=a(816),y=a(24),C=a(4),f=a(16);const E=l.a.get(s.a.IInternationalization),{common:g}=E.getLanguageFile(),T=[{field:g.description,groupCode:"COMMODITY_CLASSES_LIST_SORT_GROUP_CODE",operator:f.b.ASC,queryParamName:"commodityClassDesc"}],P=[{label:g.disabled,filters:[{field:"isObjectActive",filterGroupCode:"COMMODITY_CLASSES_LIST_FILTER_GROUP_CODE",operator:C.c.NOT_EQUALS,queryParamName:"isObjectActive",type:C.d.BOOLEAN,value:!0}]}];var I=a(76),_=a(65),S=a(41),D=a(33),R=a(6),j=a(2021),N=a(46),h=a(23),v=a(32),L=a(43),A=a(66),U=a(30),M=a(27),k=a(15),x=a(97),w=a(80);const F={authorizationType:S.a.PERMISSION,authorizedPermissions:D.a.commodityClasses.authorizedPermissions,behaviorOnAuthorizationFail:_.a.REDIRECT_NO_AUTHORIZATION},G=()=>{var e;Object(I.b)(F);const[t]=Object(R.a)([s.a.IInternationalization]),a=Object(x.g)(),l=Object(x.h)(),[d,u]=Object(o.useState)(!1),m=null!==(e=Object(h.a)(v.a))&&void 0!==e?e:new L.a({}),f=Object(o.useCallback)(()=>u(!d),[d]),E=[{onClick:f,text:t.lang().common.createCommodityClass,disabled:!Object(A.a)([U.a.CommodityClassPOST],m)}],_=Object(o.useCallback)((e,t)=>{t&&(M.a.openDrawer(t.key,k.a.commodityClassDrawer,l,a),N.a.next())},[a,l]),S=Object(o.useCallback)(e=>{M.a.openDrawer(e,k.a.commodityClassDrawer,l,a)},[a,l]);return r.a.createElement(n.a,{reactKeyPrefix:"doc-modules-commodity-classes-page",createObject:E},d&&r.a.createElement(j.a,{reactKeyPrefix:"doc-modules-commodity-classes-create",showModal:d,closeModal:f,onCreate:_}),r.a.createElement(c.a,{fields:O.b,listId:"COMMODITY_CLASSES_LIST_ID",reactKeyPrefix:"doc-modules-commodity-classes-list",tsmodelType:i.a.commodityclass,tableHeaders:p,defaultSorts:T,getColSpec:b,quickFilters:(D="doc-modules-commodity-classes",r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{reactKeyPrefix:D+"COMMODITY_CLASSES_LIST_FILTER_GROUP_CODE_DISABLED",configs:P,type:C.b.BOOLEAN,label:g.disabled,filterCode:"COMMODITY_CLASSES_LIST_FILTER_GROUP_CODE_DISABLED"}))),quickFiltersGroupCode:"COMMODITY_CLASSES_LIST_FILTER_GROUP_CODE",onClickItem:S}),r.a.createElement(w.a,null));var D}},1973:function(e,t,a){"use strict";a.d(t,"a",(function(){return V}));a(10),a(11);var o=a(0),r=a.n(o),n=a(73),c=a(61),i=a(1),l=a(24),s=a(14),d=a(4),u=a(16),m=a(3);const b=s.a.get(m.a.IInternationalization),{model:p,common:O}=b.getLanguageFile(),y=[{field:p.name,groupCode:"COMPANIES_LIST_SORT_GROUP_CODE",operator:u.b.ASC,queryParamName:"companyName"}],C=[{field:p.name,groupCode:"COMPANIES_LIST_SORT_GROUP_CODE",operator:u.b.ASC,queryParamName:"companyName"},{field:O.code,groupCode:"COMPANIES_LIST_SORT_GROUP_CODE",operator:u.b.ASC,queryParamName:"companyCode"}],f=[{label:"",filters:[{field:"isObjectActive",filterGroupCode:"COMPANIES_LIST_FILTER_GROUP_CODE",operator:d.c.NOT_EQUALS,queryParamName:"isObjectActive",type:d.d.BOOLEAN,value:!0}]}],E=[{label:p.name,filterObjectValuePath:"key",typeaheadProps:{type:i.a.company,objectPaths:["companyName"],includeDisabledQuery:!0},filters:[{field:"key",filterGroupCode:"COMPANIES_LIST_FILTER_GROUP_CODE",operator:d.c.IN,type:d.d.STRING}]}],g=[{label:O.code,filterObjectValuePath:"key",typeaheadProps:{type:i.a.company,objectPaths:["companyCode"],includeDisabledQuery:!0},filters:[{field:"key",filterGroupCode:"COMPANIES_LIST_FILTER_GROUP_CODE",operator:d.c.IN,type:d.d.STRING}]}],T=({reactKeyPrefix:e})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{reactKeyPrefix:e+"-company-name",configs:E,type:d.b.TYPEAHEAD,label:p.name,filterCode:"COMPANIES_LIST_FILTER_GROUP_CODE_COMPANY_NAME"}),r.a.createElement(l.a,{reactKeyPrefix:e+"-company-code",configs:g,type:d.b.TYPEAHEAD,label:O.code,filterCode:"COMPANIES_LIST_FILTER_GROUP_CODE_COMPANY_CODE"}),r.a.createElement(l.a,{reactKeyPrefix:e+"-disabled",configs:f,type:d.b.BOOLEAN,label:O.disabled,filterCode:"COMPANIES_LIST_FILTER_GROUP_CODE_DISABLED"}));var P=a(5);const I=s.a.get(m.a.IInternationalization),{model:_,common:S}=I.getLanguageFile(),D=({companyName:e,companyCode:t})=>[e,t],R=[{content:_.name,contentType:P.a.TEXT},{content:S.code,contentType:P.a.TEXT}];var j=a(1845),N=a(6),h=a(46),v=a(2022),L=a(80),A=a(97),U=a(15),M=a(27),k=a(32),x=a(66),w=a(30),F=a(76),G=a(65),q=a(41),K=a(23),B=a(43),z=a(33);const Q={authorizationType:q.a.PERMISSION,authorizedPermissions:z.a.companies.authorizedPermissions,behaviorOnAuthorizationFail:G.a.REDIRECT_NO_AUTHORIZATION},V=()=>{var e;Object(F.b)(Q);const[t,a]=Object(o.useState)(!1),l=Object(o.useCallback)(()=>a(!t),[t]),[s]=Object(N.a)([m.a.IInternationalization]),d=null!==(e=Object(K.a)(k.a))&&void 0!==e?e:new B.a({}),u=[{onClick:l,text:s.lang().common.createCompany,disabled:!Object(x.a)([w.a.CompanyPOST],d)}],b=Object(A.g)(),p=Object(A.h)(),O=Object(o.useCallback)((e,t)=>{t&&(M.a.openDrawer(t.key,U.a.companyDrawer,p,b),h.a.next())},[b,p]),f=Object(o.useCallback)(e=>{M.a.openDrawer(e,U.a.companyDrawer,p,b)},[b,p]);return r.a.createElement(n.a,{reactKeyPrefix:"doc-modules-companies-page",createObject:u},t&&r.a.createElement(v.a,{reactKeyPrefix:"doc-modules-companies-create",showModal:t,closeModal:l,onCreate:O}),r.a.createElement(c.a,{fields:j.a,listId:"COMPANIES_LIST_ID",reactKeyPrefix:"doc-modules-companies-list",defaultSorts:y,sortOptions:C,tsmodelType:i.a.company,getColSpec:D,tableHeaders:R,quickFilters:r.a.createElement(T,{reactKeyPrefix:"doc-modules-companies-quick-filters"}),quickFiltersGroupCode:"COMPANIES_LIST_FILTER_GROUP_CODE",onClickItem:f}),r.a.createElement(L.a,null))}}}]);
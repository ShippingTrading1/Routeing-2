(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1186:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={isObjectActive:"*",tcTypeCode:"*",tcTypeDesc:"*"}},1202:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={timezoneName:"*",isObjectActive:"*",tzPeriods:{fromDate:"*",toDate:"*",tzPeriodName:"*",isDst:"*",offset:"*"}}},1661:function(e,t,a){"use strict";a.d(t,"a",(function(){return T}));a(59);var n,o,r,c=a(9),i=a(220),l=a(1421),s=a(90),d=a(449),u=a(3),m=a(7),p=a(31),b=a(32),y=a(104),f=a(83),v=a(1),O=function(e,t,a,n){var o,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,a,c):o(t,a))||c);return r>3&&c&&Object.defineProperty(t,a,c),c},P=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},j=function(e,t){return function(a,n){t(a,n,e)}},g=function(e,t,a,n){return new(a||(a=Promise))((function(o,r){function c(e){try{l(n.next(e))}catch(e){r(e)}}function i(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,i)}l((n=n.apply(e,t||[])).next())}))};let T=class{constructor(e,t,a){this.http=e,this.store=t,this.tsmodelApi=a}onChange(e,t,a,n,o,r){return"tcRateStartDate"===t&&"M"!==n.tcDurationTimeUnit?l.a.calculateTcRateDuration(new i.a(e),a,n,o,r):"tcRateDuration"===t?l.a.calculateTcRateStartDate(new i.a(e),a,n,o,r):new i.a(Object.assign(Object.assign({},e),{[t]:a}))}loadFirstVoyageTcIn(e){return g(this,void 0,void 0,(function*(){const{authdata:t=""}=Object(b.a)(this.store.getState()),a=Object(d.a)(1,1);return this.tsmodelApi.getMultiple({query:`filter=voyage.tcIn(EQ)${e.key}&sort=sequence(DS)&${a}`,fields:{voyage:{voyageStartDateGMT:"*"}},authdata:t,type:v.a.fleetplanvoyage}).then(e=>e.length>0?e[0]:null).catch(()=>null)}))}};T=O([Object(c.injectable)(),j(0,Object(c.inject)(u.a.IHttp)),j(1,Object(c.inject)(m.a.Store)),j(2,Object(c.inject)(f.a.ITSModelApi)),P("design:paramtypes",["function"==typeof(n=void 0!==s.IHttp&&s.IHttp)?n:Object,"function"==typeof(o=void 0!==p.Store&&p.Store)?o:Object,"function"==typeof(r=void 0!==y.ITSModelApi&&y.ITSModelApi)?r:Object])],T)},1666:function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));a(59),a(109),a(163);var n,o,r,c,i=a(9),l=a(29),s=a(7),d=a(820),u=a(1),m=a(48),p=a(32),b=a(3),y=a(90),f=a(31),v=a(528),O=a(21),P=a(983),j=a(131),g=a(352),T=a(496),k=function(e,t,a,n){var o,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,a,c):o(t,a))||c);return r>3&&c&&Object.defineProperty(t,a,c),c},D=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},N=function(e,t){return function(a,n){t(a,n,e)}},C=function(e,t,a,n){return new(a||(a=Promise))((function(o,r){function c(e){try{l(n.next(e))}catch(e){r(e)}}function i(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,i)}l((n=n.apply(e,t||[])).next())}))};let h=class{constructor(e,t,a,n){this.store=e,this.selectedTSModelActions=t,this.tsmodelActions=a,this.http=n}loadTc(e){this.tsmodelActions.loadSingleAction({fields:g.a,key:e,type:u.a.tc,callback:(e,t)=>{!e&&t&&this.selectedTSModelActions.setAction(u.a.tc,t.key)}})}loadCommissions(e,t){this.tsmodelActions.loadSingleAction({fields:d.a,key:e,type:u.a.tc,callback:t})}printSoa(e,t,a,n){var o,r;return C(this,void 0,void 0,(function*(){const{authdata:c}=Object(p.a)(this.store.getState()),i=yield this.http.get(`${m.a.API_BASE_URL}/Report/generateSOA/Tc/${e.key}?out=${t}&currencyCode=${a}&companyId=${null===(o=e.company)||void 0===o?void 0:o.key}${n?"&title="+n:""}`,{headers:new Headers({authorization:null!=c?c:""})}),l=t?e.charterer:e.owner;Object(v.a)("SOA_"+(null!==(r=null==l?void 0:l.businessPartnerName)&&void 0!==r?r:"").replace(" ","_"),yield i.text())}))}getDocumentCurrencies(e,t){const a=["filter=documentLines.tc.key(EQ)"+e,"filter=documentType.documentType(IN)(INO,INI,CRI,CRO)"].join("&");this.tsmodelActions.loadMultipleAction({type:u.a.document,fields:{documentCurrency:{currencyCode:"*"}},query:a,identifier:"SOA_TC_DOCUMENTS",overwriteKeysOnLoad:!0,callback:e=>{if(!e&&t){const e=O.a.getTSModelsBuilt(this.store.getState(),u.a.document,{documentCurrency:{currencyCode:"*"}},"SOA_TC_DOCUMENTS");t(Object(P.a)(e.map(e=>{var t;return null===(t=e.documentCurrency)||void 0===t?void 0:t.currencyCode})))}}})}updateTc(e,t){return this.tsmodelActions.updateSingleAction({data:t,key:e,type:u.a.tc,headers:Object.assign({},j.a.smartJson)})}};h=k([Object(i.injectable)(),N(0,Object(i.inject)(s.a.Store)),N(1,Object(i.inject)(s.a.ISelectedTSModelActions)),N(2,Object(i.inject)(s.a.ITSModelActionsAsync)),N(3,Object(i.inject)(b.a.IHttp)),D("design:paramtypes",["function"==typeof(n=void 0!==f.Store&&f.Store)?n:Object,"function"==typeof(o=void 0!==T.ISelectedTSModelReducerActions&&T.ISelectedTSModelReducerActions)?o:Object,"function"==typeof(r=void 0!==l.ITSModelActionsAsync&&l.ITSModelActionsAsync)?r:Object,"function"==typeof(c=void 0!==y.IHttp&&y.IHttp)?c:Object])],h)},1667:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n,o,r=a(9),c=a(31),i=a(1),l=a(29),s=a(7),d=a(1186),u=function(e,t,a,n){var o,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,a,c):o(t,a))||c);return r>3&&c&&Object.defineProperty(t,a,c),c},m=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e,t){return function(a,n){t(a,n,e)}};let b=class{constructor(e,t){this.store=e,this.tsmodelActions=t}loadTcTypeOverview(e){this.tsmodelActions.loadSingleAction({fields:d.a,key:e,type:i.a.tctype})}};b=u([Object(r.injectable)(),p(0,Object(r.inject)(s.a.Store)),p(1,Object(r.inject)(s.a.ITSModelActionsAsync)),m("design:paramtypes",["function"==typeof(n=void 0!==c.Store&&c.Store)?n:Object,"function"==typeof(o=void 0!==l.ITSModelActionsAsync&&l.ITSModelActionsAsync)?o:Object])],b)},1689:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n,o,r=a(9),c=a(31),i=a(540),l=a(1),s=a(29),d=a(7),u=function(e,t,a,n){var o,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,a,c):o(t,a))||c);return r>3&&c&&Object.defineProperty(t,a,c),c},m=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e,t){return function(a,n){t(a,n,e)}};let b=class{constructor(e,t){this.store=e,this.tsmodelActions=t}loadTradeOverview(e){this.tsmodelActions.loadSingleAction({fields:i.a,key:e,type:l.a.leg})}loadTradePatterns(e){this.tsmodelActions.loadSingleAction({fields:{patterns:i.b},key:e,type:l.a.leg})}};b=u([Object(r.injectable)(),p(0,Object(r.inject)(d.a.Store)),p(1,Object(r.inject)(d.a.ITSModelActionsAsync)),m("design:paramtypes",["function"==typeof(n=void 0!==c.Store&&c.Store)?n:Object,"function"==typeof(o=void 0!==s.ITSModelActionsAsync&&s.ITSModelActionsAsync)?o:Object])],b)},1724:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));a(59);var n,o=a(9),r=a(1),c=a(29),i=a(7),l=a(1202),s=function(e,t,a,n){var o,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,a,c):o(t,a))||c);return r>3&&c&&Object.defineProperty(t,a,c),c},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t){return function(a,n){t(a,n,e)}};let m=class{constructor(e){this.tsmodelActions=e}update(e,t,a){return e?this.tsmodelActions.updateSingleAction({callback:a,key:e,data:t,type:r.a.timezone}):Promise.reject()}loadTimezone(e){this.tsmodelActions.loadSingleAction({fields:l.a,key:e,type:r.a.timezone})}};m=s([Object(o.injectable)(),u(0,Object(o.inject)(i.a.ITSModelActionsAsync)),d("design:paramtypes",["function"==typeof(n=void 0!==c.ITSModelActionsAsync&&c.ITSModelActionsAsync)?n:Object])],m)},1728:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n,o=a(9),r=a(1),c=a(29),i=a(7),l=a(581),s=function(e,t,a,n){var o,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,a,n);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,a,c):o(t,a))||c);return r>3&&c&&Object.defineProperty(t,a,c),c},d=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t){return function(a,n){t(a,n,e)}};let m=class{constructor(e){this.tsmodelActions=e}update(e,t){this.tsmodelActions.updateSingleAction({key:e,data:t,type:r.a.terminal,fields:l.a})}};m=s([Object(o.injectable)(),u(0,Object(o.inject)(i.a.ITSModelActionsAsync)),d("design:paramtypes",["function"==typeof(n=void 0!==c.ITSModelActionsAsync&&c.ITSModelActionsAsync)?n:Object])],m)},1873:function(e,t,a){"use strict";a.d(t,"a",(function(){return Fe}));a(10),a(11);var n=a(0),o=a.n(n),r=a(97),c=a(114),i=a(6),l=a(23),s=a(172),d=a(1),u=a(21),m=a(42),p=a(7),b=a(35),y=a(3),f=a(82),v=a(15),O=a(19),P=a(63),j=a(85),g=a(86),T=a(96),k=a(30),D=a(27),N=a(12),C=a(28);function h(e,t,a,n,o,r){var c,l,s,u,m,p,b,f,h,R,I,S,w,A,x,E,M,U,L;const[K]=Object(i.a)([y.a.IInternationalization]),{alerts:q,common:B,model:z}=K.getLanguageFile(),F=K.getLanguageFile().tc,_=null===(s=null===(l=null===(c=t.voyages[0])||void 0===c?void 0:c.voyageHeader)||void 0===l?void 0:l.voyageStatus)||void 0===s?void 0:s.statusTypeCode,H=!_||!["EST","SCU","SCH"].includes(_),G=null!==(u=null==r?void 0:r.find(e=>{var a,n,o,r;return e.company===(null!==(n=null===(a=null==t?void 0:t.company)||void 0===a?void 0:a.key)&&void 0!==n?n:void 0)&&e.businessUnit===(null!==(r=null===(o=null==t?void 0:t.businessUnit)||void 0===o?void 0:o.key)&&void 0!==r?r:void 0)}))&&void 0!==u?u:null,V=[{fieldName:"company",formControlProps:{required:!1},label:B.companyBusinessUnit,openObject:{permissions:[k.a.CompanyGET],onOpen:D.a.openDrawer.bind(null,null!==(p=null===(m=t.company)||void 0===m?void 0:m.key)&&void 0!==p?p:-1,v.a.companyDrawer)},typeaheadProps:{options:null!=r?r:[],defaultSelectedOptions:G,resolver:e=>null==e?void 0:e.label},breakpoints:N.i,onUpdateOverride:o.bind(null,"companyBusinessUnit")},{fieldName:"charterer",label:z.charterer,typeaheadProps:{shouldPreload:!0,objectPaths:g.b.businessPartner,query:T.b,fields:g.a.businessPartner},openObject:{permissions:[k.a.BusinessPartnerGET],onOpen:D.a.openDrawer.bind(null,null!==(f=null===(b=t.charterer)||void 0===b?void 0:b.key)&&void 0!==f?f:-1,v.a.businessPartnerDrawer)}},{fieldName:"owner",label:z.owner,typeaheadProps:{shouldPreload:!0,objectPaths:g.b.businessPartner,fields:g.a.businessPartner},openObject:{permissions:[k.a.BusinessPartnerGET],onOpen:D.a.openDrawer.bind(null,null!==(R=null===(h=t.owner)||void 0===h?void 0:h.key)&&void 0!==R?R:-1,v.a.businessPartnerDrawer)}},{fieldName:"guarantor",label:z.guarantor,typeaheadProps:{shouldPreload:!0,objectPaths:g.b.businessPartner},openObject:{permissions:[k.a.BusinessPartnerGET],onOpen:D.a.openDrawer.bind(null,null!==(S=null===(I=t.guarantor)||void 0===I?void 0:I.key)&&void 0!==S?S:-1,v.a.businessPartnerDrawer)}},{fieldName:"cpDate",label:z.cpDate},{fieldName:"tcType",typeaheadProps:{shouldPreload:!0},label:z.tcTypeDesc,breakpoints:{xs:6,sm:5,md:3,lg:3,xl:2}},{fieldName:"isBareboat",label:z.bareboat,formControlLabelProps:{classes:n,labelPlacement:"top"},breakpoints:{xs:6,sm:1,md:1,lg:1,xl:1}},{fieldName:"cpForm",typeaheadProps:{shouldPreload:!0},label:z.cpForm},{fieldName:"operator",label:z.vesselOperator,typeaheadProps:{shouldPreload:!0},openObject:{permissions:[k.a.UserGET],onOpen:D.a.openDrawer.bind(null,null!==(A=null===(w=t.operator)||void 0===w?void 0:w.key)&&void 0!==A?A:-1,v.a.userDrawer)}},{fieldName:"charteringResponsible",label:z.responsibleCharterer,typeaheadProps:{shouldPreload:!0},openObject:{permissions:[k.a.UserGET],onOpen:D.a.openDrawer.bind(null,null!==(E=null===(x=t.charteringResponsible)||void 0===x?void 0:x.key)&&void 0!==E?E:-1,v.a.userDrawer)}},{fieldName:"currency",label:F.hireCurrency,typeaheadProps:{shouldPreload:!0}},{fieldName:"bunkersCurrency",label:z.bunkersCurrency,typeaheadProps:{shouldPreload:!0}},{fieldName:"commissionAddress",label:z.commissionAddress,InputProps:{endAdornment:P.a.Percent},numberInputProps:{validation:[{type:j.a.RANGE,min:0,max:100}],maskSettings:{decimalScale:2,allowNegative:!1}}},{fieldName:"commissionBroker",disabled:t.commissions.length>0,label:z.commissionBroker,InputProps:{endAdornment:P.a.Percent},numberInputProps:{validation:[{type:j.a.RANGE,min:0,max:100}],maskSettings:{decimalScale:2,allowNegative:!1}}},{fieldName:"ballastBonus",label:z.ballastBonus,InputProps:{endAdornment:null===(M=t.currency)||void 0===M?void 0:M.currencyCode},numberInputProps:{maskSettings:{decimalScale:0,allowNegative:!1}}},{fieldName:"ilohc",label:z.ilohc,InputProps:{endAdornment:null===(U=t.currency)||void 0===U?void 0:U.currencyCode},numberInputProps:{maskSettings:{decimalScale:0,allowNegative:!1}}},{fieldName:"variousInvoiceText",label:z.cveText},{fieldName:"variousInvoiceCurrency",label:z.cveCurrency,typeaheadProps:{shouldPreload:!0}},{fieldName:"variousToBeInvoiced",label:z.cveAmount,numberInputProps:{maskSettings:C.a.mask10},InputProps:{endAdornment:null===(L=t.variousInvoiceCurrency)||void 0===L?void 0:L.currencyCode}},{fieldName:"isCvePerMonth",label:z.cveMeasurement,overrideFieldType:"object",typeaheadProps:{options:[!1,!0],resolver:e=>e?B.months:B.days,defaultSelectedOptions:[t.isCvePerMonth]}},{fieldName:"variousInvoiceInterval",label:B.every,numberInputProps:{maskSettings:{decimalScale:0,allowNegative:!1}},InputProps:{endAdornment:t.isCvePerMonth?B.months:B.days}},{fieldName:"laycanFrom",label:z.laydaysCommences,dateInputProps:{error:!!t.laycanTo&&!t.laycanFrom,showTime:!0,showShortDate:!0},formHelperText:t.laycanTo&&!t.laycanFrom?q.bothDatesRequiredLayday:void 0},{fieldName:"laycanTo",label:z.laydaysCancelling,dateInputProps:{error:!!t.laycanFrom&&!t.laycanTo,showTime:!0,showShortDate:!0},formHelperText:t.laycanFrom&&!t.laycanTo?q.bothDatesRequiredLayday:void 0},{fieldName:"tcBenchmarkIndex",label:z.tcBenchmarkIndex},{fieldName:"tcBenchmarkPercent",label:z.tcBenchmarkPercent,InputProps:{endAdornment:P.a.Percent},numberInputProps:{validation:[{type:j.a.RANGE,min:0,max:100}],maskSettings:{decimalScale:1,allowNegative:!1}}},...t.isTcIn?[]:[{fieldName:"calculateProfitLoss",label:z.calculateProfitLoss,disabled:H,formControlLabelProps:{checked:t.calculateProfitLoss}}],{fieldName:"comments",label:z.comments,textInputProps:{multiline:!0,rows:4}}];return Object(O.a)({fieldOptions:V,object:t,type:d.a.tc,userLocale:a,reactKeyPrefix:e,smartResponse:!0})}var R=a(37),I=a(75);function S(e,t,a){var n,o,r,c;const[l]=Object(i.a)([y.a.IInternationalization]),s=l.lang(),u=[{fieldName:"deliveryPort",label:s.model.deliveryPort,typeaheadProps:{query:T.d,isClearable:!1},formControlProps:{required:!0}},{fieldName:"tcDeliveryTerm",typeaheadProps:{shouldPreload:!0},label:s.tc.deliveryTerms},{fieldName:"deliveryRange",label:s.model.deliveryRange},{fieldName:"deliveryDate",label:s.model.deliveryDate,dateInputProps:{showTime:!0}},{fieldName:"foRobDelivery",label:s.model.foRob,InputProps:{endAdornment:"MT"},numberInputProps:{maskSettings:C.a.mask5}},{fieldName:"foPriceDelivery",label:s.model.foPriceMT,InputProps:{endAdornment:null===(n=t.bunkersCurrency)||void 0===n?void 0:n.currencyCode},numberInputProps:{maskSettings:C.a.mask7}},{fieldName:"dlRobDelivery",label:s.model.lsmgoRob,InputProps:{endAdornment:"MT"},numberInputProps:{maskSettings:C.a.mask5}},{fieldName:"dlPriceDelivery",label:s.model.lsmgoPriceMT,InputProps:{endAdornment:null===(o=t.bunkersCurrency)||void 0===o?void 0:o.currencyCode},numberInputProps:{maskSettings:C.a.mask7}},{fieldName:"doRobDelivery",label:s.model.mgoRob,InputProps:{endAdornment:"MT"},numberInputProps:{maskSettings:C.a.mask5}},{fieldName:"doPriceDelivery",label:s.model.mgoPriceMT,InputProps:{endAdornment:null===(r=t.bunkersCurrency)||void 0===r?void 0:r.currencyCode},numberInputProps:{maskSettings:C.a.mask7}},{fieldName:"flRobDelivery",label:s.model.lsfoRob,InputProps:{endAdornment:"MT"},numberInputProps:{maskSettings:C.a.mask5}},{fieldName:"flPriceDelivery",label:s.model.flPriceMT,InputProps:{endAdornment:null===(c=t.bunkersCurrency)||void 0===c?void 0:c.currencyCode},numberInputProps:{maskSettings:C.a.mask7}}];return Object(O.a)({fieldOptions:u,object:t,type:d.a.tc,userLocale:a,reactKeyPrefix:e,smartResponse:!0})}function w({tc:e,userLocale:t,classes:a,reactKeyPrefix:n}){const[r]=Object(i.a)([y.a.IInternationalization]),c=o.a.createElement(R.a,{reactKeyPrefix:n+"-tc_delivery_terms_horizontal_list",key:"tcdelivery_terms_horizontal_list",items:S(n,e,t),breakpoints:N.a});return o.a.createElement("div",{className:a.container},o.a.createElement(I.a,{title:r.lang().tc.deliveryTerms,key:"tc-delivery-terms-title"}),c)}function A(e,t,a){var n,o,r,c;const[l]=Object(i.a)([y.a.IInternationalization]),s=l.lang(),u=[{fieldName:"redeliveryPort",label:s.model.redeliveryPort,typeaheadProps:{query:T.d,isClearable:!1},formControlProps:{required:!0}},{fieldName:"tcRedeliveryTerm",label:s.tc.redeliveryTerms},{fieldName:"redeliveryRange",label:s.model.redeliveryRange},{fieldName:"redeliveryDate",label:s.model.redeliveryDate,dateInputProps:{showTime:!0}},{fieldName:"foRobRedelivery",label:s.model.foRob,InputProps:{endAdornment:"MT"},numberInputProps:{maskSettings:C.a.mask5}},{fieldName:"foPriceRedelivery",label:s.model.foPriceMT,InputProps:{endAdornment:null===(n=t.bunkersCurrency)||void 0===n?void 0:n.currencyCode},numberInputProps:{maskSettings:C.a.mask7}},{fieldName:"dlRobRedelivery",label:s.model.lsmgoRob,InputProps:{endAdornment:"MT"},numberInputProps:{maskSettings:C.a.mask5}},{fieldName:"dlPriceRedelivery",label:s.model.lsmgoPriceMT,InputProps:{endAdornment:null===(o=t.bunkersCurrency)||void 0===o?void 0:o.currencyCode},numberInputProps:{maskSettings:C.a.mask7}},{fieldName:"doRobRedelivery",label:s.model.mgoRob,InputProps:{endAdornment:"MT"},numberInputProps:{maskSettings:C.a.mask5}},{fieldName:"doPriceRedelivery",label:s.model.mgoPriceMT,InputProps:{endAdornment:null===(r=t.bunkersCurrency)||void 0===r?void 0:r.currencyCode},numberInputProps:{maskSettings:C.a.mask7}},{fieldName:"flRobRedelivery",label:s.model.lsfoRob,InputProps:{endAdornment:"MT"},numberInputProps:{maskSettings:C.a.mask5}},{fieldName:"flPriceRedelivery",label:s.model.flPriceMT,InputProps:{endAdornment:null===(c=t.bunkersCurrency)||void 0===c?void 0:c.currencyCode},numberInputProps:{maskSettings:C.a.mask7}}];return Object(O.a)({fieldOptions:u,object:t,type:d.a.tc,userLocale:a,reactKeyPrefix:e,smartResponse:!0})}function x({tc:e,userLocale:t,classes:a,reactKeyPrefix:n}){const[r]=Object(i.a)([y.a.IInternationalization]),c=o.a.createElement(R.a,{reactKeyPrefix:"tc_delivery_terms_horizontal_list",key:"tcdelivery_terms_horizontal_list",items:A(n,e,t),breakpoints:N.a});return o.a.createElement("div",{className:a.container},o.a.createElement(I.a,{title:r.lang().tc.redeliveryTerms,key:"tc-redelivery-terms-title"}),c)}var E=a(411),M=a(20),U=a(273);function L({tc:e,userLocale:t,classes:a,reactKeyPrefix:n}){const[r,c]=Object(i.a)([y.a.IInternationalization,M.a.ITcDrawerController]),{common:l}=r.getLanguageFile(),s=Object(E.a)({}),d=Object(U.a)(e.company||e.businessUnit?{companyRequired:!1,businessUnitRequired:!1,selectedCompany:e.company,selectedBusinessUnit:e.businessUnit}:{companyRequired:!1,businessUnitRequired:!1}),u=o.a.createElement(R.a,{reactKeyPrefix:n+"-tc_main_details_horizontal_list",key:"tc_main_details_horizontal_list",items:h(n,e,t,s,(t,a)=>{var n,o;"companyBusinessUnit"===t&&c.updateTc(e.key,{businessUnit:null!==(n=null==a?void 0:a.businessUnit)&&void 0!==n?n:null,company:null!==(o=null==a?void 0:a.company)&&void 0!==o?o:null})},d),breakpoints:N.a});return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:a.container},o.a.createElement(I.a,{title:l.mainTerms,key:"tc-main-terms-title"}),u),o.a.createElement(w,{reactKeyPrefix:n+"tc-delivery-terms",tc:e,classes:a,userLocale:t}),o.a.createElement(x,{reactKeyPrefix:n+"tc-redelivery-terms",tc:e,classes:a,userLocale:t}))}var K=a(214),q=a(5),B=a(67),z=a(100),F=a.n(z),_=a(149),H=a.n(_),G=a(51),V=a(773);function $(e,t,a,n,o){const r={numberInputProps:{maskSettings:{allowNegative:!1,decimalScale:0}}},c={disableUpdate:!0,fieldOptions:[Object.assign({fieldName:"sequenceNo",label:"Sequence No",onUpdateOverride:a.bind(null,"sequenceNo")},r),Object.assign({fieldName:"tcNoticeDays",label:o.lang().common.days,onUpdateOverride:a.bind(null,"tcNoticeDays")},r)],object:new V.a(t),type:d.a.tcnotice,userLocale:n,reactKeyPrefix:e,smartResponse:!0};return Object(O.a)(c)}var W=a(914);function X({tc:e,tcNotice:t,onClose:a,open:r,defaultTcNotice:c,title:i,confirmBtnName:l,reactKeyPrefix:u,setHighlightedTcNoticeKey:m}){const p={maxWidth:"sm",onCloseModal:a,open:r,confirmBtnName:l,title:i,reactKeyPrefix:u},b=Object(n.useCallback)((e,a)=>{var n;m&&a&&!t&&m(null===(n=Object(W.a)(new s.a(a).tcNotices))||void 0===n?void 0:n.key)},[m,t]),y={objPropToUpdate:"tcNotices",objToUpdate:e,objToUpdateType:d.a.tc,shouldUseArray:!0,type:d.a.tcnotice,smartResponse:!0,callback:b};return o.a.createElement(G.a,{modalProps:p,getColSpec:$,breakpoints:N.d,propertiesToSet:c,updateProps:y,selectedObject:t,allowDelete:!!t})}var J=a(44),Q=a(92),Y=a(2477);function Z({tc:e,i:t,userLocale:a,reactKeyPrefix:r,isNoticeRedelivery:c}){var i,l;const[s,u]=Object(n.useState)(!1),[m,p]=Object(n.useState)(!1),[b,y]=Object(n.useState)(null),[f,v]=Object(n.useState)([]),[O,P]=Object(n.useState)(),j=t.lang(),g=e.tcNotices.filter(e=>e.isNoticeRedelivery===c),T=Object(n.useCallback)(()=>{u(!1),y(null)},[]),k=Object(n.useCallback)(e=>{var t;const a=null!==(t=g.find(t=>t.key===e))&&void 0!==t?t:null;y(a),u(!0),P(void 0)},[g]),D=Object(n.useCallback)(e=>{v(e),P(void 0)},[]),N=Object(n.useMemo)(()=>[{disabled:!1,icon:F.a,iconButtonProps:{color:"primary","aria-label":j.common.create},label:j.common.create,onClick:()=>u(!0),reactKeyPrefix:r+"create"}],[j.common.create,r]),C=Object(n.useMemo)(()=>[{disabled:!1,icon:H.a,iconButtonProps:{"aria-label":j.common.delete},label:j.common.delete,onClick:()=>p(!0),reactKeyPrefix:r+"delete"}],[j.common.delete,r]),h=Object(n.useCallback)(()=>{const t=e.tcNotices.filter(e=>!f.includes(e.key));Q.a.getUpdateFieldFunction({fieldToSet:"tcNotices",fields:{},key:e.key,type:d.a.tc,smartResponse:!0})(t),p(!1),v([])},[f,e.key,e.tcNotices]),R=[{content:t.lang().model.sequenceNo,contentType:q.a.NUMBER},{content:t.lang().common.days,contentType:q.a.NUMBER}],I=Object(n.useMemo)(()=>g.map(e=>({content:[e.sequenceNo,e.tcNoticeDays],id:e.key})),[g]),S={sequenceNo:(null!==(l=null===(i=Object(W.a)(Object(Y.a)(g,"sequenceNo")))||void 0===i?void 0:i.sequenceNo)&&void 0!==l?l:0)+1,isNoticeRedelivery:c},w=c?j.tc.redelivery:j.tc.delivery;let A;A=c?b?j.tc.editRedeliveryNotice:j.tc.createRedeliveryNotice:b?j.tc.editDeliveryNotice:j.tc.createDeliveryNotice;const x=b?j.common.save:j.common.create;return o.a.createElement(o.a.Fragment,null,o.a.createElement(B.a,{headers:R,data:I,primaryActions:N,reactKeyPrefix:r+"table",userLocale:a,title:w,onRowClick:k,onRowSelect:D,selectable:!0,selectedActions:C,customisation:{responsive:!0},preSelectedRow:O}),o.a.createElement(X,{reactKeyPrefix:r+"create-edit-modal",tc:e,open:s,onClose:T,defaultTcNotice:S,title:A,confirmBtnName:x,tcNotice:b,setHighlightedTcNoticeKey:P}),o.a.createElement(J.a,{reactKeyPrefix:r+"delete-modal",open:m,onCloseModal:()=>p(!1),onConfirm:h,title:j.common.delete,maxWidth:"xs",fullWidth:!0},j.common.deleteItemsConfirmation))}function ee({tc:e,i:t,userLocale:a,reactKeyPrefix:n}){return o.a.createElement(K.a,{container:!0,spacing:2},o.a.createElement(K.a,{xs:6,item:!0},o.a.createElement(Z,{reactKeyPrefix:n+"delivery",userLocale:a,tc:e,isNoticeRedelivery:!1,i:t})),o.a.createElement(K.a,{xs:6,item:!0},o.a.createElement(Z,{reactKeyPrefix:n+"redelivery",userLocale:a,tc:e,isNoticeRedelivery:!0,i:t})))}function te({tc:e,i:t,userLocale:a,reactKeyPrefix:r}){const c=Object(n.useMemo)(()=>function(e,t,a,n){var o,r;const c=t.lang(),i=[{formControlProps:{required:!0},label:c.model.paymentCycle,fieldName:"paymentCycle",InputProps:{endAdornment:n.isPerMonth?c.common.months:c.common.days},numberInputProps:{maskSettings:{decimalScale:5,allowNegative:!1}}},{formControlProps:{required:!0},label:c.model.paymentCycleM,fieldName:"isPerMonth",overrideFieldType:"object",typeaheadProps:{isClearable:!1,resolver:e=>e?c.common.months:c.common.days,options:[!1,!0],defaultSelectedOptions:[n.isPerMonth]}},{formControlProps:{required:!0},disabled:!n.isPerMonth,label:c.model.isPerCalendarMonth,fieldName:"isPerCalendarMonth"},{formControlProps:{required:!0},label:c.model.timezone,fieldName:"isInvoiceLocalTime",overrideFieldType:"object",typeaheadProps:{isClearable:!1,resolver:e=>e?c.common.localTime:"GMT",options:[!0,!1],defaultSelectedOptions:[n.isInvoiceLocalTime]}},{label:n.isTcIn?c.tc.defaultOwnersBankAccount:c.tc.defaultCharterersBankAccount,fieldName:"bankAccount",typeaheadProps:{options:n.isTcIn?null===(o=n.owner)||void 0===o?void 0:o.bankAccounts:null===(r=n.charterer)||void 0===r?void 0:r.bankAccounts,resolver:e=>e.bankAccountNo,shouldPreload:!0}},{formControlProps:{required:!0},label:c.model.isInvoiceConsumptionBased,fieldName:"isInvoiceConsumptionBased"},{formControlProps:{required:!0},disabled:n.isInvoiceConsumptionBased,label:c.model.isBunkersRevaluatedCpPrice,fieldName:"isBunkersRevaluatedCpPrice"}];return Object(O.a)({fieldOptions:i,object:n,type:d.a.tc,userLocale:a,reactKeyPrefix:e,smartResponse:!0})}(r,t,a,e),[t,r,e,a]);return o.a.createElement(R.a,{reactKeyPrefix:"doc-tc-drawer-payment-terms",items:c,breakpoints:{xs:6,sm:6,md:4,lg:4,xl:4}})}var ae=a(352),ne=a(245),oe=a(213),re=a(187);const ce=Object(oe.a)(Object(re.a)(e=>({container:{backgroundColor:Object(ne.a)(e.palette.primary.main,.05),borderRadius:"10px",padding:"20px"},containerTitle:{flexDirection:"column"},table:{paddingTop:"20px"}})));var ie=a(1268),le=(a(268),a(269),a(118),a(14)),se=a(351),de=a(530);const ue={getHeaders:function(e){return[{content:e.lang().model.durationSequenceNo,contentType:q.a.NUMBER},{content:e.lang().model.rateSequenceNo,contentType:q.a.NUMBER},{content:e.lang().model.duration,contentType:q.a.NUMBER,numberFormatOptions:{minDecimals:5,maxDecimals:5}},{content:e.lang().model.timeUnit,contentType:q.a.TEXT},{content:e.lang().common.variance,contentType:q.a.NUMBER},{content:e.lang().model.rate,contentType:q.a.NUMBER,numberFormatOptions:{minDecimals:2,maxDecimals:2}},{content:e.lang().common.option,contentType:q.a.ELEMENT},{content:e.lang().model.validTo,contentType:q.a.DATE,alignHeaderContent:q.c.CENTER,hiddenByDefault:!0}]},getTableRow:function(e,t,a){return{content:[e.sequenceNo,t.sequenceNo,t.tcRateDuration,Object(de.a)(a)[e.tcDurationTimeUnit],e.tcDurationVariance,t.tcRate,{rawValue:e.isOption,content:o.a.createElement(se.a,{checked:e.isOption})},t.tcRateStartDate],id:t.key}}};function me(e){const t=Object(l.a)(m.a.getUserLocale)||b.f[0],a=le.a.get(y.a.IInternationalization),{tc:r,reactKeyPrefix:c}=e,i=Object(n.useMemo)(()=>null==r?void 0:r.tcDurations.sort((e,t)=>e.sequenceNo-t.sequenceNo).flatMap(e=>e.tcRates.sort((e,t)=>e.sequenceNo-t.sequenceNo).map(t=>ue.getTableRow(e,t,a))),[a,r]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(B.a,{data:null!=i?i:[],headers:ue.getHeaders(a),reactKeyPrefix:c+"-duration-rate-table",userLocale:t,title:a.lang().tc.durationAndRates,customisation:{responsive:!0}}))}const pe={getHeaders:function(e){const t=e.getLanguageFile();return[{content:t.model.durationSequenceNo,contentType:q.a.NUMBER},{content:t.model.duration,contentType:q.a.NUMBER,numberFormatOptions:{minDecimals:5,maxDecimals:5}},{content:t.model.timeUnit,contentType:q.a.TEXT},{content:t.common.variance,contentType:q.a.NUMBER},{content:t.model.optionStatus,contentType:q.a.TEXT},{content:t.common.option,contentType:q.a.ELEMENT},{content:t.model.index,contentType:q.a.TEXT,hiddenByDefault:!0},{content:t.model.percent,contentType:q.a.NUMBER,hiddenByDefault:!0},{content:t.model.floor,contentType:q.a.NUMBER,hiddenByDefault:!0},{content:t.model.roof,contentType:q.a.NUMBER,hiddenByDefault:!0},{content:t.model.splitPercent,contentType:q.a.NUMBER,hiddenByDefault:!0}]},getTableRow:function(e,t){var a,n,r;return{content:[e.sequenceNo,e.tcDuration,Object(de.a)(t)[e.tcDurationTimeUnit],e.tcDurationVariance,e.isOption&&e.optionStatus?null===(a=e.optionStatus)||void 0===a?void 0:a.statusTypeDesc:null,{rawValue:e.isOption,content:o.a.createElement(se.a,{key:e.sequenceNo,checked:e.isOption})},null!==(r=null===(n=e.tcRateIndex)||void 0===n?void 0:n.marketIndexName)&&void 0!==r?r:"",e.marketIndexPercent,e.tcRateFloor,e.tcRateRoof,e.profitSplitPercent],id:e.key}}};var be=a(981),ye=a(742),fe=a(276),ve=a(220),Oe=a(198),Pe=a(89),je=a(2108);function ge(e,t,a,n,o,r){const{validation:c,model:i,common:l}=o.lang();t.tcRates=null==r?void 0:r.tcRates;const s=r.validateSequence(t),u=Object(de.a)(o),m={disableUpdate:!0,fieldOptions:[{fieldName:"sequenceNo",label:i.sequenceNo,numberInputProps:{maskSettings:C.a.mask3,onChange:a.bind(null,"sequenceNo")},formHelperText:s?c.alreadyExists(i.sequenceNo):"",formControlProps:{error:s},breakpoints:N.d},{fieldName:"tcDurationTimeUnit",label:i.timeUnit,overrideFieldType:"object",typeaheadProps:{options:Object.values(u),defaultSelectedOptions:u[t.tcDurationTimeUnit],overrideDefaultSelectedOptions:!0},onUpdateOverride:e=>{a("tcDurationTimeUnit",Object(je.a)(u,t=>t===e))},breakpoints:N.d},{fieldName:"tcDurationVariance",label:l.variance,numberInputProps:{maskSettings:C.a.mask4},onUpdateOverride:a.bind(null,"tcDurationVariance"),breakpoints:N.d},{fieldName:"isOption",label:l.option,onUpdateOverride:a.bind(null,"isOption"),breakpoints:N.d},{fieldName:"optionStatus",disabled:!t.isOption,label:i.optionStatus,typeaheadProps:{fields:{statusTypeDesc:"*",statusTypeCode:"*"},query:"filter=statusClass.statusClassCode(EQ)OPT",shouldPreload:!0},onUpdateOverride:e=>a("optionStatus",e),breakpoints:N.d}],object:new fe.a(t),type:d.a.tcduration,userLocale:n,reactKeyPrefix:e};return Object(O.a)(m)}function Te(e,t,a,n,r){const{model:c}=r.lang(),i={disableUpdate:!0,fieldOptions:[{fieldName:"tcRateIndex",label:c.index,typeaheadProps:{shouldPreload:!0},onUpdateOverride:a.bind(null,"tcRateIndex"),breakpoints:N.d},{fieldName:"marketIndexPercent",label:c.percent,InputProps:{endAdornment:P.a.Percent},onUpdateOverride:a.bind(null,"marketIndexPercent"),breakpoints:N.d},{overrideComponent:o.a.createElement("span",null)},{fieldName:"tcRateFloor",label:c.floor,numberInputProps:{maskSettings:C.a.mask2},onUpdateOverride:a.bind(null,"tcRateFloor"),breakpoints:N.d},{fieldName:"tcRateRoof",label:c.roof,numberInputProps:{maskSettings:C.a.mask2},onUpdateOverride:a.bind(null,"tcRateRoof"),breakpoints:N.d},{fieldName:"profitSplitPercent",label:c.splitPercent,InputProps:{endAdornment:P.a.Percent},onUpdateOverride:a.bind(null,"profitSplitPercent"),breakpoints:N.d}],object:new fe.a(t),type:d.a.tcduration,userLocale:n,reactKeyPrefix:e};return Object(O.a)(i)}a(59);var ke=a(345);function De(e,t,a,n,o,r){const c=r.validateSequence(t),i={disableUpdate:!0,fieldOptions:[{fieldName:"tcRateDuration",formControlProps:{required:!0},numberInputProps:{maskSettings:C.a.mask10},onUpdateOverride:a.bind(null,"tcRateDuration")},{fieldName:"tcRate",label:o.lang().model.rate,onUpdateOverride:a.bind(null,"tcRate")},{fieldName:"tcRateStartDate",label:o.lang().model.validTo,onUpdateOverride:a.bind(null,"tcRateStartDate"),dateInputProps:{showTime:!0},formControlProps:{required:!0}},{fieldName:"sequenceNo",onUpdateOverride:a.bind(null,"sequenceNo"),numberInputProps:{maskSettings:C.a.mask3},formHelperText:c?o.lang().validation.alreadyExists(o.lang().model.sequenceNo):"",formControlProps:{error:c}}],object:new ve.a(t),type:d.a.tcrate,userLocale:n,reactKeyPrefix:e};return Object(O.a)(i)}var Ne=function(e,t,a,n){return new(a||(a=Promise))((function(o,r){function c(e){try{l(n.next(e))}catch(e){r(e)}}function i(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,i)}l((n=n.apply(e,t||[])).next())}))};function Ce(e){const{reactKeyPrefix:t,selectedTcRate:a,selectedTcDuration:r,showDialog:c,onDeleteTcRate:l,onCreateTcRate:s,closeDialog:u,tc:m}=e,[p,b]=Object(i.a)([y.a.IInternationalization,M.a.ICreateEditTcRateController]),[f,v]=Object(n.useState)(null),O=a?p.lang().tc.editRate:p.lang().tc.createRate,P=a?p.lang().common.save:p.lang().common.create,j=Object(n.useMemo)(()=>Object.assign({tcDuration:Object.assign(Object.assign({},Object(ke.a)(ae.a.tcDurations,"tcRates")),{tc:Object.assign(Object.assign({},Object(ke.a)(ae.a,"tcDurations")),{tcDurations:{tcRates:"*"}}),tcRates:"*"})},ae.a.tcDurations.tcRates),[]),g=Object(n.useCallback)(()=>Ne(this,void 0,void 0,(function*(){const e=yield b.loadFirstVoyageTcIn(m);v(e)})),[b,m]);Object(n.useEffect)(()=>{m.isTcIn&&g()},[m.key]);const T=Object(n.useCallback)((e,t,a)=>{var n;return b.onChange(e,t,a,r,m,null!==(n=null==f?void 0:f.voyage)&&void 0!==n?n:null)},[b,f,r,m]),k=Object(n.useMemo)(()=>{var e,t;return{sequenceNo:(null!==(t=null===(e=Object(ye.a)(null==r?void 0:r.tcRates,"sequenceNo"))||void 0===e?void 0:e.sequenceNo)&&void 0!==t?t:0)+1}},[r]),D=Object(n.useCallback)(e=>!!(null==r?void 0:r.tcRates.filter(t=>t.key!==e.key).map(e=>e.sequenceNo).includes(e.sequenceNo)),[r]),C=Object(n.useMemo)(()=>({callback:u,type:d.a.tcrate,fields:j}),[u,j]),h=Object(n.useCallback)(e=>!e.tcRateDuration||!e.tcRateStartDate||D(e),[D]),R={callback:u,objPropToUpdate:"tcRates",objToUpdate:r,objToUpdateType:d.a.tcduration,shouldUseArray:!0,type:d.a.tcrate};return o.a.createElement(G.a,{modalProps:{reactKeyPrefix:t,maxWidth:"xs",onCloseModal:u,open:c,title:O,confirmBtnName:P},breakpoints:N.e,getColSpec:De,selectedObject:a,allowDelete:!!a,isConfirmDisabled:h,overrideOnConfirm:s,overrideOnDelete:l,propertiesToOverwrite:k,createProps:a?void 0:C,updateProps:a?R:void 0,contextData:{validateSequence:D,tcDuration:r},overrideUpdateEntity:T})}const he={getHeaders:function(e){const{model:t}=e.getLanguageFile();return[{content:t.rateSequenceNo,contentType:q.a.NUMBER},{content:t.duration,contentType:q.a.NUMBER,numberFormatOptions:{minDecimals:5,maxDecimals:5}},{content:t.rate,contentType:q.a.NUMBER,numberFormatOptions:{minDecimals:2,maxDecimals:2}},{content:t.validTo.concat(" "+e.lang().common.gmtParanthesis),contentType:q.a.DATE}]},getTableRow:function(e,t){return{content:[e.sequenceNo,e.tcRateDuration,e.tcRate,e.tcRateStartDate],id:t}}};function Re(e){var t;const{reactKeyPrefix:a,selectedTcDuration:r,onCloseModal:c,onDelete:l,showModal:u,durationModalTitle:m,tc:p,setHighlightedDurationKey:b}=e,[f]=Object(i.a)([y.a.IInternationalization]),{common:v,model:O}=f.lang(),[P,j]=Object(n.useState)(void 0),[g,T]=Object(n.useState)(null),[k,D]=Object(n.useState)(!1),[C,h]=Object(n.useState)(null!==(t=null==r?void 0:r.tcRates.sort((e,t)=>e.sequenceNo-t.sequenceNo))&&void 0!==t?t:[]),[R,I]=Object(n.useState)(r),S=Object(n.useCallback)(()=>D(!0),[]),w=Object(n.useCallback)(()=>{D(!1),j(void 0),T(null)},[]),A=Object(n.useCallback)(e=>{"number"==typeof e&&(j(C[e]),T(e),S())},[S,C]),x=Object(n.useCallback)((e,t)=>{var a;b&&t&&!(null==R?void 0:R.key)&&b(null===(a=Object(W.a)(new s.a(t).tcDurations))||void 0===a?void 0:a.key)},[null==R?void 0:R.key,b]),E=Object(n.useCallback)(e=>{let t;t=null===g?C.concat(e):[...C.slice(0,g),e,...C.slice(g+1)],h(t.sort((e,t)=>e.sequenceNo-t.sequenceNo)),w()},[w,g,C]),M=Object(n.useCallback)(e=>{const t=C.filter((t,a)=>!e.includes(a));h(t),w()},[w,C]),U=Object(n.useCallback)(e=>{const t=C.filter(t=>!Object(be.a)(e,t));h(t),w()},[w,C]),L=Object(n.useMemo)(()=>[{disabled:!1,icon:F.a,iconButtonProps:{color:"primary","aria-label":`${v.create} ${O.tcRate}`},label:v.create,onClick:S,reactKeyPrefix:a+"primary-actions"}],[v.create,O.tcRate,S,a]),K=Object(n.useMemo)(()=>[{disabled:!1,icon:H.a,iconButtonProps:{"aria-label":""+v.remove},label:v.remove,onClick:M,reactKeyPrefix:a+"selected-actions"}],[v.remove,M,a]),q=Object(n.useMemo)(()=>({primaryActions:L,headers:he.getHeaders(f),selectable:!0,selectedActions:K,customisation:{disableSorting:!0},onRowClick:A,title:v.rates,data:C.map((e,t)=>he.getTableRow(e,t))}),[v.rates,f,A,L,K,C]),B={fields:{},objPropToUpdate:"tcDurations",objToUpdate:p,objToUpdateType:d.a.tc,shouldUseArray:!0,type:d.a.tcduration,shouldKeepValues:!0,smartResponse:!0,callback:x},z=Object(n.useMemo)(()=>{var e,t,a;const n=null!==(e=null==r?void 0:r.tcRates)&&void 0!==e?e:[];return h(n.sort((e,t)=>e.sequenceNo-t.sequenceNo)),{sequenceNo:(null!==(a=null===(t=Object(ye.a)(p.tcDurations,"sequenceNo"))||void 0===t?void 0:t.sequenceNo)&&void 0!==a?a:0)+1,tcRates:n,tcDurationTimeUnit:Oe.b.DAY,optionStatus:{statusTypeDesc:"Not declared",statusTypeCode:"NOT"}}},[r,p.tcDurations]),_=Object(n.useCallback)(e=>p.tcDurations.filter(t=>t.key!==e.key).map(e=>e.sequenceNo).includes(e.sequenceNo),[p.tcDurations]),V=Object(n.useCallback)(e=>!(e.tcRates.length&&null!=e.sequenceNo&&!_(e)),[_]),$=Object(n.useCallback)(e=>{I(new fe.a(e))},[]),X=Object(n.useCallback)(()=>{h([]),c(),I(null)},[c]),J=Object(n.useCallback)(e=>{const{tcRates:t,isOption:a,optionStatus:n}=e,o=Object(Pe.a)(new fe.a(e));return o.tcRates=t.map(e=>Object(Pe.a)(new ve.a(e))),o.optionStatus=a?null==n?void 0:n.statusTypeCode:"NOT",{key:p.key,tcDurations:[...p.tcDurations.filter(({key:e})=>{var t;return e!==(null!==(t=o.key)&&void 0!==t?t:void 0)}).map(({key:e})=>({key:e})),o]}},[p]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,{modalProps:{reactKeyPrefix:a,maxWidth:"sm",confirmBtnName:r?v.save:v.create,onCloseModal:X,onDelete:r?l:void 0,open:u,title:m},breakpoints:N.e,getColSpecArray:[ge,Te],isConfirmDisabled:V,selectedObject:r,allowDelete:!!r,updateProps:B,enableCopy:!1,tableProps:q,propertiesToSet:z,contextData:{tcRates:C,validateSequence:_},onEntityChange:$,overrideGetData:J}),k&&o.a.createElement(Ce,{reactKeyPrefix:a+"-tc-rates-modal",showDialog:k,closeDialog:w,onCreateTcRate:E,selectedTcRate:P,onDeleteTcRate:U,selectedTcDuration:new fe.a(Object.assign(Object.assign({},R),{tcRates:C})),tc:p}))}function Ie(e){const{userLocale:t,tc:a,reactKeyPrefix:r}=e,[c]=Object(i.a)([y.a.IInternationalization]),l=c.getLanguageFile(),[s,u]=Object(n.useState)(null),[m,p]=Object(n.useState)(),[b,f]=Object(n.useState)([]),[v,O]=Object(n.useState)(!1),[P,j]=Object(n.useState)(!1),g=Object(n.useCallback)(()=>{j(!1),u(null)},[]),T=Object(n.useCallback)(()=>j(!0),[]),k=Object(n.useCallback)(()=>O(!v),[v]),D=Object(n.useCallback)(e=>{f(e),k(),p(void 0)},[k]),N=Object(n.useCallback)(()=>{if(a){const e=a.tcDurations.filter(e=>!b.includes(e.key));Q.a.getUpdateFieldFunction({fieldToSet:"tcDurations",key:a.key,type:d.a.tc,smartResponse:!0,fields:{}})(e)}k(),f([])},[b,k,a]),C=Object(n.useMemo)(()=>[{disabled:!1,icon:F.a,iconButtonProps:{color:"primary","aria-label":l.common.create},label:l.common.create,onClick:T,reactKeyPrefix:r+"primary-actions"}],[l.common.create,T,r]),h=Object(n.useMemo)(()=>[{disabled:!1,icon:H.a,iconButtonProps:{"aria-label":l.common.remove},label:l.common.remove,onClick:D,reactKeyPrefix:r+"selectedActions"}],[l.common.remove,D,r]),R=Object(n.useMemo)(()=>s?l.tc.editDuration:l.tc.createDuration,[l.tc.editDuration,l.tc.createDuration,s]),I=Object(n.useMemo)(()=>a?a.tcDurations.map(e=>pe.getTableRow(e,c)):[],[c,a]),S=Object(n.useMemo)(()=>pe.getHeaders(c),[c]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(B.a,{headers:S,userLocale:t,reactKeyPrefix:r+"duration-table",title:c.lang().tc.durations,data:I,selectable:!0,primaryActions:C,selectedActions:h,onRowClick:e=>{const t=a.tcDurations.find(t=>t.key===e);p(void 0),t&&(u(t),T())},customisation:{responsive:!0},preSelectedRow:m}),o.a.createElement(Re,{reactKeyPrefix:r+"create-edit-duration",selectedTcDuration:s,onCloseModal:g,onDelete:g,showModal:P,durationModalTitle:R,tc:a,setHighlightedDurationKey:p}),o.a.createElement(J.a,{reactKeyPrefix:r+"delete-duration-modal",open:v,onCloseModal:k,onConfirm:N,title:l.common.delete,maxWidth:"xs",fullWidth:!0},l.common.deleteItemsConfirmation))}var Se=a(1282),we=a(820),Ae=a(47);const xe=e=>{const{reactKeyPrefix:t,userLocale:a,tcKey:r,state:{tc:c}}=e,[l]=Object(i.a)([M.a.ITcDrawerController]),[s,u]=Object(n.useState)(!1);Object(n.useEffect)(()=>{l.loadCommissions(r,()=>u(!0))},[r]);const m=Object(n.useCallback)(()=>{l.loadCommissions(r)},[l,r]);return s&&c?o.a.createElement(Se.a,{reactKeyPrefix:t,userLocale:a,tsModelObj:c,tsModelObjType:d.a.tc,creditOwner:c.isTcIn,commissions:c.commissions,onDelete:m}):null},Ee=Object(Ae.a)((e,t)=>{var a;return{tc:u.a.getTSModelBuilt(e,d.a.tc,null!==(a=t.tcKey)&&void 0!==a?a:0,Object.assign(Object.assign({},we.a),{isTcIn:"*"}))}},Object(n.memo)(xe));var Me=a(32),Ue=a(66),Le=a(43),Ke=a(1225),qe=a(651),Be=a(240);const ze="doc-common-components-drawer-tc-drawer",Fe=o.a.memo(()=>{var e,t,a,O,P;const[j,g,T,D,N]=Object(i.a)([y.a.IInternationalization,p.a.ITSModelActionsAsync,M.a.ISpeedAndConsumptionController,M.a.ITcDrawerController,p.a.ISimpleReducerActions]),C=j.getLanguageFile(),{common:h,model:R}=C,I=Object(r.g)(),{drawerId:S,tabId:w}=Object(r.i)(),A=null!==(e=Object(l.a)(u.a.getTSModelBuilt,d.a.tc,null!=S?S:0,ae.a))&&void 0!==e?e:new s.a({}),x=Object(l.a)(m.a.getUserLocale)||b.f[0],E=ce({}),U=null!==(t=Object(l.a)(Me.a))&&void 0!==t?t:new Le.a({}),K=Object(l.a)(qe.a.get),[q,B]=Object(n.useState)(!1),[z,F]=Object(n.useState)([]),_=Object(n.useCallback)(()=>{A.company?z.length>1?B(!0):z.length>0&&D.printSoa(A,!A.isTcIn,z[0]):B(!0)},[z,A,D]);Object(n.useEffect)(()=>{S&&K!==Number(S)&&(D.loadTc(Number(S)),D.getDocumentCurrencies(S,F)),N.setAction(Be.a,null)},[S]);const H=Object(n.useMemo)(()=>A?[{id:"main-details",content:()=>o.a.createElement(L,{reactKeyPrefix:ze+"-tc-main-details",tc:A,userLocale:x,classes:E}),label:h.mainDetails},{id:"rates",content:()=>o.a.createElement(o.a.Fragment,null,o.a.createElement(Ie,{reactKeyPrefix:ze+"-duration-table",tc:A,userLocale:x}),o.a.createElement(me,{reactKeyPrefix:ze+"-duration-rate-table",tc:A})),label:C.tc.durationAndRates},{id:"notices",content:()=>o.a.createElement(ee,{reactKeyPrefix:ze+"-tc-notices",tc:A,userLocale:x,i:j}),label:C.tc.notices},{id:"payment-terms",content:()=>o.a.createElement(te,{reactKeyPrefix:ze+"-payment-terms",tc:A,userLocale:x,i:j}),label:h.paymentTerms},{id:"commissions",content:()=>o.a.createElement(Ee,{reactKeyPrefix:ze+"-commissions-table",userLocale:x,tcKey:A.key}),label:R.commissions},{id:"speed-consumption",content:()=>{var e,t,a;return(null===(e=null==A?void 0:A.vesselCode)||void 0===e?void 0:e.vessel)?o.a.createElement(ie.a,{reactKeyPrefix:ze+"-speed-and-consumption",tc:A,vesselId:null===(a=null===(t=A.vesselCode)||void 0===t?void 0:t.vessel)||void 0===a?void 0:a.key,userLocale:x,onChangeBunkerTypes:T.onUpdateBunkerTypes,onChangeMainEngines:T.onUpdateMainEngines}):o.a.createElement("div",null)},label:R.speedAndConsumption}]:[],[A,h.mainDetails,h.paymentTerms,C.tc.durationAndRates,C.tc.notices,R.commissions,R.speedAndConsumption,x,E,j,T.onUpdateBunkerTypes,T.onUpdateMainEngines]),G=Object(n.useCallback)(()=>{if(A){const e=`${h.delete} ${R.tc}`,t=`${h.deleteConfirmation} ${R.tc}?`;Object(c.a)(e,t).then(e=>{e&&g.deleteAction({key:A.key,type:d.a.tc}).then(()=>{I&&I.goBack()})})}},[h.delete,h.deleteConfirmation,R.tc,A,I,g]),V=Object(n.useMemo)(()=>[{disabled:!(null==A?void 0:A.isTcIn),onClick:G,text:j.lang().common.delete},{disabled:!Object(Ue.a)([k.a.SOATcGET],U)||0===z.length||!A.company,onClick:_,text:h.printStatementOfAccount(!1),tooltipText:0===z.length?h.noInvoicesOrCreditNotes:A.company?"":h.noCompanyForTcContract}],[h,z.length,j,G,_,A.company,A.isTcIn,U]);return A?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{reactKeyPrefix:ze,drawerKey:Number(S),drawerRoute:v.a.tcDrawer,key:v.a.tcDrawer+S,subject:R.tc,subjectLoaded:!!A,subjectName:((null==A?void 0:A.isTcIn)?R.tcInContract:R.tcOutContract)+" - "+(null!==(P=null===(O=null===(a=null==A?void 0:A.vesselCode)||void 0===a?void 0:a.vessel)||void 0===O?void 0:O.vesselName)&&void 0!==P?P:""),tabs:H,tabId:w,secondaryActions:V,tsModelType:d.a.tc,reloadParentDrawer:()=>{}}),q&&o.a.createElement(Ke.a,{reactKeyPrefix:ze+"-print-soa-modal",onClose:()=>B(!1),open:q,tc:A,currencies:z})):null})},1906:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));a(10),a(11);var n=a(0),o=a.n(n),r=a(97),c=a(540),i=a(150),l=a(6),s=a(23),d=a(1),u=a(43),m=a(32),p=a(21),b=a(42),y=a(66),f=a(30),v=a(35),O=a(3),P=a(82),j=a(15),g=a(37),T=a(12),k=a(75),D=a(71),N=(a(93),a(19)),C=a(89),h=a(7);const R=({reactKeyPrefix:e,i:t,userLocale:a,authorized:n,trade:o,routeHasLegs:r})=>{const[i]=Object(l.a)([h.a.ITSModelActions]),{model:s,common:u}=t.getLanguageFile(),m=[{disabled:!n,label:u.description,fieldName:"legDesc",InputProps:{required:!0}},{disabled:!n,label:u.code,fieldName:"legCode",InputProps:{required:!0}},{disabled:!n,label:s.routes,fieldName:"routeHasLegs",formControlProps:{required:!0},onUpdateOverride:e=>{const t=e.map(e=>e.key?{key:e.key}:Object(C.a)(e));i.updateSingleAction({data:{routeHasLegs:t},fields:c.a,key:o.key,type:d.a.leg})},typeaheadProps:{options:r,objectPaths:["route.routeDesc"],isMulti:!0,shouldPreload:!1}}];return Object(N.a)({fieldOptions:m,updateResponseFields:c.a,object:o,type:d.a.leg,userLocale:a,reactKeyPrefix:e})};var I=a(611);const S=({reactKeyPrefix:e,trade:t,i:a,userLocale:r,authorized:c})=>{const[i]=Object(l.a)([h.a.ITSModelActions]),[s,u]=Object(n.useState)([]),{common:m}=a.getLanguageFile();return Object(n.useEffect)(()=>{i.loadMultipleAction({fields:{routeDesc:"*",routeCode:"*"},type:d.a.route,callback:(e,t)=>{if(t){const e=t.map(e=>new I.a({route:e}));u(e)}}})},[i]),o.a.createElement(D.a,null,o.a.createElement(k.a,{title:m.details}),o.a.createElement(g.a,{reactKeyPrefix:e+"-field-list",items:R({reactKeyPrefix:e,trade:t,i:a,userLocale:r,authorized:c,routeHasLegs:s}),breakpoints:T.a}))};var w=a(51),A=a(67),x=a(100),E=a.n(x),M=a(40),U=a(5);var L=a(57),K=a(70);function q(e,t,a,n,o,r){const{common:c}=o.getLanguageFile(),i=[{fieldName:"patternDesc",label:c.description,formControlProps:{required:!0},onUpdateOverride:a.bind(null,"patternDesc")},{fieldName:"patternCode",label:c.code,formControlProps:{required:!0},onUpdateOverride:a.bind(null,"patternCode"),textInputProps:{validation:K.b.PatternCode,letterCase:L.a.UPPERCASE,onInputChange:(e,t)=>r.onChangePatternCode(t)}}];t.key&&i.push({fieldName:"isObjectActive",label:c.enabled,formControlProps:{required:!1},onUpdateOverride:a.bind(null,"isObjectActive")});const l={reactKeyPrefix:e,disableUpdate:!0,fieldOptions:i,object:t,type:d.a.pattern,userLocale:n};return Object(N.a)(l)}const B=({i:e,reactKeyPrefix:t,trade:a,userLocale:r,authorized:i,onUpdate:l})=>{const{common:s}=e.getLanguageFile(),[u,m]=Object(n.useState)(!1),[p,b]=Object(n.useState)(),[y,f]=Object(n.useState)(!1),v=Object(n.useCallback)(()=>{m(!u)},[u]),O=Object(n.useCallback)(e=>!(e&&e.patternDesc&&y),[y]),P=Object(n.useCallback)(e=>{const t=a.patterns.find(t=>t.key===e);t&&(b(t),v())},[v,a.patterns]),j=Object(n.useMemo)(()=>(e=>{const{common:t}=e.getLanguageFile();return[{content:t.description,contentType:U.a.TEXT},{content:t.code,contentType:U.a.TEXT},{content:t.status,contentType:U.a.ELEMENT}]})(e),[e]),g=Object(n.useMemo)(()=>a.patterns.map(t=>function(e,t){const a=e.isObjectActive?null:t.getLanguageFile().common.disabled,n=a?o.a.createElement(M.a,{label:a,labelColour:M.b.Grey}):null;return{content:[e.patternDesc,e.patternCode,{rawValue:a,content:n}],id:e.key}}(t,e)),[e,a.patterns]),k=[{disabled:!i,icon:E.a,iconButtonProps:{color:"primary","aria-label":s.create},label:s.create,onClick:()=>{v()},reactKeyPrefix:t+"-create-button-action"}];return o.a.createElement(o.a.Fragment,null,o.a.createElement(A.a,{headers:j,title:s.patterns,data:g,userLocale:r,reactKeyPrefix:t+"-patterns-table",onRowClick:i?P:void 0,primaryActions:k}),o.a.createElement(w.a,{modalProps:{reactKeyPrefix:t+"-create-edit-modal",maxWidth:"xs",open:u,title:s.updateCreatePattern(!!(null==p?void 0:p.key)),confirmBtnName:(null==p?void 0:p.key)?s.save:s.create,onCloseModal:()=>{b(void 0),v()}},getColSpec:q,isConfirmDisabled:O,contextData:{onChangePatternCode:f},updateProps:{shouldKeepValues:!0,objPropToUpdate:"patterns",objToUpdate:a,fields:{patterns:c.b},objToUpdateType:d.a.leg,shouldUseArray:!0,type:d.a.pattern,callback:l},selectedObject:p,allowDelete:!!(null==p?void 0:p.key)&&!(null==p?void 0:p.isObjectActive),breakpoints:T.e}))},z=({i:e,reactKeyPrefix:t,userLocale:a,trade:n,authorized:r,onUpdate:c})=>n?o.a.createElement(o.a.Fragment,null,o.a.createElement(S,{i:e,reactKeyPrefix:t+"-trade-details-section",trade:n,authorized:r,userLocale:a}),o.a.createElement(B,{i:e,trade:n,reactKeyPrefix:t+"-trade-patterns-section",authorized:r,userLocale:a,onUpdate:c})):o.a.createElement(o.a.Fragment,null);var F=a(20);const _=()=>{var e,t;const[a,g]=Object(l.a)([O.a.IInternationalization,F.a.ITradeDrawerController]),{model:T,common:k}=a.getLanguageFile(),{drawerId:D,tabId:N}=Object(r.i)(),C=null!==(e=Object(s.a)(b.a.getUserLocale))&&void 0!==e?e:v.f[0],h=null!==(t=Object(s.a)(m.a))&&void 0!==t?t:new u.a({}),R=Object(y.a)([f.a.LegPUT],h);Object(n.useEffect)(()=>{D&&g.loadTradeOverview(D)},[D,g]);const I=Object(s.a)(p.a.getTSModelBuilt,d.a.leg,null!=D?D:0,c.a),S=!!(null==I?void 0:I.isObjectActive),w=Object(n.useMemo)(()=>D?Object(i.a)({isActive:S,key:D,type:d.a.leg,deleteTitle:T.trade}):[],[D,S,T.trade]),A=Object(n.useCallback)(()=>{I&&g.loadTradePatterns(I.key)},[g,I]),x=Object(n.useMemo)(()=>I?[{id:"overview",label:k.overview,content:()=>o.a.createElement(z,{i:a,reactKeyPrefix:"doc-common-components-drawer-trade-drawer-overview",userLocale:C,trade:I,authorized:R,onUpdate:A})}]:[],[R,k.overview,a,A,I,C]);return I?o.a.createElement(P.a,{drawerKey:Number(D),tabs:x,tabId:N,drawerRoute:j.a.tradeDrawer,reactKeyPrefix:"doc-common-components-drawer-trade-drawer",key:j.a.tradeDrawer+D,secondaryActions:w,isObjectActive:I,subjectLoaded:!!I,subject:T.trade,subjectName:I.legDesc,tsModelType:d.a.leg}):o.a.createElement(o.a.Fragment,null)}},1948:function(e,t,a){"use strict";a.d(t,"a",(function(){return B}));a(10),a(11);var n=a(23),o=a(97),r=a(6),c=a(42),i=a(35),l=a(3),s=a(0),d=a.n(s),u=a(21),m=a(1),p=a(82),b=a(15),y=a(20),f=a(1202),v=a(67),O=a(100),P=a.n(O),j=a(51),g=a(12),T=a(5),k=a(1325);const[D]=Object(r.a)([l.a.IInternationalization]),{common:N,model:C}=D.getLanguageFile(),h=[{content:C.tzPeriodName,contentType:T.a.TEXT},{content:N.fromDate,contentType:T.a.DATE,dateTimeFormatOptions:i.a.longLocalizedDate},{content:N.toDate,contentType:T.a.DATE,dateTimeFormatOptions:i.a.longLocalizedDate},{content:C.isDST,contentType:T.a.ELEMENT},{content:C.offset,contentType:T.a.TEXT}];var R=a(19),I=a(38);function S(e,t,a,n,o){const{common:r,model:c}=o.getLanguageFile(),i={reactKeyPrefix:e,disableUpdate:!0,fieldOptions:[{fieldName:"tzPeriodName",label:c.timezoneName,onUpdateOverride:a.bind(null,"tzPeriodName")},{fieldName:"fromDate",label:r.fromDate,formControlProps:{required:!0},breakpoints:g.h,onUpdateOverride:a.bind(null,"fromDate"),dateInputProps:{error:!!t.fromDate&&!t.fromDate,showTime:!0,showShortDate:!1}},{fieldName:"toDate",label:r.toDate,formControlProps:{required:!0},breakpoints:g.h,onUpdateOverride:a.bind(null,"toDate"),dateInputProps:{error:!!t.toDate&&!t.toDate,showTime:!0,showShortDate:!1}},{fieldName:"offset",label:c.offset,breakpoints:g.e,onUpdateOverride:a.bind(null,"offset"),numberInputProps:{maskSettings:{disableThousandSeparator:!0,fixedDecimalScale:!1}},secondaryFieldOption:{fieldName:"isDst",label:c.isDST,formControlLabelProps:{labelPlacement:"top",checked:t.isDst,componentsProps:{typography:{fontSize:".786rem",color:I.b.bergenRain.secondary[7]}}},onUpdateOverride:a.bind(null,"isDst")}}],object:t,type:m.a.tzperiod,userLocale:n};return Object(R.a)(i)}var w=a(81),A=a(46);const x=({reactKeyPrefix:e,i:t,userLocale:a,timezone:n,isRepo:o})=>{const{common:r,model:c}=t.getLanguageFile(),[i,l]=Object(s.useState)(!1),[u,p]=Object(s.useState)(),b=Object(s.useCallback)(()=>{l(!i)},[i]),y=()=>{p(void 0),b()},f=Object(s.useCallback)(e=>!e.fromDate,[]),O=Object(s.useCallback)(e=>{const t=n.tzPeriods.find(t=>t.key===e);t&&(p(t),b())},[b,n.tzPeriods]),T=Object(s.useMemo)(()=>h,[]);const D=Object(s.useMemo)(()=>n.tzPeriods.map(e=>(e=>{const{key:t,tzPeriodName:a,fromDate:n,toDate:o,isDst:r,offset:c}=e,i=d.a.createElement(k.a,{checked:r,color:"primary",disabled:!0});return{content:[a,null!=n?n:new Date,null!=o?o:new Date,{rawValue:r,content:i},c],id:t}})(e)),[n.tzPeriods]),N=[{disabled:!o,icon:P.a,iconButtonProps:{color:"primary","aria-label":r.create},label:r.create,onClick:()=>{b()},reactKeyPrefix:e+"-create-button-action"}],C=Object(s.useMemo)(()=>u&&(null==u?void 0:u.key)?{type:m.a.tzperiod}:void 0,[u]),R=Object(s.useMemo)(()=>u&&(null==u?void 0:u.key)?void 0:{type:m.a.tzperiod},[u]),I=Object(s.useCallback)(()=>{y(),A.a.next()},[y]);return d.a.createElement(d.a.Fragment,null,d.a.createElement(v.a,{title:c.timezonePeriods,userLocale:a,headers:T,defaultComparator:function(e,t){const a=Object(w.a)(e,"fromDate",null),n=Object(w.a)(t,"fromDate",null);return null===a||null===n?-1:n.getTime()-a.getTime()},data:D,reactKeyPrefix:e+"-timezone-periods-table",primaryActions:N,onRowClick:o?O:void 0,pagination:{enabled:!0,rowsPerPage:[15]}}),d.a.createElement(j.a,{modalProps:{reactKeyPrefix:e+"-create-edit-modal",maxWidth:"xs",open:i,title:c.updateCreateTzPeriod(!!(null==u?void 0:u.key)),confirmBtnName:(null==u?void 0:u.key)?r.save:r.create,onCloseModal:y,onDelete:I},getColSpec:S,isConfirmDisabled:f,updateProps:C,propertiesToSet:R?{timezone:n}:void 0,createProps:R,selectedObject:u,allowDelete:!!(null==u?void 0:u.key)&&!(null==u?void 0:u.isObjectActive),breakpoints:g.e,stopDeleteSinglePropagation:!0}))},E=({i:e,userLocale:t,reactKeyPrefix:a,timezone:n,isRepo:o})=>n?d.a.createElement(x,{reactKeyPrefix:a+"-overview-table",timezone:n,i:e,userLocale:t,isRepo:o}):d.a.createElement(d.a.Fragment,null);var M=a(32),U=a(43),L=a(30),K=a(66),q=a(208);const B=()=>{var e;const[t,a]=Object(r.a)([l.a.IInternationalization,y.a.ITimezoneController]),{common:v,model:O}=t.getLanguageFile(),{drawerId:P,tabId:j}=Object(o.i)(),g=Object(n.a)(c.a.getUserLocale)||i.f[0],T=null!==(e=Object(n.a)(M.a))&&void 0!==e?e:new U.a({}),k=Object(K.a)([L.a.TimezonePUT],T),[D,N]=Object(s.useState)(!1);Object(s.useEffect)(()=>{P&&a.loadTimezone(P)},[a,P]);const C=Object(n.a)(u.a.getTSModelBuilt,m.a.timezone,null!=P?P:0,f.a),h=Object(s.useCallback)(e=>{if(null==C?void 0:C.key){const t={timezoneName:e};a.update(C.key,t)}},[C,a]),R=Object(s.useCallback)(()=>{C&&N(!D)},[C,D]),I=Object(s.useMemo)(()=>C?[{id:"overview",label:v.overview,content:()=>d.a.createElement(E,{i:t,timezone:C,reactKeyPrefix:"doc-modules-timezone-drawer-overview-tab",userLocale:g,isRepo:k})}]:[],[C,v.overview,t,g,k]);return C?d.a.createElement(p.a,{key:b.a.timezoneDrawer+P,reactKeyPrefix:"doc-modules-timezone-drawer",drawerKey:Number(P),drawerRoute:b.a.timezoneDrawer,subject:O.timezone,subjectLoaded:!!C,secondaryActions:[{disabled:!1,text:v.editTimezoneName,onClick:N}],subjectName:C.timezoneName,tabs:I,tabId:j,tsModelType:m.a.timezone},D&&d.a.createElement(q.a,{reactKeyPrefix:"doc-modules-timezone-drawer-edit-timezone-name-modal",title:v.editTimezoneName,value:C.timezoneName,showModal:D,onClose:R,onConfirm:h,required:!0})):d.a.createElement(d.a.Fragment,null)}},1999:function(e,t,a){"use strict";a.d(t,"a",(function(){return R}));a(10),a(11);var n=a(0),o=a.n(n),r=a(23),c=a(97),i=a(6),l=a(1),s=a(21),d=a(3),u=a(1186),m=a(20),p=a(42),b=a(35),y=a(82),f=a(15),v=a(37),O=a(12),P=a(75),j=a(71),g=(a(93),a(19));const T=({reactKeyPrefix:e,tcType:t,userLocale:a,i:r,authorized:c})=>{const{common:i}=r.lang(),s=Object(n.useMemo)(()=>((e,t,a,n,o)=>{const{common:r}=n.getLanguageFile(),c={reactKeyPrefix:e,fieldOptions:[{disabled:!o,fieldName:"tcTypeDesc",label:r.description},{disabled:!o,fieldName:"tcTypeCode",label:r.code}],object:t,type:l.a.tctype,userLocale:a};return Object(g.a)(c)})(e,t,a,r,c),[e,t,a,r,c]);return o.a.createElement(j.a,null,o.a.createElement(P.a,{title:i.details}),o.a.createElement(v.a,{reactKeyPrefix:e+"-main-details-field-list",items:s,breakpoints:O.h}))};var k=a(150),D=a(43),N=a(32),C=a(66),h=a(30);const R=()=>{var e,t;const[a,v]=Object(i.a)([d.a.IInternationalization,m.a.ITcTypeDrawerController]),O=null!==(e=Object(r.a)(p.a.getUserLocale))&&void 0!==e?e:b.f[0],{model:P,common:j}=a.getLanguageFile(),{drawerId:g,tabId:R}=Object(c.i)(),I=null!==(t=Object(r.a)(N.a))&&void 0!==t?t:new D.a({}),S=Object(C.a)([h.a.TcTypePUT],I);Object(n.useEffect)(()=>{g&&v.loadTcTypeOverview(g)},[g,v]);const w=Object(r.a)(s.a.getTSModelBuilt,l.a.tctype,null!=g?g:0,u.a),A=!!(null==w?void 0:w.isObjectActive),x=Object(n.useMemo)(()=>w&&S?Object(k.a)({isActive:A,key:g,type:l.a.tctype,deleteTitle:P.tcTypeDesc}):[],[w,S,A,g,P.tcTypeDesc]),E=Object(n.useMemo)(()=>w?[{id:"overview",label:j.overview,content:()=>o.a.createElement(T,{tcType:w,i:a,reactKeyPrefix:"doc-common-components-drawer-tc-type-drawer-overview",userLocale:O,authorized:S})}]:[],[S,w,j.overview,a,O]);return w?o.a.createElement(y.a,{reactKeyPrefix:"doc-common-components-drawer-tc-type-drawer",drawerKey:Number(g),drawerRoute:f.a.tcTypeDrawer,key:f.a.tcTypeDrawer+g,isObjectActive:w,subject:P.tcTypeDesc,subjectLoaded:!!w,subjectName:w.tcTypeDesc,tabs:E,tabId:R,tsModelType:l.a.tctype,secondaryActions:x}):o.a.createElement(o.a.Fragment,null)}},2e3:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));a(10),a(11);var n=a(0),o=a.n(n),r=a(97),c=a(35),i=a(82),l=a(15),s=a(6),d=a(23),u=a(1),m=a(21),p=a(42),b=a(3),y=a(12),f=a(37),v=a(71),O=a(28),P=a(19),j=a(581);const g=(e,t,a,n,o)=>{const{common:r,model:c}=n.getLanguageFile(),i=[{disabled:o,fieldName:"terminalCode",label:c.terminalCode},{disabled:o,fieldName:"port",label:c.portName},{disabled:o,fieldName:"longitude",label:r.longitude,breakpoints:y.h,numberInputProps:{maskSettings:O.a.mask12}},{disabled:o,fieldName:"latitude",label:r.latitude,breakpoints:y.h,numberInputProps:{maskSettings:O.a.mask12}}],l={updateResponseFields:j.a,reactKeyPrefix:e,fieldOptions:i,userLocale:a,object:t,type:u.a.terminal};return Object(P.a)(l)},T=({i:e,userLocale:t,reactKeyPrefix:a,terminal:n,disabled:r})=>o.a.createElement(v.a,null,o.a.createElement(f.a,{reactKeyPrefix:a+"-field-list",items:g(a,n,t,e,r),breakpoints:y.e}));var k=a(7),D=a(248),N=a(32),C=a(43),h=a(150),R=a(208),I=a(20),S=a(48);const w=()=>{var e,t;const[a,y,f]=Object(s.a)([b.a.IInternationalization,k.a.ITSModelActions,I.a.ITerminalDrawerController]),{model:v,common:O}=a.getLanguageFile(),{drawerId:P,tabId:g}=Object(r.i)(),w=Object(n.useMemo)(()=>window.location.hostname.includes(S.a.DATA_REPO_URL,0),[]),A=Object(d.a)(m.a.getTSModelBuilt,u.a.terminal,null!=P?P:0,j.a)||new D.a({}),x=Object(d.a)(p.a.getUserLocale)||c.f[0],E=null!==(e=Object(d.a)(N.a))&&void 0!==e?e:new C.a({}),[M,U]=Object(n.useState)(!1);Object(n.useEffect)(()=>{P&&0!==parseInt(P)&&y.loadSingleAction({fields:j.a,key:P,type:u.a.terminal})},[P,y]);const L=Object(n.useMemo)(()=>!A||!w||"DATALOY"!==E.userCode,[w,A,E.userCode]),K=Object(n.useCallback)(()=>{U(!0)},[]),q=Object(n.useCallback)(()=>{U(!1)},[]),B=null!==(t=null==A?void 0:A.isObjectActive)&&void 0!==t&&t,z=Object(n.useMemo)(()=>{if(P){return[...L?[]:Object(h.a)({isActive:B,key:P,type:u.a.terminal,deleteTitle:v.terminal,allowDelete:!1}),{text:O.edit+" "+v.terminalName,onClick:K,disabled:L}]}return[]},[v.terminal,B,P,v,K,O.edit,v.terminalName,L]),F=Object(n.useCallback)(e=>{if(A){const t={terminalName:e};f.update(A.key,t)}},[A,f]),_=Object(n.useMemo)(()=>A?[{id:"overview",content:()=>o.a.createElement(T,{reactKeyPrefix:"doc-common-components-drawer-terminal-drawerterminal-overview",terminal:A,userLocale:x,i:a,disabled:L}),label:O.overview}]:[],[A,O.overview,x,a,L]);return A?o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{key:l.a.terminalDrawer+P,reactKeyPrefix:"doc-common-components-drawer-terminal-drawer",subject:v.terminal,subjectName:A?A.terminalName:"",subjectLoaded:!!A,drawerRoute:l.a.terminalDrawer,drawerKey:Number(P),secondaryActions:z,isObjectActive:A,tabs:_,tabId:g,tsModelType:u.a.terminal,reloadParentDrawer:()=>{}}),o.a.createElement(R.a,{reactKeyPrefix:"doc-common-components-drawer-terminal-draweredit-terminal-name-modal",title:O.edit+""+v.terminalName,value:A.terminalName,showModal:M,onClose:q,onConfirm:F})):o.a.createElement(o.a.Fragment,null)}},352:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(87),o=a(820),r=a(2093);const c=Object(r.a)(Object(n.a)(["ballastBonus","bankAccount.bankAccountNo","bunkersCurrency.currencyCode","businessUnit.businessUnitName","calculateProfitLoss","charterer.addresses.city","charterer.businessPartnerName","charterer.businessPartnerCode","charterer.businessPartnerType.businessPartnerTypeDesc","charterer.bankAccounts.bankAccountNo","charteringResponsible.userName","comments","commissionAddress","commissionBroker","company.companyName","cpDate","cpForm.cpForm","currency.currencyCode","deliveryDate","deliveryPort.portName","deliveryPort.timezoneOffset","deliveryRange","dlPriceDelivery","dlPriceRedelivery","dlRobDelivery","dlRobRedelivery","doAtSea","doInPort","doInPortWorking","doPriceDelivery","doPriceRedelivery","doRobDelivery","doRobRedelivery","flPriceDelivery","flPriceRedelivery","flRobDelivery","flRobRedelivery","foCleaning","foGeneratorAtSea","foGeneratorDischarging","foGeneratorLoading","foHeatingPerDay","foInPort","foInPortWorking","foPriceDelivery","foPriceRedelivery","foRobDelivery","foRobRedelivery","guarantor.businessPartnerName","ilohc","isBunkersRevaluatedCpPrice","isCvePerMonth","isInvoiceConsumptionBased","isInvoiceLocalTime","isPerCalendarMonth","isPerMonth","isTcIn","laycanFrom","laycanTo","operator.userName","owner.businessPartnerName","owner.businessPartnerCode","owner.businessPartnerType.businessPartnerTypeDesc","owner.bankAccounts.bankAccountNo","owner.addresses.city","paymentCycle","redeliveryDate","redeliveryPort.portName","redeliveryRange","speeds.foConsumption","speeds.isActive","speeds.isBallast","speeds.isLoaded","speeds.speed","tcBenchmarkIndex.marketIndexName","tcBenchmarkPercent","tcDeliveryTerm.tcDeliveryTermDesc","tcDurations.isOption","tcDurations.marketIndexPercent","tcDurations.optionDeclaration","tcDurations.optionDeclaredDate","tcDurations.optionStatus.statusTypeDesc","tcDurations.optionStatus.statusTypeCode","tcDurations.profitSplitPercent","tcDurations.sequenceNo","tcDurations.tcDuration","tcDurations.tcDurationTimeUnit","tcDurations.tcDurationVariance","tcDurations.tcRateFloor","tcDurations.tcRateIndex.marketIndexName","tcDurations.tcRateRoof","tcDurations.tcRates.sequenceNo","tcDurations.tcRates.tcRate","tcDurations.tcRates.tcRateDuration","tcDurations.tcRates.tcRateStartDate","tcRedeliveryTerm.tcDeliveryTermDesc","tcType.tcTypeDesc","variousInvoiceCurrency.currencyCode","variousInvoiceInterval","variousInvoiceText","variousToBeInvoiced","vesselCode.vessel.vesselName","voyages.voyageHeader.voyageStatus.statusTypeCode","voyages.voyageHeader.voyageStartDate","voyages.tcIn.key","voyages.portCallsFromVoyage.portCallSequence","voyages.portCallsFromVoyage.reasonForCall.reasonForCall","tcNotices.tc.key","tcNotices.sequenceNo","tcNotices.isNoticeRedelivery","tcNotices.tcNoticeDays","isBareboat"]),o.a)},581:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={longitude:"*",latitude:"*",port:{portName:"*"},terminalCode:"*",terminalName:"*",isObjectActive:"*"}}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1891:function(e,t,a){"use strict";a.d(t,"a",(function(){return Qe}));a(10),a(11),a(158),a(109);var o=a(0),r=a.n(o),n=a(97),l=a(61),i=a(73),s=a(76),c=a(65),u=a(6),d=a(47),y=a(236),p=a(1),m=a(33),C=a(94),b=a(7),T=a(112),O=a(41),f=a(3),v=a(15),I=a(80),E=a(27);const N={businessPartner:{businessPartnerName:"*"},documentAmount:"*",documentCurrency:{currencyCode:"*"},documentDate:"*",documentLines:Object.assign({},{voyage:{key:"*",vessel:{vesselName:"*"},voyageHeader:{referenceNo:"*"},tcIn:{key:"*"}}}),documentNo:"*",documentText:"*",documentType:{documentTypeDesc:"*"},invoicingStatus:{statusTypeCode:"*",statusTypeDesc:"*"},paidAmount:"*",externalDocumentNo:"*",documentPaymentTerms:{dueDate:"*"}},P={key:"*",voyage:{tcIn:{owner:{businessPartnerName:"*"},commissions:{broker:"*",creditCharterer:"*"}},vessel:{vesselName:"*"},voyageHeader:{referenceNo:"*",operator:{userName:"*"},voyageStatus:{statusTypeDesc:"*"},voyageStartDate:"*"}}};var g=a(14),S=a(4),_=a(423),A=a(96),L=a(86),R=a(488),D=a(165);const G=g.a.get(f.a.IInternationalization),{common:j,model:h,menu:U}=G.lang(),k="accountFilterPayable",q="accountFilterReceivable",F="accountFilterAll";function M(e,t){const a=T.b;return[Object(D.a)(S.c.GROUP_START,a,"MY_VESSELS_GROUP_START"),{queryParamName:t+"vesselCodes.accountantResponsible",field:"accountantId",value:e,filterGroupCode:a,operator:S.c.EQUALS,type:S.d.STRING,filterCode:"accountant",resolveField:t+"vesselCodes.accountantResponsible"},Object(D.a)(S.c.OR,a,"MY_VESSELS_OR1"),{queryParamName:t+"vesselCodes.claimOperator",field:"claimOperatorId",value:e,filterGroupCode:a,operator:S.c.EQUALS,type:S.d.STRING,filterCode:"chartering",resolveField:t+"vesselCodes.claimOperator"},Object(D.a)(S.c.OR,a,"MY_VESSELS_OR2"),{queryParamName:t+"vesselCodes.masterUser",field:"masterUserId",value:e,filterGroupCode:a,operator:S.c.EQUALS,type:S.d.STRING,filterCode:"operator",resolveField:t+"vesselCodes.masterUser"},Object(D.a)(S.c.OR,a,"MY_VESSELS_OR3"),{queryParamName:t+"vesselCodes.operator",field:"operatorId",value:e,filterGroupCode:a,operator:S.c.EQUALS,type:S.d.STRING,filterCode:"chartering",resolveField:t+"vesselCodes.operator"},Object(D.a)(S.c.GROUP_END,a,"MY_VESSELS_GROUP_END")]}const x=()=>[{label:j.receivable,filters:[{field:"documentType",filterGroupCode:T.b,queryParamName:"documentType.documentType",operator:S.c.IN,type:S.d.STRING,value:["INO","CRO"],optionCode:q,filterCode:T.b+"_ACCOUNTS"}]},{label:j.payable,filters:[{field:"documentType",filterGroupCode:T.b,queryParamName:"documentType.documentType",operator:S.c.IN,type:S.d.STRING,value:["INI","CRI","APR"],optionCode:k,filterCode:T.b+"_ACCOUNTS"}]}],V=()=>[{label:j.all,filters:[{field:"documentType",filterGroupCode:T.b,queryParamName:"documentType.documentType",operator:S.c.IN,type:S.d.STRING,value:["INI","CRI","INO","CRO","APR"],optionCode:F,filterCode:T.b+"_ACCOUNTS"}]}],Y=(e,t)=>[{label:j.myVoyages,filters:Object(R.a)(T.b,t+"voyage",e)}],H=(e,t)=>[{label:j.myVessels,filters:M(e,t)}],B=()=>{const e={field:"key",filterGroupCode:T.b,operator:S.c.IN,type:S.d.STRING,optionCode:"companyFilter",queryParamName:"company.key"};return[{label:h.company,filterObjectValuePath:"key",typeaheadProps:{type:p.a.company,objectPaths:["companyName"],includeDisabledQuery:!0},filters:[e]}]},K=e=>{const t={field:"key",filterGroupCode:T.b,operator:S.c.IN,type:S.d.STRING,optionCode:"businessPartnerFilter",queryParamName:e+"businessPartner.key"};return[{label:h.businessPartner,filterObjectValuePath:"key",typeaheadProps:{type:p.a.businesspartner,objectPaths:L.b.businessPartner,includeDisabledQuery:!0},filters:[t]}]},w=e=>[{label:h.vessel,filterObjectValuePath:"key",typeaheadProps:{type:p.a.vessel,objectPaths:["vesselName"],includeDisabledQuery:!0},filters:[e?_.d:_.b]}],z=e=>[{label:h.voyage,filterObjectValuePath:"referenceNo",typeaheadProps:{type:p.a.voyageheader,objectPaths:["referenceNo"],query:"filter=referenceNo(NOTNULL)&filter=voyage.fleetPlanVoyages.fleetPlan.fleetPlanCode(EQ)MASTER"},filters:[e?_.e:_.c]}],Q=()=>{const e={field:"key",filterGroupCode:T.b,operator:S.c.IN,type:S.d.STRING,optionCode:"invStatusFilter",queryParamName:"invoicingStatus.key"},t={field:"key",filterGroupCode:T.b,operator:S.c.IN,type:S.d.STRING,optionCode:"voyStatusFilter",queryParamName:"documentLines.voyage.voyageHeader.voyageStatus.key"};return[{filterObjectValuePath:"key",typeaheadProps:{label:h.invoiceStatus,type:p.a.statustype,objectPaths:["statusTypeDesc"],query:"filter=statusClass.statusClassCode(EQ)INV&filter=statusTypeCode(NE)PEN"},filters:[e]},{filterObjectValuePath:"key",typeaheadProps:{label:h.voyageStatus,type:p.a.statustype,objectPaths:["statusTypeDesc"],query:"filter=statusClass.statusClassCode(EQ)VOY&filter=statusTypeCode(NE)EST"},filters:[t]}]},X=()=>({options:x(),default:V(),all:[...x(),...V()]}),W=e=>{const t={field:"key",filterGroupCode:T.b,operator:S.c.IN,type:S.d.STRING,optionCode:"portFilter",queryParamName:e+"portCall.port.key"},a={field:"key",filterGroupCode:T.b,operator:S.c.IN,type:S.d.STRING,optionCode:"currencyFilter",queryParamName:"documentCurrency.key"},o={field:"key",filterGroupCode:T.b,operator:S.c.IN,type:S.d.STRING,optionCode:"accountFilter",queryParamName:e+"account.key"},r={field:"externalDocumentNo",filterGroupCode:T.b,operator:S.c.IN,type:S.d.STRING,optionCode:"externalDocumentNoFilter",queryParamName:"externalDocumentNo"},n={field:"key",filterGroupCode:T.b,operator:S.c.IN,type:S.d.STRING,optionCode:"operatorFilter",queryParamName:e+"voyage.voyageHeader.operator.key"},l={field:"key",filterGroupCode:T.b,operator:S.c.IN,type:S.d.STRING,optionCode:"accountantResponsibleFilter",queryParamName:e+"voyage.voyageHeader.accountantResponsible.key"};return[{label:h.port,filterObjectValuePath:"key",typeaheadProps:{label:h.port,type:p.a.port,objectPaths:["portName"],query:A.d},filters:[t]},{label:h.currency,filterObjectValuePath:"key",typeaheadProps:{label:h.currency,type:p.a.currency,objectPaths:["currencyCode"]},filters:[a]},{label:U.account,filterObjectValuePath:"key",typeaheadProps:{label:U.account,type:p.a.account,objectPaths:["accountDesc"],includeDisabledQuery:!0},filters:[o]},...""!==e?[{label:h.externalDocumentNo,filterObjectValuePath:"externalDocumentNo",typeaheadProps:{label:h.externalDocumentNo,type:p.a.document,objectPaths:["externalDocumentNo"],query:"filter=externalDocumentNo(NOTNULL)"},filters:[r]}]:[],{label:h.responsibleOperator,filterObjectValuePath:"key",typeaheadProps:{label:h.responsibleOperator,type:p.a.user,objectPaths:["userName"]},filters:[n]},{label:h.responsibleAccountant,filterObjectValuePath:"key",typeaheadProps:{label:h.responsibleAccountant,type:p.a.user,objectPaths:["userName"]},filters:[l]}]};var Z=a(24),J=a(23),$=a(43),ee=a(32);function te({reactKeyPrefix:e,onInvoicesTab:t}){var a;const o=g.a.get(f.a.IInternationalization),n=null!==(a=Object(J.a)(ee.a))&&void 0!==a?a:new $.a({}),l=t?"documentLines.":"",{common:i,model:s}=o.lang();return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(Z.a,{reactKeyPrefix:e+"-accounts",configs:X().options,type:S.b.RADIO,label:o.lang().common.accounts,filterCode:"ACCOUNTS",clearOnMount:!1}),r.a.createElement(Z.a,{reactKeyPrefix:e+"-my-voyages",configs:Y(n.key,l),type:S.b.BOOLEAN,label:i.myVoyages,filterCode:"MY_VOYAGES",clearOnMount:!1}),r.a.createElement(Z.a,{reactKeyPrefix:e+"-my-vessels",configs:H(n.key,l+"voyage.vessel."),type:S.b.BOOLEAN,label:i.myVessels,filterCode:"MY_VESSELS",clearOnMount:!1}),r.a.createElement(Z.a,{reactKeyPrefix:e+"-companies",configs:B(),type:S.b.TYPEAHEAD,label:s.company,filterCode:"COMPANIES",clearOnMount:!1}),r.a.createElement(Z.a,{reactKeyPrefix:e+"-business-partner",configs:K(l),type:S.b.TYPEAHEAD,label:s.businessPartner,filterCode:"BUSINESS_PARTNER",clearOnMount:!1}),r.a.createElement(Z.a,{reactKeyPrefix:e+"-vessel",configs:w(t),type:S.b.TYPEAHEAD,label:s.vessel,filterCode:"VESSEL",clearOnMount:!1}),r.a.createElement(Z.a,{reactKeyPrefix:e+"-voyage",configs:z(t),type:S.b.TYPEAHEAD,label:s.voyage,filterCode:"VOYAGE",clearOnMount:!1}),t&&r.a.createElement(Z.a,{reactKeyPrefix:e+"-status",configs:Q(),type:S.b.TYPEAHEAD,label:i.status,filterCode:"STATUS",clearOnMount:!1}),r.a.createElement(Z.a,{reactKeyPrefix:e+"-more",configs:W(l),type:S.b.TYPEAHEAD,label:o.lang().common.more,filterCode:"MORE",clearOnMount:!1}))}const ae=r.a.memo(te);var oe=a(81),re=a(983),ne=a(2473),le=a(105),ie=a(40),se=a(5),ce=a(92),ue=a(823),de=a(35),ye=a(78),pe=a(16),me=a(88);const Ce=new me.a,{common:be,model:Te}=Ce.getLanguageFile(),Oe=[{field:Te.createdDate,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.DESC,queryParamName:"key"}],fe=(S.c.IN,S.d.STRING,{createdDate:{field:Te.createdDate,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.DESC,queryParamName:"key"},documentDate:{field:Te.documentDate,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"documentDate"},documentType:{field:Te.documentType,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"documentType.documentTypeDesc"},documentNo:{field:Te.documentNo,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"documentNo"},businessPartner:{field:Te.businessPartner,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"businessPartner%2B.businessPartnerName"},documentText:{field:Te.documentText,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"documentText"},currency:{field:Te.currency,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"documentCurrency.currencyCode"},amount:{field:be.amount,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"documentAmount"},paidAmount:{field:be.paidAmount,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"paidAmount"},vessel:{field:Te.vessel,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"documentLines%2B.voyage%2B.vessel%2B.vesselName"},voyage:{field:Te.voyage,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"documentLines%2B.voyage%2B.voyageHeader%2B.referenceNo"},status:{field:be.status,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"invoicingStatus.statusTypeDesc"},dueDate:{field:be.dueDate,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"documentPaymentTerms.dueDate"},aging:{field:be.aging,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"documentPaymentTerms.dueDate"},externalDocumentNo:{field:Te.externalDocumentNo,groupCode:"INVOICES_LIST_SORT_GROUP_CODE",operator:pe.b.ASC,queryParamName:"externalDocumentNo"}}),[ve]=Object(u.a)([f.a.IInternationalization]),{common:Ie,model:Ee}=ve.lang();function Ne({voyage:e}){var t,a,o,n,l,i,s,c,u;const d=Object(oe.a)(e,"voyageHeader.voyageStatus.statusTypeDesc","");return[null!==(a=null===(t=null==e?void 0:e.voyageHeader)||void 0===t?void 0:t.referenceNo)&&void 0!==a?a:"",null!==(n=null===(o=null==e?void 0:e.vessel)||void 0===o?void 0:o.vesselName)&&void 0!==n?n:"",null!==(s=null===(i=null===(l=null==e?void 0:e.voyageHeader)||void 0===l?void 0:l.operator)||void 0===i?void 0:i.userName)&&void 0!==s?s:"",null!==(u=null===(c=null==e?void 0:e.voyageHeader)||void 0===c?void 0:c.voyageStartDate)&&void 0!==u?u:"",{rawValue:d,content:r.a.createElement(ie.a,{label:d,priority:le.a.getStatusPriority(d,p.a.voyage)})}]}const Pe=[{content:Ee.voyage,contentType:se.a.TEXT},{content:Ee.vessel,contentType:se.a.TEXT},{content:Ee.responsibleOperator,contentType:se.a.TEXT},{content:Ee.voyageStart,contentType:se.a.DATE,dateTimeFormatOptions:de.a.shortLocalizedDate},{alignHeaderContent:se.c.LEFT,content:Ee.voyageStatus,contentType:se.a.ELEMENT}];function ge(e){var t,a,o,n,l,i,s,c,u,d,y;const m=null!==(a=null===(t=e.invoicingStatus)||void 0===t?void 0:t.statusTypeDesc)&&void 0!==a?a:"",C=r.a.createElement(ie.a,{label:m,priority:le.a.getStatusPriority(m,p.a.document)}),b=Object(re.a)(null==e?void 0:e.documentLines.map(e=>{var t,a,o;return null!==(o=null===(a=null===(t=e.voyage)||void 0===t?void 0:t.vessel)||void 0===a?void 0:a.vesselName)&&void 0!==o?o:""}).filter(Boolean)),T=Object(re.a)(null==e?void 0:e.documentLines.map(e=>{var t,a,o;return null!==(o=null===(a=null===(t=e.voyage)||void 0===t?void 0:t.voyageHeader)||void 0===a?void 0:a.referenceNo)&&void 0!==o?o:""}).filter(Boolean)),{documentAmount:O,paidAmount:f}=e,v=Object(ne.a)(e.documentPaymentTerms.map(e=>e.dueDate)),I=v?ye.a.getDaysBetween(v,new Date):"";return[e.documentDate,null!==(n=null===(o=e.documentType)||void 0===o?void 0:o.documentTypeDesc)&&void 0!==n?n:"",null!==(l=e.documentNo)&&void 0!==l?l:"",null!==(s=null===(i=e.businessPartner)||void 0===i?void 0:i.businessPartnerName)&&void 0!==s?s:"",null!==(c=e.documentText)&&void 0!==c?c:"",null!==(d=null===(u=e.documentCurrency)||void 0===u?void 0:u.currencyCode)&&void 0!==d?d:"",O,f,ue.a.openAmount(O,f),ce.a.getMultipleString(b),ce.a.getMultipleString(T),{rawValue:m,content:C},null!==(y=e.externalDocumentNo)&&void 0!==y?y:"",null!=v?v:"",`${I} ${""!==I?Ie.days:""}`]}const Se=[{content:Ee.documentDate,contentType:se.a.DATE,sortConfig:fe.documentDate,dateTimeFormatOptions:de.a.shortLocalizedDate},{content:Ee.documentType,contentType:se.a.TEXT,sortConfig:fe.documentType},{content:Ee.documentNo,contentType:se.a.TEXT,sortConfig:fe.documentNo},{content:Ee.businessPartner,contentType:se.a.TEXT,sortConfig:fe.businessPartner},{content:Ee.documentText,contentType:se.a.TEXT,sortConfig:fe.documentText},{content:Ee.currency,contentType:se.a.TEXT,sortConfig:fe.currency},{content:Ie.amount,contentType:se.a.NUMBER,numberFormatOptions:ce.b.format2,sortConfig:fe.amount},{content:Ie.paidAmount,contentType:se.a.NUMBER,numberFormatOptions:ce.b.format2,sortConfig:fe.paidAmount},{content:Ie.openAmount,contentType:se.a.NUMBER,numberFormatOptions:ce.b.format2},{content:Ee.vessel,contentType:se.a.TEXT,sortConfig:fe.vessel},{content:Ee.voyage,contentType:se.a.TEXT,sortConfig:fe.voyage},{content:Ie.status,contentType:se.a.ELEMENT,sortConfig:fe.status,alignHeaderContent:se.c.LEFT},{content:Ee.externalDocumentNo,contentType:se.a.TEXT,hiddenByDefault:!0,sortConfig:fe.externalDocumentNo},{content:Ie.dueDate,contentType:se.a.DATE,hiddenByDefault:!0,sortConfig:fe.dueDate},{content:Ie.aging,contentType:se.a.TEXT,hiddenByDefault:!0,sortConfig:fe.aging,alignHeaderContent:se.c.RIGHT}];var _e=a(503),Ae=a(201),Le=a(42);const[Re]=Object(u.a)([f.a.IInternationalization]),{model:De}=Re.lang(),Ge={voyage:{vessel:{vesselName:"*"},tcIn:{cpDate:"*",owner:{businessPartnerName:"*"},commissions:{broker:"*",creditCharterer:"*"}}}};function je({voyage:e}){var t,a,o,r,n,l,i;return[null!==(a=null===(t=null==e?void 0:e.vessel)||void 0===t?void 0:t.vesselName)&&void 0!==a?a:"",null!==(n=null===(r=null===(o=null==e?void 0:e.tcIn)||void 0===o?void 0:o.owner)||void 0===r?void 0:r.businessPartnerName)&&void 0!==n?n:"",null!==(i=null===(l=null==e?void 0:e.tcIn)||void 0===l?void 0:l.cpDate)&&void 0!==i?i:null]}const he=[{content:De.vessel,contentType:se.a.TEXT},{content:De.businessPartner,contentType:se.a.TEXT},{content:De.cpDate,contentType:se.a.DATE,dateTimeFormatOptions:de.a.shortLocalizedDate}];var Ue=a(464);const ke=new me.a,{model:qe}=ke.getLanguageFile(),Fe=[{field:qe.vessel,groupCode:"PENDING_DOCUMENTS_LIST_GROUP_CODE",operator:pe.b.ASC,queryParamName:"voyage.vessel.vesselName"},{field:qe.voyageReference,groupCode:"PENDING_DOCUMENTS_LIST_GROUP_CODE",operator:pe.b.DESC,queryParamName:"voyage.fleetPlanVoyages.sequence"}];var Me=a(46);const xe=[{field:"tcIn",filterGroupCode:"",operator:S.c.NOT_NULL,queryParamName:"voyage.tcIn",type:S.d.STRING,value:""},{field:"statusTypeCode",filterGroupCode:"",operator:S.c.EQUALS,queryParamName:"invoicingStatus.statusTypeCode",type:S.d.STRING,value:"PEN"},{field:"document",filterGroupCode:"",operator:S.c.NULL,queryParamName:"document",type:S.d.STRING,value:""},{field:"isAccountsPayable",filterGroupCode:"",operator:S.c.EQUALS,queryParamName:"isAccountsPayable",type:S.d.BOOLEAN,value:!0}],Ve=e=>Object(_e.a)(e,"voyage.tcIn.key").map(e=>{var t,a;return new Ae.a(Object.assign(Object.assign({},e),{key:null===(a=null===(t=e.voyage)||void 0===t?void 0:t.tcIn)||void 0===a?void 0:a.key}))}),Ye=e=>{const{reactKeyPrefix:t,listId:a,quickFiltersGroupCode:i}=e,s=Object(J.a)(Le.a.getUserLocale)||de.f[0],c=Object(J.a)(C.a.getFiltersByGroupCode,i),u=Object(n.h)(),d=Object(n.g)(),y=Object(o.useCallback)(e=>{E.a.openDrawer(e.key,v.a.invoiceDrawer,u,d),Me.a.next()},[d,u]),m=Object(o.useCallback)(e=>r.a.createElement(Ue.b,{group:{key:e,type:Ue.a.Tc},isAccountsPayable:!1,isHirePayable:!0,reactKeyPrefix:t+"-pending-tc-document-lines",userLocale:s,autoExpandSizeOneList:!0,onAssemble:y,filters:c}),[c,y,t,s]);return r.a.createElement(l.a,{reactKeyPrefix:t,tsmodelType:p.a.documentline,listId:a,getColSpec:je,fields:Ge,tableHeaders:he,queryFilters:xe,defaultSorts:Fe,quickFiltersGroupCode:i,selectorMiddleware:Ve,pageItemLimit:400,renderCollapsibleRow:m,tableCustomisation:{responsive:!1}})};var He=a(2500);const Be=e=>Object(He.a)(e,"voyage.key").map(e=>{var t;return new Ae.a(Object.assign(Object.assign({},e),{key:null===(t=e.voyage)||void 0===t?void 0:t.key}))}),Ke=e=>{const{reactKeyPrefix:t,listId:a,quickFiltersGroupCode:i,isAccountsPayable:s}=e,c=Object(J.a)(Le.a.getUserLocale)||de.f[0],u=Object(J.a)(C.a.getFiltersByGroupCode,i),d=Object(n.h)(),y=Object(n.g)(),m=Object(o.useCallback)(e=>{E.a.openDrawer(e.key,v.a.invoiceDrawer,d,y),Me.a.next()},[y,d]),b=Object(o.useCallback)(e=>r.a.createElement(Ue.b,{group:{key:e,type:Ue.a.Voyage},isAccountsPayable:s,isHirePayable:!1,reactKeyPrefix:t+"-pending-voyage-document-lines",userLocale:c,autoExpandSizeOneList:!0,onAssemble:m,filters:u}),[u,s,m,t,c]),T=[{field:"statusTypeCode",filterGroupCode:"",operator:S.c.IN,queryParamName:"voyage.voyageHeader.voyageStatus.statusTypeCode",type:S.d.STRING,value:["NOM","OPR","OPC","INV"]},{field:"document",filterGroupCode:"",operator:S.c.NULL,queryParamName:"document",type:S.d.STRING,value:""},{field:"statusTypeCode",filterGroupCode:"",operator:S.c.EQUALS,queryParamName:"invoicingStatus.statusTypeCode",type:S.d.STRING,value:"PEN"},{field:"isAccountsPayable",filterGroupCode:"",operator:S.c.EQUALS,queryParamName:"isAccountsPayable",type:S.d.BOOLEAN,value:s}];return r.a.createElement(l.a,{reactKeyPrefix:t,tsmodelType:p.a.documentline,listId:a,getColSpec:Ne,fields:P,tableHeaders:Pe,queryFilters:T,defaultSorts:Fe,quickFiltersGroupCode:i,selectorMiddleware:Be,pageItemLimit:400,renderCollapsibleRow:b,tableCustomisation:{responsive:!1}})},we={authorizationType:O.a.PERMISSION,authorizedPermissions:m.a.invoices.authorizedPermissions,behaviorOnAuthorizationFail:c.a.REDIRECT_NO_AUTHORIZATION},ze="doc-modules-invoices-list";const Qe=Object(d.a)(e=>{var t;return{filters:null!==(t=C.a.getFiltersByGroupCode(e,T.b))&&void 0!==t?t:[]}},(function(e){Object(s.b)(we);const[t,a]=Object(u.a)([f.a.IInternationalization,b.a.IFilterActions]),[c,d]=Object(o.useState)(!1),{invoices:m,menu:C}=t.getLanguageFile(),O=Object(n.g)(),P=Object(n.h)(),g=Object(o.useCallback)(e=>{E.a.openDrawer(e,v.a.invoiceDrawer,P,O)},[O,P]),S=Object(o.useMemo)(()=>r.a.createElement(l.a,{reactKeyPrefix:ze,tsmodelType:p.a.document,listId:"INVOICES_LIST_ID",getColSpec:ge,onClickItem:g,fields:N,tableHeaders:Se,defaultSorts:Oe,queryFilters:[X().default[0].filters[0]],sortOptions:Object.values(fe),quickFiltersGroupCode:T.b,tableCustomisation:{disableCardSorting:!0,disableSorting:!1}}),[g]),_=Object(o.useCallback)(t=>{const{filters:o}=e.state;o.forEach(e=>y.b.dispatch(a.removeFilterAction(e)));let r=o;t||(r=r.reduce((e,t)=>(q!==t.optionCode&&k!==t.optionCode&&F!==t.optionCode&&"externalDocumentNoFilter"!==t.optionCode&&"invStatusFilter"!==t.optionCode&&"voyStatusFilter"!==t.optionCode&&e.push(t),e),[])),r=r.map(e=>{var a,o,r,n,l,i;return Object.assign(Object.assign({},e),{field:t?e.field.startsWith("documentLines")?e.field:"documentLines."+e.field:e.field.startsWith("documentLines")?e.field.split(".").slice(1).join("."):e.field,queryParamName:t?(null===(a=e.queryParamName)||void 0===a?void 0:a.startsWith("documentLines"))?null!==(r=e.queryParamName)&&void 0!==r?r:"":null!==(o="documentLines."+e.queryParamName)&&void 0!==o?o:"":(null===(n=e.queryParamName)||void 0===n?void 0:n.startsWith("documentLines"))?null===(l=e.queryParamName)||void 0===l?void 0:l.split(".").slice(1).join("."):null!==(i=e.queryParamName)&&void 0!==i?i:""})}),r.forEach(e=>y.b.dispatch(a.putFilterAction(e)))},[a,e.state]),A=Object(o.useMemo)(()=>[{id:"invoices",label:C.invoices,content:()=>S,onActivate:()=>{d(!0),_(!0)}},{id:"pending-receivable",label:m.pendingReceivable,content:()=>r.a.createElement(Ke,{reactKeyPrefix:ze+"-pending-receivable",listId:"PENDING_RECEIVABLE_LIST_ID",quickFiltersGroupCode:T.b,isAccountsPayable:!1}),onActivate:()=>{_(!1),d(!1)}},{id:"pending-payable",label:m.pendingPayable,content:()=>r.a.createElement(Ke,{reactKeyPrefix:ze+"-pending-payable",listId:"PENDING_PAYABLE_LIST_ID",quickFiltersGroupCode:T.b,isAccountsPayable:!0}),onActivate:()=>{_(!1),d(!1)}},{id:"pending-hire-payable",label:m.pendingHirePayable,content:()=>r.a.createElement(Ye,{reactKeyPrefix:ze+"-pending-hire-payable",listId:"PENDING_HIRE_PAYABLE_LIST_ID",quickFiltersGroupCode:T.b}),onActivate:()=>{_(!1),d(!1)}}],[C.invoices,m.pendingReceivable,m.pendingPayable,m.pendingHirePayable,S,_]);return r.a.createElement(i.a,{reactKeyPrefix:ze+"-page",tabs:A,bottomRightContent:r.a.createElement(ae,{reactKeyPrefix:ze+"-page-module-quickfilters",onInvoicesTab:c})},r.a.createElement(I.a,null))}))},1908:function(e,t,a){"use strict";a.d(t,"a",(function(){return le}));a(10),a(11);var o=a(0),r=a.n(o),n=a(97),l=a(311),i=a(61),s=a(73),c=a(76),u=a(65),d=a(6),y=a(1),p=a(33),m=a(41),C=a(3),b=a(15),T=a(27),O=a(80),f=a(983),v=a(105),I=a(40),E=a(5),N=a(92),P=a(14),g=a(16);const S=P.a.get(C.a.IInternationalization),{common:_,model:A}=S.lang(),L="LAYTIME_CALCULATIONS_LIST_SORT_GROUP_CODE",R=[{field:A.createdDate,groupCode:L,operator:g.b.DESC,queryParamName:"key"}],D={createdDate:{field:A.createdDate,groupCode:L,operator:g.b.ASC,queryParamName:"key"},vessel:{field:A.vessel,groupCode:L,operator:g.b.ASC,queryParamName:"voyage.vessel.vesselName"},voyage:{field:A.voyageReference,groupCode:L,operator:g.b.ASC,queryParamName:"voyage.voyageHeader.referenceNo"},charterer:{field:A.charterer,groupCode:L,operator:g.b.ASC,queryParamName:"charterer%2B.businessPartnerName"},responsible:{field:A.responsible,groupCode:L,operator:g.b.ASC,queryParamName:"responsible.userName"},status:{field:_.status,groupCode:L,operator:g.b.ASC,queryParamName:"status.statusTypeDesc"}},G=P.a.get(C.a.IInternationalization),{model:j,common:h}=G.getLanguageFile(),U=e=>{var t,a,o,n,l,i,s;const{voyage:c,charterer:u,responsible:d,status:p,cargoPorts:m}=e,C=null!==(t=null==p?void 0:p.statusTypeDesc)&&void 0!==t?t:"",b=Object(f.a)(m.map(({cargo:e})=>{var t,a;return null!==(a=null===(t=null==e?void 0:e.commodity)||void 0===t?void 0:t.commodityName)&&void 0!==a?a:""}).filter(Boolean)),T=Object(f.a)(m.map(e=>{var t,a;return null!==(a=null===(t=e.reasonForCall)||void 0===t?void 0:t.reasonForCallDesc)&&void 0!==a?a:""}).filter(Boolean)),O=Object(f.a)(m.map(({port:e})=>{var t;return null!==(t=null==e?void 0:e.portName)&&void 0!==t?t:""}).filter(Boolean)),E=r.a.createElement(I.a,{label:C,priority:v.a.getStatusPriority(C,y.a.laytimecalculation)});return[null!==(o=null===(a=null==c?void 0:c.vessel)||void 0===a?void 0:a.vesselName)&&void 0!==o?o:"",null!==(l=null===(n=null==c?void 0:c.voyageHeader)||void 0===n?void 0:n.referenceNo)&&void 0!==l?l:"",null!==(i=null==u?void 0:u.businessPartnerName)&&void 0!==i?i:"",N.a.getMultipleString(T),N.a.getMultipleString(O),N.a.getMultipleString(b),null!==(s=null==d?void 0:d.userName)&&void 0!==s?s:"",{content:E,rawValue:C}]},k=[{content:j.vessel,contentType:E.a.TEXT,sortConfig:D.vessel},{content:j.voyage,contentType:E.a.TEXT,sortConfig:D.voyage},{content:j.charterer,contentType:E.a.TEXT,sortConfig:D.charterer},{content:j.reasonForCall,contentType:E.a.TEXT},{content:j.port,contentType:E.a.TEXT},{content:j.commodity,contentType:E.a.TEXT},{content:j.responsible,contentType:E.a.TEXT,sortConfig:D.responsible},{content:h.status,contentType:E.a.ELEMENT,sortConfig:D.status,alignHeaderContent:E.c.LEFT}];var q=a(858),F=a(46),M=a(95),x=a(4),V=a(24),Y=a(43),H=a(32),B=a(86),K=a(96),w=a(165);function z(e,t,a){return[Object(w.a)(x.c.GROUP_START,e,"MY_CALCULATIONS_GROUP_START"),{queryParamName:"responsible",field:"responsibleId",value:a,filterGroupCode:e,operator:x.c.EQUALS,type:x.d.STRING,filterCode:"responsible",resolveField:"responsible"},Object(w.a)(x.c.OR,e,"MY_CALCULATIONS_OR1"),{queryParamName:t+".charteringResponsible",field:"charteringId",value:a,filterGroupCode:e,operator:x.c.EQUALS,type:x.d.STRING,filterCode:"chartering",resolveField:t+".charteringResponsible"},Object(w.a)(x.c.OR,e,"MY_CALCULATIONS_OR2"),{queryParamName:t+".operator",field:"operatorId",value:a,filterGroupCode:e,operator:x.c.EQUALS,type:x.d.STRING,filterCode:"operator",resolveField:t+".operator"},Object(w.a)(x.c.OR,e,"MY_CALCULATIONS_OR3"),{queryParamName:t+".claimsOperator",field:"claimOperatorId",value:a,filterGroupCode:e,operator:x.c.EQUALS,type:x.d.STRING,filterCode:"claimOperator",resolveField:t+".claimsOperator"},Object(w.a)(x.c.OR,e,"MY_CALCULATIONS_OR4"),{queryParamName:t+".accountantResponsible",field:"accountantId",value:a,filterGroupCode:e,operator:x.c.EQUALS,type:x.d.STRING,filterCode:"accountant",resolveField:t+".accountantResponsible"},Object(w.a)(x.c.GROUP_END,e,"MY_CALCULATIONS_GROUP_END")]}const Q=P.a.get(C.a.IInternationalization),{common:X,model:W}=Q.lang(),Z=e=>{const t={field:"charterer.key",filterGroupCode:e,operator:x.c.IN,type:x.d.STRING};return[{label:W.charterer,filterObjectValuePath:"key",typeaheadProps:{type:y.a.businesspartner,objectPaths:B.b.businessPartner,includeDisabledQuery:!0,query:K.b},filters:[t]}]},J=(e,t)=>[{label:Q.lang().laytimeCalculations.myCalculations,filters:z(e,"voyage.voyageHeader",t)}],$=e=>{const t={field:"responsible.key",filterGroupCode:e,operator:x.c.IN,type:x.d.STRING};return[{label:W.responsible,filterObjectValuePath:"key",typeaheadProps:{type:y.a.user,objectPaths:["userName"]},filters:[t]}]},ee=e=>{const t={field:"status.key",filterGroupCode:e,operator:x.c.IN,type:x.d.STRING};return[{label:X.status,filterObjectValuePath:"key",typeaheadProps:{type:y.a.statustype,objectPaths:["statusTypeDesc"],query:"filter=statusClass.statusClassCode(EQ)LAY",shouldPreload:!0},filters:[t]}]},te=e=>{const t={field:"voyage.vessel.key",filterGroupCode:e,operator:x.c.IN,type:x.d.STRING};return[{label:W.vessel,filterObjectValuePath:"key",typeaheadProps:{type:y.a.vessel,objectPaths:["vesselName"],includeDisabledQuery:!0},filters:[t]}]},ae=e=>{const t={field:"voyage.key",filterGroupCode:e,operator:x.c.IN,type:x.d.STRING};return[{label:W.voyage,filterObjectValuePath:"key",typeaheadProps:{type:y.a.voyage,objectPaths:["voyageHeader.referenceNo"],shouldPreload:!0},filters:[t]}]};var oe=a(23);function re({reactKeyPrefix:e}){var t;const a=P.a.get(C.a.IInternationalization),o=null!==(t=Object(oe.a)(H.a))&&void 0!==t?t:new Y.a({}),{common:n,model:l}=a.lang();return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{reactKeyPrefix:e+"-my-calculations",configs:J("LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE",o.key),type:x.b.BOOLEAN,label:a.lang().laytimeCalculations.myCalculations,filterCode:"LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE_MY_CALCULATIONS",clearOnMount:!1}),r.a.createElement(V.a,{reactKeyPrefix:e+"-status",configs:ee("LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE"),type:x.b.TYPEAHEAD,label:n.status,filterCode:"LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE_STATUS",clearOnMount:!1}),r.a.createElement(V.a,{reactKeyPrefix:e+"-vessel",configs:te("LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE"),type:x.b.TYPEAHEAD,label:l.vessel,filterCode:"LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE_VESSEL",clearOnMount:!1}),r.a.createElement(V.a,{reactKeyPrefix:e+"-charterer",configs:Z("LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE"),type:x.b.TYPEAHEAD,label:l.charterer,filterCode:"LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE_CHARTERER",clearOnMount:!1}),r.a.createElement(V.a,{reactKeyPrefix:e+"-voyage",configs:ae("LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE"),type:x.b.TYPEAHEAD,label:l.voyage,filterCode:"LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE_VOYAGE",clearOnMount:!1}),r.a.createElement(V.a,{reactKeyPrefix:e+"-responsible",configs:$("LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE"),type:x.b.TYPEAHEAD,label:l.responsible,filterCode:"LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE_RESPONSIBLE",clearOnMount:!1}))}const ne={authorizationType:m.a.PERMISSION,authorizedPermissions:p.a.laytimeCalculations.authorizedPermissions,behaviorOnAuthorizationFail:u.a.REDIRECT_NO_AUTHORIZATION};function le(){Object(c.b)(ne);const e=Object(n.g)(),t=Object(n.h)(),[a]=Object(d.a)([C.a.IInternationalization]),{laytimeCalculations:{createLaytimeCalculation:u}}=a.lang(),[p,m]=Object(o.useState)(!1),[f,v]=Object(o.useState)(!1),I=Object(o.useRef)(f),E=Object(o.useCallback)(()=>m(!p),[p]),N=Object(o.useCallback)(a=>{T.a.openDrawer(a,b.a.laytimeCalculationDrawer,t,e)},[t,e]),P=Object(o.useCallback)((e,t)=>{t&&(N(t.key),F.a.next())},[N]),g=[{onClick:E,text:u}];Object(o.useCallback)(()=>{v(!I.current)},[I,v]);Object(o.useEffect)(()=>{I.current=f},[f]);a.lang().common.bulkUpdate,M.a.LAYTIME_CALCULATION_CONTRIBUTOR;return r.a.createElement(s.a,{reactKeyPrefix:"doc-modules-laytime-calculations-list-page",createObject:g},r.a.createElement(i.a,{quickFilters:r.a.createElement(re,{reactKeyPrefix:"doc-modules-laytime-calculations-list-page-quickfilter"}),quickFiltersGroupCode:"LAYTIME_CALCULATIONS_LIST_FILTER_GROUP_CODE",getColSpec:U,tsmodelType:y.a.laytimecalculation,fields:l.b,listId:"LAYTIME_CALCULATION_LIST_ID",reactKeyPrefix:"doc-modules-laytime-calculations-list-page-tsmodel-list",tableHeaders:k,onClickItem:N,defaultSorts:R,sortOptions:Object.values(D),enableBulkUpdate:f,tableCustomisation:{disableCardSorting:!0,disableSorting:!1}}),r.a.createElement(q.b,{reactKeyPrefix:"doc-modules-laytime-calculations-list-page-create-modal",onCloseModal:E,open:p,onCreate:P}),r.a.createElement(O.a,null))}},1931:function(e,t,a){"use strict";a.d(t,"a",(function(){return z}));a(10),a(11);var o=a(0),r=a.n(o),n=a(97),l=a(61),i=a(73),s=a(1),c=a(33),u=a(15),d=a(80),y=a(27),p=a(65),m=a(41),C=a(76),b=a(6),T=a(3),O=a(46),f=a(66),v=a(30),I=a(23),E=a(32),N=a(43);const P={laytimeTerms:"*",laytimeTermsCode:"*",daysCorrectionFactor:"*"};a(93);var g=a(14),S=a(16);const _=g.a.get(T.a.IInternationalization),{common:A,model:L}=_.getLanguageFile(),R="LAYTIME_TERMS_LIST_SORT_GROUP_CODE",D=[{field:A.description,groupCode:R,operator:S.b.ASC,queryParamName:"laytimeTerms"}],G=[{field:A.description,groupCode:R,operator:S.b.ASC,queryParamName:"laytimeTerms"},{field:A.code,groupCode:R,operator:S.b.ASC,queryParamName:"laytimeTermsCode"},{field:L.daysCorrectionFactor,groupCode:R,operator:S.b.ASC,queryParamName:"daysCorrectionFactor"}];var j=a(5);const h=g.a.get(T.a.IInternationalization),{common:U,model:k}=h.getLanguageFile(),q=[{content:U.description,contentType:j.a.TEXT},{content:U.code,contentType:j.a.TEXT},{content:k.daysCorrectionFactor,contentType:j.a.NUMBER}],F=({laytimeTerms:e,laytimeTermsCode:t,daysCorrectionFactor:a})=>[e,t,a];var M=a(24),x=a(4);const V=g.a.get(T.a.IInternationalization),{common:Y}=V.lang(),H=e=>({label:Y.disabled,filters:[{field:"isObjectActive",filterGroupCode:e,operator:x.c.NOT_EQUALS,queryParamName:"isObjectActive",type:x.d.BOOLEAN,value:!0}]}),B=({reactKeyPrefix:e,filterGroupCode:t})=>r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{reactKeyPrefix:e+"-disabled",configs:[H(t)],type:x.b.BOOLEAN,label:Y.disabled,filterCode:t+"_DISABLED"}));var K=a(2023);const w={authorizationType:m.a.PERMISSION,authorizedPermissions:c.a.laytimeTerms.authorizedPermissions,behaviorOnAuthorizationFail:p.a.REDIRECT_NO_AUTHORIZATION};function z(){var e;Object(C.b)(w);const[t,a]=Object(o.useState)(!1),c=Object(o.useCallback)(()=>a(e=>!e),[]),[p]=Object(b.a)([T.a.IInternationalization]),{common:m}=p.getLanguageFile(),g=null!==(e=Object(I.a)(E.a))&&void 0!==e?e:new N.a({}),S=[{onClick:c,text:m.createLaytimeTerms,disabled:!Object(f.a)([v.a.LaytimeTermsPOST],g)}],_=Object(n.g)(),A=Object(n.h)(),L=Object(o.useCallback)(e=>y.a.openDrawer(e,u.a.laytimeTermsDrawer,A,_),[_,A]),R=Object(o.useCallback)((e,{key:t})=>{t&&(L(t),O.a.next())},[L]);return r.a.createElement(i.a,{reactKeyPrefix:"doc-modules-laytime-terms-pages-list-page",createObject:S},t&&r.a.createElement(K.a,{reactKeyPrefix:"doc-modules-laytime-terms-pages-list-create",showModal:t,closeModal:c,onCreate:R}),r.a.createElement(l.a,{fields:P,listId:"LAYTIME_TERMS_TERMS_LIST_ID",reactKeyPrefix:"doc-modules-laytime-terms-pages-list-tsmodel-list",defaultSorts:D,sortOptions:G,tsmodelType:s.a.laytimeterms,tableHeaders:q,getColSpec:F,quickFilters:r.a.createElement(B,{reactKeyPrefix:"doc-modules-laytime-terms-pages-list-filters",filterGroupCode:"LAYTIME_TERMS_LIST_FILTER_GROUP_CODE"}),onClickItem:L,quickFiltersGroupCode:"LAYTIME_TERMS_LIST_FILTER_GROUP_CODE"}),r.a.createElement(d.a,null))}}}]);